/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
(function(a8,aL){var an,D,aH=typeof aL,aQ=a8.location,q=a8.document,b2=q.documentElement,bo=a8.jQuery,N=a8.$,af={},bc=[],z="1.10.2",aN=bc.concat,au=bc.push,ba=bc.slice,aR=bc.indexOf,F=af.toString,aa=af.hasOwnProperty,aV=z.trim,bP=function(ca,cb){return new bP.fn.init(ca,cb,D)},bG=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ah=/\S+/g,I=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bx=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bn=/^[\],:{}\s]*$/,bq=/(?:^|:|,)(?:\s*\[)+/g,bM=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a4=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bY=/^-ms-/,a0=/-([\da-z])/gi,R=function(ca,cb){return cb.toUpperCase()},b3=function(ca){if(q.addEventListener||ca.type==="load"||q.readyState==="complete"){br();bP.ready()}},br=function(){if(q.addEventListener){q.removeEventListener("DOMContentLoaded",b3,false);a8.removeEventListener("load",b3,false)}else{q.detachEvent("onreadystatechange",b3);a8.detachEvent("onload",b3)}};bP.fn=bP.prototype={jquery:z,constructor:bP,init:function(ca,cd,cc){var cb,ce;if(!ca){return this}if(typeof ca==="string"){if(ca.charAt(0)==="<"&&ca.charAt(ca.length-1)===">"&&ca.length>=3){cb=[null,ca,null]}else{cb=bx.exec(ca)}if(cb&&(cb[1]||!cd)){if(cb[1]){cd=cd instanceof bP?cd[0]:cd;bP.merge(this,bP.parseHTML(cb[1],cd&&cd.nodeType?cd.ownerDocument||cd:q,true));if(a.test(cb[1])&&bP.isPlainObject(cd)){for(cb in cd){if(bP.isFunction(this[cb])){this[cb](cd[cb])}else{this.attr(cb,cd[cb])}}}return this}else{ce=q.getElementById(cb[2]);if(ce&&ce.parentNode){if(ce.id!==cb[2]){return cc.find(ca)}this.length=1;this[0]=ce}this.context=q;this.selector=ca;return this}}else{if(!cd||cd.jquery){return(cd||cc).find(ca)}else{return this.constructor(cd).find(ca)}}}else{if(ca.nodeType){this.context=this[0]=ca;this.length=1;return this}else{if(bP.isFunction(ca)){return cc.ready(ca)}}}if(ca.selector!==aL){this.selector=ca.selector;this.context=ca.context}return bP.makeArray(ca,this)},selector:"",length:0,toArray:function(){return ba.call(this)},get:function(ca){return ca==null?this.toArray():(ca<0?this[this.length+ca]:this[ca])},pushStack:function(ca){var cb=bP.merge(this.constructor(),ca);cb.prevObject=this;cb.context=this.context;return cb},each:function(cb,ca){return bP.each(this,cb,ca)},ready:function(ca){bP.ready.promise().done(ca);return this},slice:function(){return this.pushStack(ba.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(cc){var ca=this.length,cb=+cc+(cc<0?ca:0);return this.pushStack(cb>=0&&cb<ca?[this[cb]]:[])},map:function(ca){return this.pushStack(bP.map(this,function(cc,cb){return ca.call(cc,cb,cc)}))},end:function(){return this.prevObject||this.constructor(null)},push:au,sort:[].sort,splice:[].splice};bP.fn.init.prototype=bP.fn;bP.extend=bP.fn.extend=function(){var ca,cg,cb,cc,cj,ch,cf=arguments[0]||{},ce=1,cd=arguments.length,ci=false;if(typeof cf==="boolean"){ci=cf;cf=arguments[1]||{};ce=2}if(typeof cf!=="object"&&!bP.isFunction(cf)){cf={}}if(cd===ce){cf=this;--ce}for(;ce<cd;ce++){if((cj=arguments[ce])!=null){for(cc in cj){ca=cf[cc];cb=cj[cc];if(cf===cb){continue}if(ci&&cb&&(bP.isPlainObject(cb)||(cg=bP.isArray(cb)))){if(cg){cg=false;ch=ca&&bP.isArray(ca)?ca:[]}else{ch=ca&&bP.isPlainObject(ca)?ca:{}}cf[cc]=bP.extend(ci,ch,cb)}else{if(cb!==aL){cf[cc]=cb}}}}}return cf};bP.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),noConflict:function(ca){if(a8.$===bP){a8.$=N}if(ca&&a8.jQuery===bP){a8.jQuery=bo}return bP},isReady:false,readyWait:1,holdReady:function(ca){if(ca){bP.readyWait++}else{bP.ready(true)}},ready:function(ca){if(ca===true?--bP.readyWait:bP.isReady){return}if(!q.body){return setTimeout(bP.ready)}bP.isReady=true;if(ca!==true&&--bP.readyWait>0){return}an.resolveWith(q,[bP]);if(bP.fn.trigger){bP(q).trigger("ready").off("ready")}},isFunction:function(ca){return bP.type(ca)==="function"},isArray:Array.isArray||function(ca){return bP.type(ca)==="array"},isWindow:function(ca){return ca!=null&&ca==ca.window},isNumeric:function(ca){return !isNaN(parseFloat(ca))&&isFinite(ca)},type:function(ca){if(ca==null){return String(ca)}return typeof ca==="object"||typeof ca==="function"?af[F.call(ca)]||"object":typeof ca},isPlainObject:function(cc){var ca;if(!cc||bP.type(cc)!=="object"||cc.nodeType||bP.isWindow(cc)){return false}try{if(cc.constructor&&!aa.call(cc,"constructor")&&!aa.call(cc.constructor.prototype,"isPrototypeOf")){return false}}catch(cb){return false}if(bP.support.ownLast){for(ca in cc){return aa.call(cc,ca)}}for(ca in cc){}return ca===aL||aa.call(cc,ca)},isEmptyObject:function(cb){var ca;for(ca in cb){return false}return true},error:function(ca){throw new Error(ca)},parseHTML:function(ce,cc,cd){if(!ce||typeof ce!=="string"){return null}if(typeof cc==="boolean"){cd=cc;cc=false}cc=cc||q;var cb=a.exec(ce),ca=!cd&&[];if(cb){return[cc.createElement(cb[1])]}cb=bP.buildFragment([ce],cc,ca);if(ca){bP(ca).remove()}return bP.merge([],cb.childNodes)},parseJSON:function(ca){if(a8.JSON&&a8.JSON.parse){return a8.JSON.parse(ca)}if(ca===null){return ca}if(typeof ca==="string"){ca=bP.trim(ca);if(ca){if(bn.test(ca.replace(bM,"@").replace(a4,"]").replace(bq,""))){return(new Function("return "+ca))()}}}bP.error("Invalid JSON: "+ca)},parseXML:function(cc){var ca,cb;if(!cc||typeof cc!=="string"){return null}try{if(a8.DOMParser){cb=new DOMParser();ca=cb.parseFromString(cc,"text/xml")}else{ca=new ActiveXObject("Microsoft.XMLDOM");ca.async="false";ca.loadXML(cc)}}catch(cd){ca=aL}if(!ca||!ca.documentElement||ca.getElementsByTagName("parsererror").length){bP.error("Invalid XML: "+cc)}return ca},noop:function(){},globalEval:function(ca){if(ca&&bP.trim(ca)){(a8.execScript||function(cb){a8["eval"].call(a8,cb)})(ca)}},camelCase:function(ca){return ca.replace(bY,"ms-").replace(a0,R)},nodeName:function(cb,ca){return cb.nodeName&&cb.nodeName.toLowerCase()===ca.toLowerCase()},each:function(cf,cg,cb){var ce,cc=0,cd=cf.length,ca=ag(cf);if(cb){if(ca){for(;cc<cd;cc++){ce=cg.apply(cf[cc],cb);if(ce===false){break}}}else{for(cc in cf){ce=cg.apply(cf[cc],cb);if(ce===false){break}}}}else{if(ca){for(;cc<cd;cc++){ce=cg.call(cf[cc],cc,cf[cc]);if(ce===false){break}}}else{for(cc in cf){ce=cg.call(cf[cc],cc,cf[cc]);if(ce===false){break}}}}return cf},trim:aV&&!aV.call("\uFEFF\xA0")?function(ca){return ca==null?"":aV.call(ca)}:function(ca){return ca==null?"":(ca+"").replace(I,"")},makeArray:function(ca,cc){var cb=cc||[];if(ca!=null){if(ag(Object(ca))){bP.merge(cb,typeof ca==="string"?[ca]:ca)}else{au.call(cb,ca)}}return cb},inArray:function(cd,cb,cc){var ca;if(cb){if(aR){return aR.call(cb,cd,cc)}ca=cb.length;cc=cc?cc<0?Math.max(0,ca+cc):cc:0;for(;cc<ca;cc++){if(cc in cb&&cb[cc]===cd){return cc}}}return -1},merge:function(ce,cc){var ca=cc.length,cd=ce.length,cb=0;if(typeof ca==="number"){for(;cb<ca;cb++){ce[cd++]=cc[cb]}}else{while(cc[cb]!==aL){ce[cd++]=cc[cb++]}}ce.length=cd;return ce},grep:function(cb,cg,ca){var cf,cc=[],cd=0,ce=cb.length;ca=!!ca;for(;cd<ce;cd++){cf=!!cg(cb[cd],cd);if(ca!==cf){cc.push(cb[cd])}}return cc},map:function(cc,ch,ca){var cg,ce=0,cf=cc.length,cb=ag(cc),cd=[];if(cb){for(;ce<cf;ce++){cg=ch(cc[ce],ce,ca);if(cg!=null){cd[cd.length]=cg}}}else{for(ce in cc){cg=ch(cc[ce],ce,ca);if(cg!=null){cd[cd.length]=cg}}}return aN.apply([],cd)},guid:1,proxy:function(ce,cd){var ca,cc,cb;if(typeof cd==="string"){cb=ce[cd];cd=ce;ce=cb}if(!bP.isFunction(ce)){return aL}ca=ba.call(arguments,2);cc=function(){return ce.apply(cd||this,ca.concat(ba.call(arguments)))};cc.guid=ce.guid=ce.guid||bP.guid++;return cc},access:function(ca,cf,ch,cg,cd,cj,ci){var cc=0,cb=ca.length,ce=ch==null;if(bP.type(ch)==="object"){cd=true;for(cc in ch){bP.access(ca,cf,cc,ch[cc],true,cj,ci)}}else{if(cg!==aL){cd=true;if(!bP.isFunction(cg)){ci=true}if(ce){if(ci){cf.call(ca,cg);cf=null}else{ce=cf;cf=function(cl,ck,cm){return ce.call(bP(cl),cm)}}}if(cf){for(;cc<cb;cc++){cf(ca[cc],ch,ci?cg:cg.call(ca[cc],cc,cf(ca[cc],ch)))}}}}return cd?ca:ce?cf.call(ca):cb?cf(ca[0],ch):cj},now:function(){return(new Date()).getTime()},swap:function(cf,ce,cg,cd){var cc,cb,ca={};for(cb in ce){ca[cb]=cf.style[cb];cf.style[cb]=ce[cb]}cc=cg.apply(cf,cd||[]);for(cb in ce){cf.style[cb]=ca[cb]}return cc}});bP.ready.promise=function(cd){if(!an){an=bP.Deferred();if(q.readyState==="complete"){setTimeout(bP.ready)}else{if(q.addEventListener){q.addEventListener("DOMContentLoaded",b3,false);a8.addEventListener("load",b3,false)}else{q.attachEvent("onreadystatechange",b3);a8.attachEvent("onload",b3);var cc=false;try{cc=a8.frameElement==null&&q.documentElement}catch(cb){}if(cc&&cc.doScroll){(function ca(){if(!bP.isReady){try{cc.doScroll("left")}catch(ce){return setTimeout(ca,50)}br();bP.ready()}})()}}}}return an.promise(cd)};bP.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(cb,ca){af["[object "+ca+"]"]=ca.toLowerCase()});function ag(cc){var cb=cc.length,ca=bP.type(cc);if(bP.isWindow(cc)){return false}if(cc.nodeType===1&&cb){return true}return ca==="array"||ca!=="function"&&(cb===0||typeof cb==="number"&&cb>0&&(cb-1) in cc)}D=bP(q);
/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
(function(dj,co){var cD,dm,cj,ct,cM,cP,c0,dr,cN,c3,cH,cu,dc,c7,dk,ci,cK,de="sizzle"+-(new Date()),cO=dj.document,dn=0,c8=0,cd=cF(),dd=cF(),cL=cF(),c1=false,cJ=function(dt,ds){if(dt===ds){c1=true;return 0}return 0},di=typeof co,cV=1<<31,cT=({}).hasOwnProperty,dg=[],dh=dg.pop,cR=dg.push,cb=dg.push,cs=dg.slice,ch=dg.indexOf||function(du){var dt=0,ds=this.length;for(;dt<ds;dt++){if(this[dt]===du){return dt}}return -1},cc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cv="[\\x20\\t\\r\\n\\f]",ca="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cQ=ca.replace("w","w#"),da="\\["+cv+"*("+ca+")"+cv+"*(?:([*^$|!~]?=)"+cv+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cQ+")|)|)"+cv+"*\\]",cq=":("+ca+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+da.replace(3,8)+")*)|.*)\\)|)",cx=new RegExp("^"+cv+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cv+"+$","g"),cA=new RegExp("^"+cv+"*,"+cv+"*"),cG=new RegExp("^"+cv+"*([>+~]|"+cv+")"+cv+"*"),c5=new RegExp(cv+"*[+~]"),cz=new RegExp("="+cv+"*([^\\]'\"]*)"+cv+"*\\]","g"),cX=new RegExp(cq),cY=new RegExp("^"+cQ+"$"),c6={ID:new RegExp("^#("+ca+")"),CLASS:new RegExp("^\\.("+ca+")"),TAG:new RegExp("^("+ca.replace("w","w*")+")"),ATTR:new RegExp("^"+da),PSEUDO:new RegExp("^"+cq),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cv+"*(even|odd|(([+-]|)(\\d*)n|)"+cv+"*(?:([+-]|)"+cv+"*(\\d+)|))"+cv+"*\\)|)","i"),bool:new RegExp("^(?:"+cc+")$","i"),needsContext:new RegExp("^"+cv+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cv+"*((?:-\\d)?\\d*)"+cv+"*\\)|)(?=[^-]|$)","i")},cU=/^[^{]+\{\s*\[native \w/,cW=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cg=/^(?:input|select|textarea|button)$/i,cr=/^h\d$/i,cS=/'|\\/g,cy=new RegExp("\\\\([\\da-f]{1,6}"+cv+"?|("+cv+")|.)","ig"),c9=function(ds,dv,dt){var du="0x"+dv-65536;return du!==du||dt?dv:du<0?String.fromCharCode(du+65536):String.fromCharCode(du>>10|55296,du&1023|56320)};try{cb.apply((dg=cs.call(cO.childNodes)),cO.childNodes);dg[cO.childNodes.length].nodeType}catch(cI){cb={apply:dg.length?function(dt,ds){cR.apply(dt,cs.call(ds))}:function(dv,du){var ds=dv.length,dt=0;while((dv[ds++]=du[dt++])){}dv.length=ds-1}}}function cB(dA,dt,dE,dG){var dF,dx,dy,dC,dD,dw,dv,ds,du,dB;if((dt?dt.ownerDocument||dt:cO)!==cH){c3(dt)}dt=dt||cH;dE=dE||[];if(!dA||typeof dA!=="string"){return dE}if((dC=dt.nodeType)!==1&&dC!==9){return[]}if(dc&&!dG){if((dF=cW.exec(dA))){if((dy=dF[1])){if(dC===9){dx=dt.getElementById(dy);if(dx&&dx.parentNode){if(dx.id===dy){dE.push(dx);return dE}}else{return dE}}else{if(dt.ownerDocument&&(dx=dt.ownerDocument.getElementById(dy))&&cK(dt,dx)&&dx.id===dy){dE.push(dx);return dE}}}else{if(dF[2]){cb.apply(dE,dt.getElementsByTagName(dA));return dE}else{if((dy=dF[3])&&dm.getElementsByClassName&&dt.getElementsByClassName){cb.apply(dE,dt.getElementsByClassName(dy));return dE}}}}if(dm.qsa&&(!c7||!c7.test(dA))){ds=dv=de;du=dt;dB=dC===9&&dA;if(dC===1&&dt.nodeName.toLowerCase()!=="object"){dw=cm(dA);if((dv=dt.getAttribute("id"))){ds=dv.replace(cS,"\\$&")}else{dt.setAttribute("id",ds)}ds="[id='"+ds+"'] ";dD=dw.length;while(dD--){dw[dD]=ds+cn(dw[dD])}du=c5.test(dA)&&dt.parentNode||dt;dB=dw.join(",")}if(dB){try{cb.apply(dE,du.querySelectorAll(dB));return dE}catch(dz){}finally{if(!dv){dt.removeAttribute("id")}}}}}return dl(dA.replace(cx,"$1"),dt,dE,dG)}function cF(){var dt=[];function ds(du,dv){if(dt.push(du+=" ")>ct.cacheLength){delete ds[dt.shift()]}return(ds[du]=dv)}return ds}function cp(ds){ds[de]=true;return ds}function ck(ds){var du=cH.createElement("div");try{return !!ds(du)}catch(dt){return false}finally{if(du.parentNode){du.parentNode.removeChild(du)}du=null}}function dp(dt,dv){var ds=dt.split("|"),du=dt.length;while(du--){ct.attrHandle[ds[du]]=dv}}function ce(dt,ds){var dv=ds&&dt,du=dv&&dt.nodeType===1&&ds.nodeType===1&&(~ds.sourceIndex||cV)-(~dt.sourceIndex||cV);if(du){return du}if(dv){while((dv=dv.nextSibling)){if(dv===ds){return -1}}}return dt?1:-1}function cC(ds){return function(du){var dt=du.nodeName.toLowerCase();return dt==="input"&&du.type===ds}}function cf(ds){return function(du){var dt=du.nodeName.toLowerCase();return(dt==="input"||dt==="button")&&du.type===ds}}function db(ds){return cp(function(dt){dt=+dt;return cp(function(du,dy){var dw,dv=ds([],du.length,dt),dx=dv.length;while(dx--){if(du[(dw=dv[dx])]){du[dw]=!(dy[dw]=du[dw])}}})})}cP=cB.isXML=function(ds){var dt=ds&&(ds.ownerDocument||ds).documentElement;return dt?dt.nodeName!=="HTML":false};dm=cB.support={};c3=cB.setDocument=function(dt){var du=dt?dt.ownerDocument||dt:cO,ds=du.defaultView;if(du===cH||du.nodeType!==9||!du.documentElement){return cH}cH=du;cu=du.documentElement;dc=!cP(du);if(ds&&ds.attachEvent&&ds!==ds.top){ds.attachEvent("onbeforeunload",function(){c3()})}dm.attributes=ck(function(dv){dv.className="i";return !dv.getAttribute("className")});dm.getElementsByTagName=ck(function(dv){dv.appendChild(du.createComment(""));return !dv.getElementsByTagName("*").length});dm.getElementsByClassName=ck(function(dv){dv.innerHTML="<div class='a'></div><div class='a i'></div>";dv.firstChild.className="i";return dv.getElementsByClassName("i").length===2});dm.getById=ck(function(dv){cu.appendChild(dv).id=de;return !du.getElementsByName||!du.getElementsByName(de).length});if(dm.getById){ct.find.ID=function(dx,dw){if(typeof dw.getElementById!==di&&dc){var dv=dw.getElementById(dx);return dv&&dv.parentNode?[dv]:[]}};ct.filter.ID=function(dw){var dv=dw.replace(cy,c9);return function(dx){return dx.getAttribute("id")===dv}}}else{delete ct.find.ID;ct.filter.ID=function(dw){var dv=dw.replace(cy,c9);return function(dy){var dx=typeof dy.getAttributeNode!==di&&dy.getAttributeNode("id");return dx&&dx.value===dv}}}ct.find.TAG=dm.getElementsByTagName?function(dv,dw){if(typeof dw.getElementsByTagName!==di){return dw.getElementsByTagName(dv)}}:function(dv,dz){var dA,dy=[],dx=0,dw=dz.getElementsByTagName(dv);if(dv==="*"){while((dA=dw[dx++])){if(dA.nodeType===1){dy.push(dA)}}return dy}return dw};ct.find.CLASS=dm.getElementsByClassName&&function(dw,dv){if(typeof dv.getElementsByClassName!==di&&dc){return dv.getElementsByClassName(dw)}};dk=[];c7=[];if((dm.qsa=cU.test(du.querySelectorAll))){ck(function(dv){dv.innerHTML="<select><option selected=''></option></select>";if(!dv.querySelectorAll("[selected]").length){c7.push("\\["+cv+"*(?:value|"+cc+")")}if(!dv.querySelectorAll(":checked").length){c7.push(":checked")}});ck(function(dw){var dv=du.createElement("input");dv.setAttribute("type","hidden");dw.appendChild(dv).setAttribute("t","");if(dw.querySelectorAll("[t^='']").length){c7.push("[*^$]="+cv+"*(?:''|\"\")")}if(!dw.querySelectorAll(":enabled").length){c7.push(":enabled",":disabled")}dw.querySelectorAll("*,:x");c7.push(",.*:")})}if((dm.matchesSelector=cU.test((ci=cu.webkitMatchesSelector||cu.mozMatchesSelector||cu.oMatchesSelector||cu.msMatchesSelector)))){ck(function(dv){dm.disconnectedMatch=ci.call(dv,"div");ci.call(dv,"[s!='']:x");dk.push("!=",cq)})}c7=c7.length&&new RegExp(c7.join("|"));dk=dk.length&&new RegExp(dk.join("|"));cK=cU.test(cu.contains)||cu.compareDocumentPosition?function(dw,dv){var dy=dw.nodeType===9?dw.documentElement:dw,dx=dv&&dv.parentNode;return dw===dx||!!(dx&&dx.nodeType===1&&(dy.contains?dy.contains(dx):dw.compareDocumentPosition&&dw.compareDocumentPosition(dx)&16))}:function(dw,dv){if(dv){while((dv=dv.parentNode)){if(dv===dw){return true}}}return false};cJ=cu.compareDocumentPosition?function(dw,dv){if(dw===dv){c1=true;return 0}var dx=dv.compareDocumentPosition&&dw.compareDocumentPosition&&dw.compareDocumentPosition(dv);if(dx){if(dx&1||(!dm.sortDetached&&dv.compareDocumentPosition(dw)===dx)){if(dw===du||cK(cO,dw)){return -1}if(dv===du||cK(cO,dv)){return 1}return cN?(ch.call(cN,dw)-ch.call(cN,dv)):0}return dx&4?-1:1}return dw.compareDocumentPosition?-1:1}:function(dw,dv){var dC,dz=0,dB=dw.parentNode,dy=dv.parentNode,dx=[dw],dA=[dv];if(dw===dv){c1=true;return 0}else{if(!dB||!dy){return dw===du?-1:dv===du?1:dB?-1:dy?1:cN?(ch.call(cN,dw)-ch.call(cN,dv)):0}else{if(dB===dy){return ce(dw,dv)}}}dC=dw;while((dC=dC.parentNode)){dx.unshift(dC)}dC=dv;while((dC=dC.parentNode)){dA.unshift(dC)}while(dx[dz]===dA[dz]){dz++}return dz?ce(dx[dz],dA[dz]):dx[dz]===cO?-1:dA[dz]===cO?1:0};return du};cB.matches=function(dt,ds){return cB(dt,null,null,ds)};cB.matchesSelector=function(dt,dv){if((dt.ownerDocument||dt)!==cH){c3(dt)}dv=dv.replace(cz,"='$1']");if(dm.matchesSelector&&dc&&(!dk||!dk.test(dv))&&(!c7||!c7.test(dv))){try{var ds=ci.call(dt,dv);if(ds||dm.disconnectedMatch||dt.document&&dt.document.nodeType!==11){return ds}}catch(du){}}return cB(dv,cH,null,[dt]).length>0};cB.contains=function(ds,dt){if((ds.ownerDocument||ds)!==cH){c3(ds)}return cK(ds,dt)};cB.attr=function(du,ds){if((du.ownerDocument||du)!==cH){c3(du)}var dt=ct.attrHandle[ds.toLowerCase()],dv=dt&&cT.call(ct.attrHandle,ds.toLowerCase())?dt(du,ds,!dc):co;return dv===co?dm.attributes||!dc?du.getAttribute(ds):(dv=du.getAttributeNode(ds))&&dv.specified?dv.value:null:dv};cB.error=function(ds){throw new Error("Syntax error, unrecognized expression: "+ds)};cB.uniqueSort=function(du){var dv,dw=[],ds=0,dt=0;c1=!dm.detectDuplicates;cN=!dm.sortStable&&du.slice(0);du.sort(cJ);if(c1){while((dv=du[dt++])){if(dv===du[dt]){ds=dw.push(dt)}}while(ds--){du.splice(dw[ds],1)}}return du};cM=cB.getText=function(dw){var dv,dt="",du=0,ds=dw.nodeType;if(!ds){for(;(dv=dw[du]);du++){dt+=cM(dv)}}else{if(ds===1||ds===9||ds===11){if(typeof dw.textContent==="string"){return dw.textContent}else{for(dw=dw.firstChild;dw;dw=dw.nextSibling){dt+=cM(dw)}}}else{if(ds===3||ds===4){return dw.nodeValue}}}return dt};ct=cB.selectors={cacheLength:50,createPseudo:cp,match:c6,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ds){ds[1]=ds[1].replace(cy,c9);ds[3]=(ds[4]||ds[5]||"").replace(cy,c9);if(ds[2]==="~="){ds[3]=" "+ds[3]+" "}return ds.slice(0,4)},CHILD:function(ds){ds[1]=ds[1].toLowerCase();if(ds[1].slice(0,3)==="nth"){if(!ds[3]){cB.error(ds[0])}ds[4]=+(ds[4]?ds[5]+(ds[6]||1):2*(ds[3]==="even"||ds[3]==="odd"));ds[5]=+((ds[7]+ds[8])||ds[3]==="odd")}else{if(ds[3]){cB.error(ds[0])}}return ds},PSEUDO:function(dt){var ds,du=!dt[5]&&dt[2];if(c6.CHILD.test(dt[0])){return null}if(dt[3]&&dt[4]!==co){dt[2]=dt[4]}else{if(du&&cX.test(du)&&(ds=cm(du,true))&&(ds=du.indexOf(")",du.length-ds)-du.length)){dt[0]=dt[0].slice(0,ds);dt[2]=du.slice(0,ds)}}return dt.slice(0,3)}},filter:{TAG:function(dt){var ds=dt.replace(cy,c9).toLowerCase();return dt==="*"?function(){return true}:function(du){return du.nodeName&&du.nodeName.toLowerCase()===ds}},CLASS:function(ds){var dt=cd[ds+" "];return dt||(dt=new RegExp("(^|"+cv+")"+ds+"("+cv+"|$)"))&&cd(ds,function(du){return dt.test(typeof du.className==="string"&&du.className||typeof du.getAttribute!==di&&du.getAttribute("class")||"")})},ATTR:function(du,dt,ds){return function(dw){var dv=cB.attr(dw,du);if(dv==null){return dt==="!="}if(!dt){return true}dv+="";return dt==="="?dv===ds:dt==="!="?dv!==ds:dt==="^="?ds&&dv.indexOf(ds)===0:dt==="*="?ds&&dv.indexOf(ds)>-1:dt==="$="?ds&&dv.slice(-ds.length)===ds:dt==="~="?(" "+dv+" ").indexOf(ds)>-1:dt==="|="?dv===ds||dv.slice(0,ds.length+1)===ds+"-":false}},CHILD:function(dt,dw,dv,dx,du){var dz=dt.slice(0,3)!=="nth",ds=dt.slice(-4)!=="last",dy=dw==="of-type";return dx===1&&du===0?function(dA){return !!dA.parentNode}:function(dG,dE,dJ){var dA,dM,dH,dL,dI,dD,dF=dz!==ds?"nextSibling":"previousSibling",dK=dG.parentNode,dC=dy&&dG.nodeName.toLowerCase(),dB=!dJ&&!dy;if(dK){if(dz){while(dF){dH=dG;while((dH=dH[dF])){if(dy?dH.nodeName.toLowerCase()===dC:dH.nodeType===1){return false}}dD=dF=dt==="only"&&!dD&&"nextSibling"}return true}dD=[ds?dK.firstChild:dK.lastChild];if(ds&&dB){dM=dK[de]||(dK[de]={});dA=dM[dt]||[];dI=dA[0]===dn&&dA[1];dL=dA[0]===dn&&dA[2];dH=dI&&dK.childNodes[dI];while((dH=++dI&&dH&&dH[dF]||(dL=dI=0)||dD.pop())){if(dH.nodeType===1&&++dL&&dH===dG){dM[dt]=[dn,dI,dL];break}}}else{if(dB&&(dA=(dG[de]||(dG[de]={}))[dt])&&dA[0]===dn){dL=dA[1]}else{while((dH=++dI&&dH&&dH[dF]||(dL=dI=0)||dD.pop())){if((dy?dH.nodeName.toLowerCase()===dC:dH.nodeType===1)&&++dL){if(dB){(dH[de]||(dH[de]={}))[dt]=[dn,dL]}if(dH===dG){break}}}}}dL-=du;return dL===dx||(dL%dx===0&&dL/dx>=0)}}},PSEUDO:function(dv,du){var ds,dt=ct.pseudos[dv]||ct.setFilters[dv.toLowerCase()]||cB.error("unsupported pseudo: "+dv);if(dt[de]){return dt(du)}if(dt.length>1){ds=[dv,dv,"",du];return ct.setFilters.hasOwnProperty(dv.toLowerCase())?cp(function(dy,dA){var dx,dw=dt(dy,du),dz=dw.length;while(dz--){dx=ch.call(dy,dw[dz]);dy[dx]=!(dA[dx]=dw[dz])}}):function(dw){return dt(dw,0,ds)}}return dt}},pseudos:{not:cp(function(ds){var dt=[],du=[],dv=c0(ds.replace(cx,"$1"));return dv[de]?cp(function(dx,dC,dA,dy){var dB,dw=dv(dx,null,dy,[]),dz=dx.length;while(dz--){if((dB=dw[dz])){dx[dz]=!(dC[dz]=dB)}}}):function(dy,dx,dw){dt[0]=dy;dv(dt,null,dw,du);return !du.pop()}}),has:cp(function(ds){return function(dt){return cB(ds,dt).length>0}}),contains:cp(function(ds){return function(dt){return(dt.textContent||dt.innerText||cM(dt)).indexOf(ds)>-1}}),lang:cp(function(ds){if(!cY.test(ds||"")){cB.error("unsupported lang: "+ds)}ds=ds.replace(cy,c9).toLowerCase();return function(du){var dt;do{if((dt=dc?du.lang:du.getAttribute("xml:lang")||du.getAttribute("lang"))){dt=dt.toLowerCase();return dt===ds||dt.indexOf(ds+"-")===0}}while((du=du.parentNode)&&du.nodeType===1);return false}}),target:function(ds){var dt=dj.location&&dj.location.hash;return dt&&dt.slice(1)===ds.id},root:function(ds){return ds===cu},focus:function(ds){return ds===cH.activeElement&&(!cH.hasFocus||cH.hasFocus())&&!!(ds.type||ds.href||~ds.tabIndex)},enabled:function(ds){return ds.disabled===false},disabled:function(ds){return ds.disabled===true},checked:function(ds){var dt=ds.nodeName.toLowerCase();return(dt==="input"&&!!ds.checked)||(dt==="option"&&!!ds.selected)},selected:function(ds){if(ds.parentNode){ds.parentNode.selectedIndex}return ds.selected===true},empty:function(ds){for(ds=ds.firstChild;ds;ds=ds.nextSibling){if(ds.nodeName>"@"||ds.nodeType===3||ds.nodeType===4){return false}}return true},parent:function(ds){return !ct.pseudos.empty(ds)},header:function(ds){return cr.test(ds.nodeName)},input:function(ds){return cg.test(ds.nodeName)},button:function(dt){var ds=dt.nodeName.toLowerCase();return ds==="input"&&dt.type==="button"||ds==="button"},text:function(dt){var ds;return dt.nodeName.toLowerCase()==="input"&&dt.type==="text"&&((ds=dt.getAttribute("type"))==null||ds.toLowerCase()===dt.type)},first:db(function(){return[0]}),last:db(function(ds,dt){return[dt-1]}),eq:db(function(ds,du,dt){return[dt<0?dt+du:dt]}),even:db(function(ds,du){var dt=0;for(;dt<du;dt+=2){ds.push(dt)}return ds}),odd:db(function(ds,du){var dt=1;for(;dt<du;dt+=2){ds.push(dt)}return ds}),lt:db(function(ds,dv,du){var dt=du<0?du+dv:du;for(;--dt>=0;){ds.push(dt)}return ds}),gt:db(function(ds,dv,du){var dt=du<0?du+dv:du;for(;++dt<dv;){ds.push(dt)}return ds})}};ct.pseudos.nth=ct.pseudos.eq;for(cD in {radio:true,checkbox:true,file:true,password:true,image:true}){ct.pseudos[cD]=cC(cD)}for(cD in {submit:true,reset:true}){ct.pseudos[cD]=cf(cD)}function cZ(){}cZ.prototype=ct.filters=ct.pseudos;ct.setFilters=new cZ();function cm(dw,dB){var dt,dx,dz,dA,dy,du,ds,dv=dd[dw+" "];if(dv){return dB?0:dv.slice(0)}dy=dw;du=[];ds=ct.preFilter;while(dy){if(!dt||(dx=cA.exec(dy))){if(dx){dy=dy.slice(dx[0].length)||dy}du.push(dz=[])}dt=false;if((dx=cG.exec(dy))){dt=dx.shift();dz.push({value:dt,type:dx[0].replace(cx," ")});dy=dy.slice(dt.length)}for(dA in ct.filter){if((dx=c6[dA].exec(dy))&&(!ds[dA]||(dx=ds[dA](dx)))){dt=dx.shift();dz.push({value:dt,type:dA,matches:dx});dy=dy.slice(dt.length)}}if(!dt){break}}return dB?dy.length:dy?cB.error(dw):dd(dw,du).slice(0)}function cn(dv){var du=0,dt=dv.length,ds="";for(;du<dt;du++){ds+=dv[du].value}return ds}function cw(dw,du,dv){var ds=du.dir,dx=dv&&ds==="parentNode",dt=c8++;return du.first?function(dA,dz,dy){while((dA=dA[ds])){if(dA.nodeType===1||dx){return dw(dA,dz,dy)}}}:function(dC,dA,dz){var dE,dy,dB,dD=dn+" "+dt;if(dz){while((dC=dC[ds])){if(dC.nodeType===1||dx){if(dw(dC,dA,dz)){return true}}}}else{while((dC=dC[ds])){if(dC.nodeType===1||dx){dB=dC[de]||(dC[de]={});if((dy=dB[ds])&&dy[0]===dD){if((dE=dy[1])===true||dE===cj){return dE===true}}else{dy=dB[ds]=[dD];dy[1]=dw(dC,dA,dz)||cj;if(dy[1]===true){return true}}}}}}}function dq(ds){return ds.length>1?function(dw,dv,dt){var du=ds.length;while(du--){if(!ds[du](dw,dv,dt)){return false}}return true}:ds[0]}function c4(ds,dt,du,dv,dy){var dw,dB=[],dx=0,dz=ds.length,dA=dt!=null;for(;dx<dz;dx++){if((dw=ds[dx])){if(!du||du(dw,dv,dy)){dB.push(dw);if(dA){dt.push(dx)}}}}return dB}function cl(du,dt,dw,dv,dx,ds){if(dv&&!dv[de]){dv=cl(dv)}if(dx&&!dx[de]){dx=cl(dx,ds)}return cp(function(dI,dF,dA,dH){var dK,dG,dC,dB=[],dJ=[],dz=dF.length,dy=dI||cE(dt||"*",dA.nodeType?[dA]:dA,[]),dD=du&&(dI||!dt)?c4(dy,dB,du,dA,dH):dy,dE=dw?dx||(dI?du:dz||dv)?[]:dF:dD;if(dw){dw(dD,dE,dA,dH)}if(dv){dK=c4(dE,dJ);dv(dK,[],dA,dH);dG=dK.length;while(dG--){if((dC=dK[dG])){dE[dJ[dG]]=!(dD[dJ[dG]]=dC)}}}if(dI){if(dx||du){if(dx){dK=[];dG=dE.length;while(dG--){if((dC=dE[dG])){dK.push((dD[dG]=dC))}}dx(null,(dE=[]),dK,dH)}dG=dE.length;while(dG--){if((dC=dE[dG])&&(dK=dx?ch.call(dI,dC):dB[dG])>-1){dI[dK]=!(dF[dK]=dC)}}}}else{dE=c4(dE===dF?dE.splice(dz,dE.length):dE);if(dx){dx(null,dF,dE,dH)}else{cb.apply(dF,dE)}}})}function df(dy){var dt,dw,du,dx=dy.length,dB=ct.relative[dy[0].type],dC=dB||ct.relative[" "],dv=dB?1:0,dz=cw(function(dD){return dD===dt},dC,true),dA=cw(function(dD){return ch.call(dt,dD)>-1},dC,true),ds=[function(dF,dE,dD){return(!dB&&(dD||dE!==dr))||((dt=dE).nodeType?dz(dF,dE,dD):dA(dF,dE,dD))}];for(;dv<dx;dv++){if((dw=ct.relative[dy[dv].type])){ds=[cw(dq(ds),dw)]}else{dw=ct.filter[dy[dv].type].apply(null,dy[dv].matches);if(dw[de]){du=++dv;for(;du<dx;du++){if(ct.relative[dy[du].type]){break}}return cl(dv>1&&dq(ds),dv>1&&cn(dy.slice(0,dv-1).concat({value:dy[dv-2].type===" "?"*":""})).replace(cx,"$1"),dw,dv<du&&df(dy.slice(dv,du)),du<dx&&df((dy=dy.slice(du))),du<dx&&cn(dy))}ds.push(dw)}}return dq(ds)}function c2(dv,du){var dx=0,ds=du.length>0,dw=dv.length>0,dt=function(dH,dB,dG,dF,dN){var dC,dD,dI,dM=[],dL=0,dE="0",dy=dH&&[],dJ=dN!=null,dK=dr,dA=dH||dw&&ct.find.TAG("*",dN&&dB.parentNode||dB),dz=(dn+=dK==null?1:Math.random()||0.1);if(dJ){dr=dB!==cH&&dB;cj=dx}for(;(dC=dA[dE])!=null;dE++){if(dw&&dC){dD=0;while((dI=dv[dD++])){if(dI(dC,dB,dG)){dF.push(dC);break}}if(dJ){dn=dz;cj=++dx}}if(ds){if((dC=!dI&&dC)){dL--}if(dH){dy.push(dC)}}}dL+=dE;if(ds&&dE!==dL){dD=0;while((dI=du[dD++])){dI(dy,dM,dB,dG)}if(dH){if(dL>0){while(dE--){if(!(dy[dE]||dM[dE])){dM[dE]=dh.call(dF)}}}dM=c4(dM)}cb.apply(dF,dM);if(dJ&&!dH&&dM.length>0&&(dL+du.length)>1){cB.uniqueSort(dF)}}if(dJ){dn=dz;dr=dK}return dy};return ds?cp(dt):dt}c0=cB.compile=function(ds,dx){var du,dt=[],dw=[],dv=cL[ds+" "];if(!dv){if(!dx){dx=cm(ds)}du=dx.length;while(du--){dv=df(dx[du]);if(dv[de]){dt.push(dv)}else{dw.push(dv)}}dv=cL(ds,c2(dw,dt))}return dv};function cE(dt,dw,dv){var du=0,ds=dw.length;for(;du<ds;du++){cB(dt,dw[du],dv)}return dv}function dl(du,ds,dv,dy){var dw,dA,dt,dB,dz,dx=cm(du);if(!dy){if(dx.length===1){dA=dx[0]=dx[0].slice(0);if(dA.length>2&&(dt=dA[0]).type==="ID"&&dm.getById&&ds.nodeType===9&&dc&&ct.relative[dA[1].type]){ds=(ct.find.ID(dt.matches[0].replace(cy,c9),ds)||[])[0];if(!ds){return dv}du=du.slice(dA.shift().value.length)}dw=c6.needsContext.test(du)?0:dA.length;while(dw--){dt=dA[dw];if(ct.relative[(dB=dt.type)]){break}if((dz=ct.find[dB])){if((dy=dz(dt.matches[0].replace(cy,c9),c5.test(dA[0].type)&&ds.parentNode||ds))){dA.splice(dw,1);du=dy.length&&cn(dA);if(!du){cb.apply(dv,dy);return dv}break}}}}}c0(du,dx)(dy,ds,!dc,dv,c5.test(du));return dv}dm.sortStable=de.split("").sort(cJ).join("")===de;dm.detectDuplicates=c1;c3();dm.sortDetached=ck(function(ds){return ds.compareDocumentPosition(cH.createElement("div"))&1});if(!ck(function(ds){ds.innerHTML="<a href='#'></a>";return ds.firstChild.getAttribute("href")==="#"})){dp("type|href|height|width",function(dt,ds,du){if(!du){return dt.getAttribute(ds,ds.toLowerCase()==="type"?1:2)}})}if(!dm.attributes||!ck(function(ds){ds.innerHTML="<input/>";ds.firstChild.setAttribute("value","");return ds.firstChild.getAttribute("value")===""})){dp("value",function(dt,ds,du){if(!du&&dt.nodeName.toLowerCase()==="input"){return dt.defaultValue}})}if(!ck(function(ds){return ds.getAttribute("disabled")==null})){dp(cc,function(dt,ds,dv){var du;if(!dv){return(du=dt.getAttributeNode(ds))&&du.specified?du.value:dt[ds]===true?ds.toLowerCase():null}})}bP.find=cB;bP.expr=cB.selectors;bP.expr[":"]=bP.expr.pseudos;bP.unique=cB.uniqueSort;bP.text=cB.getText;bP.isXMLDoc=cB.isXML;bP.contains=cB.contains})(a8);var b5={};function aj(cb){var ca=b5[cb]={};bP.each(cb.match(ah)||[],function(cd,cc){ca[cc]=true});return ca}bP.Callbacks=function(ck){ck=typeof ck==="string"?(b5[ck]||aj(ck)):bP.extend({},ck);var ce,cd,ca,cf,cg,cc,ch=[],ci=!ck.once&&[],cb=function(cl){cd=ck.memory&&cl;ca=true;cg=cc||0;cc=0;cf=ch.length;ce=true;for(;ch&&cg<cf;cg++){if(ch[cg].apply(cl[0],cl[1])===false&&ck.stopOnFalse){cd=false;break}}ce=false;if(ch){if(ci){if(ci.length){cb(ci.shift())}}else{if(cd){ch=[]}else{cj.disable()}}}},cj={add:function(){if(ch){var cm=ch.length;(function cl(cn){bP.each(cn,function(cp,co){var cq=bP.type(co);if(cq==="function"){if(!ck.unique||!cj.has(co)){ch.push(co)}}else{if(co&&co.length&&cq!=="string"){cl(co)}}})})(arguments);if(ce){cf=ch.length}else{if(cd){cc=cm;cb(cd)}}}return this},remove:function(){if(ch){bP.each(arguments,function(cn,cl){var cm;while((cm=bP.inArray(cl,ch,cm))>-1){ch.splice(cm,1);if(ce){if(cm<=cf){cf--}if(cm<=cg){cg--}}}})}return this},has:function(cl){return cl?bP.inArray(cl,ch)>-1:!!(ch&&ch.length)},empty:function(){ch=[];cf=0;return this},disable:function(){ch=ci=cd=aL;return this},disabled:function(){return !ch},lock:function(){ci=aL;if(!cd){cj.disable()}return this},locked:function(){return !ci},fireWith:function(cm,cl){if(ch&&(!ca||ci)){cl=cl||[];cl=[cm,cl.slice?cl.slice():cl];if(ce){ci.push(cl)}else{cb(cl)}}return this},fire:function(){cj.fireWith(this,arguments);return this},fired:function(){return !!ca}};return cj};bP.extend({Deferred:function(cc){var cb=[["resolve","done",bP.Callbacks("once memory"),"resolved"],["reject","fail",bP.Callbacks("once memory"),"rejected"],["notify","progress",bP.Callbacks("memory")]],cd="pending",ce={state:function(){return cd},always:function(){ca.done(arguments).fail(arguments);return this},then:function(){var cf=arguments;return bP.Deferred(function(cg){bP.each(cb,function(ci,ch){var ck=ch[0],cj=bP.isFunction(cf[ci])&&cf[ci];ca[ch[1]](function(){var cl=cj&&cj.apply(this,arguments);if(cl&&bP.isFunction(cl.promise)){cl.promise().done(cg.resolve).fail(cg.reject).progress(cg.notify)}else{cg[ck+"With"](this===ce?cg.promise():this,cj?[cl]:arguments)}})});cf=null}).promise()},promise:function(cf){return cf!=null?bP.extend(cf,ce):ce}},ca={};ce.pipe=ce.then;bP.each(cb,function(cg,cf){var ci=cf[2],ch=cf[3];ce[cf[1]]=ci.add;if(ch){ci.add(function(){cd=ch},cb[cg^1][2].disable,cb[2][2].lock)}ca[cf[0]]=function(){ca[cf[0]+"With"](this===ca?ce:this,arguments);return this};ca[cf[0]+"With"]=ci.fireWith});ce.promise(ca);if(cc){cc.call(ca,ca)}return ca},when:function(ce){var cc=0,cg=ba.call(arguments),ca=cg.length,cb=ca!==1||(ce&&bP.isFunction(ce.promise))?ca:0,cj=cb===1?ce:bP.Deferred(),cd=function(cl,cm,ck){return function(cn){cm[cl]=this;ck[cl]=arguments.length>1?ba.call(arguments):cn;if(ck===ci){cj.notifyWith(cm,ck)}else{if(!(--cb)){cj.resolveWith(cm,ck)}}}},ci,cf,ch;if(ca>1){ci=new Array(ca);cf=new Array(ca);ch=new Array(ca);for(;cc<ca;cc++){if(cg[cc]&&bP.isFunction(cg[cc].promise)){cg[cc].promise().done(cd(cc,ch,cg)).fail(cj.reject).progress(cd(cc,cf,ci))}else{--cb}}}if(!cb){cj.resolveWith(ch,cg)}return cj.promise()}});bP.support=(function(cl){var ck,ci,ch,cj,cg,cc,ce,cb,cd,ca=q.createElement("div");ca.setAttribute("className","t");ca.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";ck=ca.getElementsByTagName("*")||[];ci=ca.getElementsByTagName("a")[0];if(!ci||!ci.style||!ck.length){return cl}cj=q.createElement("select");cc=cj.appendChild(q.createElement("option"));ch=ca.getElementsByTagName("input")[0];ci.style.cssText="top:1px;float:left;opacity:.5";cl.getSetAttribute=ca.className!=="t";cl.leadingWhitespace=ca.firstChild.nodeType===3;cl.tbody=!ca.getElementsByTagName("tbody").length;cl.htmlSerialize=!!ca.getElementsByTagName("link").length;cl.style=/top/.test(ci.getAttribute("style"));cl.hrefNormalized=ci.getAttribute("href")==="/a";cl.opacity=/^0.5/.test(ci.style.opacity);cl.cssFloat=!!ci.style.cssFloat;cl.checkOn=!!ch.value;cl.optSelected=cc.selected;cl.enctype=!!q.createElement("form").enctype;cl.html5Clone=q.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";cl.inlineBlockNeedsLayout=false;cl.shrinkWrapBlocks=false;cl.pixelPosition=false;cl.deleteExpando=true;cl.noCloneEvent=true;cl.reliableMarginRight=true;cl.boxSizingReliable=true;ch.checked=true;cl.noCloneChecked=ch.cloneNode(true).checked;cj.disabled=true;cl.optDisabled=!cc.disabled;try{delete ca.test}catch(cf){cl.deleteExpando=false}ch=q.createElement("input");ch.setAttribute("value","");cl.input=ch.getAttribute("value")==="";ch.value="t";ch.setAttribute("type","radio");cl.radioValue=ch.value==="t";ch.setAttribute("checked","t");ch.setAttribute("name","t");cg=q.createDocumentFragment();cg.appendChild(ch);cl.appendChecked=ch.checked;cl.checkClone=cg.cloneNode(true).cloneNode(true).lastChild.checked;if(ca.attachEvent){ca.attachEvent("onclick",function(){cl.noCloneEvent=false});ca.cloneNode(true).click()}for(cd in {submit:true,change:true,focusin:true}){ca.setAttribute(ce="on"+cd,"t");cl[cd+"Bubbles"]=ce in a8||ca.attributes[ce].expando===false}ca.style.backgroundClip="content-box";ca.cloneNode(true).style.backgroundClip="";cl.clearCloneStyle=ca.style.backgroundClip==="content-box";for(cd in bP(cl)){break}cl.ownLast=cd!=="0";bP(function(){var cn,cq,cp,co="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",cm=q.getElementsByTagName("body")[0];if(!cm){return}cn=q.createElement("div");cn.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";cm.appendChild(cn).appendChild(ca);ca.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cp=ca.getElementsByTagName("td");cp[0].style.cssText="padding:0;margin:0;border:0;display:none";cb=(cp[0].offsetHeight===0);cp[0].style.display="";cp[1].style.display="none";cl.reliableHiddenOffsets=cb&&(cp[0].offsetHeight===0);ca.innerHTML="";ca.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";bP.swap(cm,cm.style.zoom!=null?{zoom:1}:{},function(){cl.boxSizing=ca.offsetWidth===4});if(a8.getComputedStyle){cl.pixelPosition=(a8.getComputedStyle(ca,null)||{}).top!=="1%";cl.boxSizingReliable=(a8.getComputedStyle(ca,null)||{width:"4px"}).width==="4px";cq=ca.appendChild(q.createElement("div"));cq.style.cssText=ca.style.cssText=co;cq.style.marginRight=cq.style.width="0";ca.style.width="1px";cl.reliableMarginRight=!parseFloat((a8.getComputedStyle(cq,null)||{}).marginRight)}if(typeof ca.style.zoom!==aH){ca.innerHTML="";ca.style.cssText=co+"width:1px;padding:1px;display:inline;zoom:1";cl.inlineBlockNeedsLayout=(ca.offsetWidth===3);ca.style.display="block";ca.innerHTML="<div></div>";ca.firstChild.style.width="5px";cl.shrinkWrapBlocks=(ca.offsetWidth!==3);if(cl.inlineBlockNeedsLayout){cm.style.zoom=1}}cm.removeChild(cn);cn=ca=cp=cq=null});ck=cj=cg=cc=ci=ch=null;return cl})({});var bC=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aS=/([A-Z])/g;function bg(cd,cb,cf,ce){if(!bP.acceptData(cd)){return}var ch,cg,ci=bP.expando,cj=cd.nodeType,ca=cj?bP.cache:cd,cc=cj?cd[ci]:cd[ci]&&ci;if((!cc||!ca[cc]||(!ce&&!ca[cc].data))&&cf===aL&&typeof cb==="string"){return}if(!cc){if(cj){cc=cd[ci]=bc.pop()||bP.guid++}else{cc=ci}}if(!ca[cc]){ca[cc]=cj?{}:{toJSON:bP.noop}}if(typeof cb==="object"||typeof cb==="function"){if(ce){ca[cc]=bP.extend(ca[cc],cb)}else{ca[cc].data=bP.extend(ca[cc].data,cb)}}cg=ca[cc];if(!ce){if(!cg.data){cg.data={}}cg=cg.data}if(cf!==aL){cg[bP.camelCase(cb)]=cf}if(typeof cb==="string"){ch=cg[cb];if(ch==null){ch=cg[bP.camelCase(cb)]}}else{ch=cg}return ch}function ae(ce,cc,ca){if(!bP.acceptData(ce)){return}var cg,cd,cf=ce.nodeType,cb=cf?bP.cache:ce,ch=cf?ce[bP.expando]:bP.expando;if(!cb[ch]){return}if(cc){cg=ca?cb[ch]:cb[ch].data;if(cg){if(!bP.isArray(cc)){if(cc in cg){cc=[cc]}else{cc=bP.camelCase(cc);if(cc in cg){cc=[cc]}else{cc=cc.split(" ")}}}else{cc=cc.concat(bP.map(cc,bP.camelCase))}cd=cc.length;while(cd--){delete cg[cc[cd]]}if(ca?!S(cg):!bP.isEmptyObject(cg)){return}}}if(!ca){delete cb[ch].data;if(!S(cb[ch])){return}}if(cf){bP.cleanData([ce],true)}else{if(bP.support.deleteExpando||cb!=cb.window){delete cb[ch]}else{cb[ch]=null}}}bP.extend({cache:{},noData:{applet:true,embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(ca){ca=ca.nodeType?bP.cache[ca[bP.expando]]:ca[bP.expando];return !!ca&&!S(ca)},data:function(cb,ca,cc){return bg(cb,ca,cc)},removeData:function(cb,ca){return ae(cb,ca)},_data:function(cb,ca,cc){return bg(cb,ca,cc,true)},_removeData:function(cb,ca){return ae(cb,ca,true)},acceptData:function(cb){if(cb.nodeType&&cb.nodeType!==1&&cb.nodeType!==9){return false}var ca=cb.nodeName&&bP.noData[cb.nodeName.toLowerCase()];return !ca||ca!==true&&cb.getAttribute("classid")===ca}});bP.fn.extend({data:function(cd,cg){var cb,ca,cf=null,cc=0,ce=this[0];if(cd===aL){if(this.length){cf=bP.data(ce);if(ce.nodeType===1&&!bP._data(ce,"parsedAttrs")){cb=ce.attributes;for(;cc<cb.length;cc++){ca=cb[cc].name;if(ca.indexOf("data-")===0){ca=bP.camelCase(ca.slice(5));bE(ce,ca,cf[ca])}}bP._data(ce,"parsedAttrs",true)}}return cf}if(typeof cd==="object"){return this.each(function(){bP.data(this,cd)})}return arguments.length>1?this.each(function(){bP.data(this,cd,cg)}):ce?bE(ce,cd,bP.data(ce,cd)):null},removeData:function(ca){return this.each(function(){bP.removeData(this,ca)})}});function bE(cc,cb,cd){if(cd===aL&&cc.nodeType===1){var ca="data-"+cb.replace(aS,"-$1").toLowerCase();cd=cc.getAttribute(ca);if(typeof cd==="string"){try{cd=cd==="true"?true:cd==="false"?false:cd==="null"?null:+cd+""===cd?+cd:bC.test(cd)?bP.parseJSON(cd):cd}catch(ce){}bP.data(cc,cb,cd)}else{cd=aL}}return cd}function S(cb){var ca;for(ca in cb){if(ca==="data"&&bP.isEmptyObject(cb[ca])){continue}if(ca!=="toJSON"){return false}}return true}bP.extend({queue:function(cc,cb,cd){var ca;if(cc){cb=(cb||"fx")+"queue";ca=bP._data(cc,cb);if(cd){if(!ca||bP.isArray(cd)){ca=bP._data(cc,cb,bP.makeArray(cd))}else{ca.push(cd)}}return ca||[]}},dequeue:function(cf,ce){ce=ce||"fx";var cb=bP.queue(cf,ce),cg=cb.length,cd=cb.shift(),ca=bP._queueHooks(cf,ce),cc=function(){bP.dequeue(cf,ce)};if(cd==="inprogress"){cd=cb.shift();cg--}if(cd){if(ce==="fx"){cb.unshift("inprogress")}delete ca.stop;cd.call(cf,cc,ca)}if(!cg&&ca){ca.empty.fire()}},_queueHooks:function(cc,cb){var ca=cb+"queueHooks";return bP._data(cc,ca)||bP._data(cc,ca,{empty:bP.Callbacks("once memory").add(function(){bP._removeData(cc,cb+"queue");bP._removeData(cc,ca)})})}});bP.fn.extend({queue:function(ca,cb){var cc=2;if(typeof ca!=="string"){cb=ca;ca="fx";cc--}if(arguments.length<cc){return bP.queue(this[0],ca)}return cb===aL?this:this.each(function(){var cd=bP.queue(this,ca,cb);bP._queueHooks(this,ca);if(ca==="fx"&&cd[0]!=="inprogress"){bP.dequeue(this,ca)}})},dequeue:function(ca){return this.each(function(){bP.dequeue(this,ca)})},delay:function(cb,ca){cb=bP.fx?bP.fx.speeds[cb]||cb:cb;ca=ca||"fx";return this.queue(ca,function(cd,cc){var ce=setTimeout(cd,cb);cc.stop=function(){clearTimeout(ce)}})},clearQueue:function(ca){return this.queue(ca||"fx",[])},promise:function(cc,cg){var cb,cd=1,ch=bP.Deferred(),cf=this,ca=this.length,ce=function(){if(!(--cd)){ch.resolveWith(cf,[cf])}};if(typeof cc!=="string"){cg=cc;cc=aL}cc=cc||"fx";while(ca--){cb=bP._data(cf[ca],cc+"queueHooks");if(cb&&cb.empty){cd++;cb.empty.add(ce)}}ce();return ch.promise(cg)}});var be,b6,bS=/[\t\r\n\f]/g,ao=/\r/g,aK=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,aw=/^(?:checked|selected)$/i,bV=bP.support.getSetAttribute,bL=bP.support.input;bP.fn.extend({attr:function(ca,cb){return bP.access(this,bP.attr,ca,cb,arguments.length>1)},removeAttr:function(ca){return this.each(function(){bP.removeAttr(this,ca)})},prop:function(ca,cb){return bP.access(this,bP.prop,ca,cb,arguments.length>1)},removeProp:function(ca){ca=bP.propFix[ca]||ca;return this.each(function(){try{this[ca]=aL;delete this[ca]}catch(cb){}})},addClass:function(ch){var cb,ca,ci,ce,cc,cd=0,cf=this.length,cg=typeof ch==="string"&&ch;if(bP.isFunction(ch)){return this.each(function(cj){bP(this).addClass(ch.call(this,cj,this.className))})}if(cg){cb=(ch||"").match(ah)||[];for(;cd<cf;cd++){ca=this[cd];ci=ca.nodeType===1&&(ca.className?(" "+ca.className+" ").replace(bS," "):" ");if(ci){cc=0;while((ce=cb[cc++])){if(ci.indexOf(" "+ce+" ")<0){ci+=ce+" "}}ca.className=bP.trim(ci)}}}return this},removeClass:function(ch){var cb,ca,ci,ce,cc,cd=0,cf=this.length,cg=arguments.length===0||typeof ch==="string"&&ch;if(bP.isFunction(ch)){return this.each(function(cj){bP(this).removeClass(ch.call(this,cj,this.className))})}if(cg){cb=(ch||"").match(ah)||[];for(;cd<cf;cd++){ca=this[cd];ci=ca.nodeType===1&&(ca.className?(" "+ca.className+" ").replace(bS," "):"");if(ci){cc=0;while((ce=cb[cc++])){while(ci.indexOf(" "+ce+" ")>=0){ci=ci.replace(" "+ce+" "," ")}}ca.className=ch?bP.trim(ci):""}}}return this},toggleClass:function(cc,ca){var cb=typeof cc;if(typeof ca==="boolean"&&cb==="string"){return ca?this.addClass(cc):this.removeClass(cc)}if(bP.isFunction(cc)){return this.each(function(cd){bP(this).toggleClass(cc.call(this,cd,this.className,ca),ca)})}return this.each(function(){if(cb==="string"){var cf,ce=0,cd=bP(this),cg=cc.match(ah)||[];while((cf=cg[ce++])){if(cd.hasClass(cf)){cd.removeClass(cf)}else{cd.addClass(cf)}}}else{if(cb===aH||cb==="boolean"){if(this.className){bP._data(this,"__className__",this.className)}this.className=this.className||cc===false?"":bP._data(this,"__className__")||""}}})},hasClass:function(ca){var cd=" "+ca+" ",cc=0,cb=this.length;for(;cc<cb;cc++){if(this[cc].nodeType===1&&(" "+this[cc].className+" ").replace(bS," ").indexOf(cd)>=0){return true}}return false},val:function(cd){var cb,ca,ce,cc=this[0];if(!arguments.length){if(cc){ca=bP.valHooks[cc.type]||bP.valHooks[cc.nodeName.toLowerCase()];if(ca&&"get" in ca&&(cb=ca.get(cc,"value"))!==aL){return cb}cb=cc.value;return typeof cb==="string"?cb.replace(ao,""):cb==null?"":cb}return}ce=bP.isFunction(cd);return this.each(function(cf){var cg;if(this.nodeType!==1){return}if(ce){cg=cd.call(this,cf,bP(this).val())}else{cg=cd}if(cg==null){cg=""}else{if(typeof cg==="number"){cg+=""}else{if(bP.isArray(cg)){cg=bP.map(cg,function(ch){return ch==null?"":ch+""})}}}ca=bP.valHooks[this.type]||bP.valHooks[this.nodeName.toLowerCase()];if(!ca||!("set" in ca)||ca.set(this,cg,"value")===aL){this.value=cg}})}});bP.extend({valHooks:{option:{get:function(ca){var cb=bP.find.attr(ca,"value");return cb!=null?cb:ca.text}},select:{get:function(ca){var cg,cc,ci=ca.options,ce=ca.selectedIndex,cd=ca.type==="select-one"||ce<0,ch=cd?null:[],cf=cd?ce+1:ci.length,cb=ce<0?cf:cd?ce:0;for(;cb<cf;cb++){cc=ci[cb];if((cc.selected||cb===ce)&&(bP.support.optDisabled?!cc.disabled:cc.getAttribute("disabled")===null)&&(!cc.parentNode.disabled||!bP.nodeName(cc.parentNode,"optgroup"))){cg=bP(cc).val();if(cd){return cg}ch.push(cg)}}return ch},set:function(ce,cf){var cg,cd,cb=ce.options,ca=bP.makeArray(cf),cc=cb.length;while(cc--){cd=cb[cc];if((cd.selected=bP.inArray(bP(cd).val(),ca)>=0)){cg=true}}if(!cg){ce.selectedIndex=-1}return ca}}},attr:function(ce,cd,cf){var ca,cc,cb=ce.nodeType;if(!ce||cb===3||cb===8||cb===2){return}if(typeof ce.getAttribute===aH){return bP.prop(ce,cd,cf)}if(cb!==1||!bP.isXMLDoc(ce)){cd=cd.toLowerCase();ca=bP.attrHooks[cd]||(bP.expr.match.bool.test(cd)?b6:be)}if(cf!==aL){if(cf===null){bP.removeAttr(ce,cd)}else{if(ca&&"set" in ca&&(cc=ca.set(ce,cf,cd))!==aL){return cc}else{ce.setAttribute(cd,cf+"");return cf}}}else{if(ca&&"get" in ca&&(cc=ca.get(ce,cd))!==null){return cc}else{cc=bP.find.attr(ce,cd);return cc==null?aL:cc}}},removeAttr:function(cc,ce){var ca,cd,cb=0,cf=ce&&ce.match(ah);if(cf&&cc.nodeType===1){while((ca=cf[cb++])){cd=bP.propFix[ca]||ca;if(bP.expr.match.bool.test(ca)){if(bL&&bV||!aw.test(ca)){cc[cd]=false}else{cc[bP.camelCase("default-"+ca)]=cc[cd]=false}}else{bP.attr(cc,ca,"")}cc.removeAttribute(bV?ca:cd)}}},attrHooks:{type:{set:function(ca,cb){if(!bP.support.radioValue&&cb==="radio"&&bP.nodeName(ca,"input")){var cc=ca.value;ca.setAttribute("type",cb);if(cc){ca.value=cc}return cb}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(cf,cd,cg){var cc,ca,ce,cb=cf.nodeType;if(!cf||cb===3||cb===8||cb===2){return}ce=cb!==1||!bP.isXMLDoc(cf);if(ce){cd=bP.propFix[cd]||cd;ca=bP.propHooks[cd]}if(cg!==aL){return ca&&"set" in ca&&(cc=ca.set(cf,cg,cd))!==aL?cc:(cf[cd]=cg)}else{return ca&&"get" in ca&&(cc=ca.get(cf,cd))!==null?cc:cf[cd]}},propHooks:{tabIndex:{get:function(cb){var ca=bP.find.attr(cb,"tabindex");return ca?parseInt(ca,10):aK.test(cb.nodeName)||J.test(cb.nodeName)&&cb.href?0:-1}}}});b6={set:function(cb,cc,ca){if(cc===false){bP.removeAttr(cb,ca)}else{if(bL&&bV||!aw.test(ca)){cb.setAttribute(!bV&&bP.propFix[ca]||ca,ca)}else{cb[bP.camelCase("default-"+ca)]=cb[ca]=true}}return ca}};bP.each(bP.expr.match.bool.source.match(/\w+/g),function(cc,cb){var ca=bP.expr.attrHandle[cb]||bP.find.attr;bP.expr.attrHandle[cb]=bL&&bV||!aw.test(cb)?function(cg,ce,ch){var cf=bP.expr.attrHandle[ce],cd=ch?aL:(bP.expr.attrHandle[ce]=aL)!=ca(cg,ce,ch)?ce.toLowerCase():null;bP.expr.attrHandle[ce]=cf;return cd}:function(ce,cd,cf){return cf?aL:ce[bP.camelCase("default-"+cd)]?cd.toLowerCase():null}});if(!bL||!bV){bP.attrHooks.value={set:function(cb,cc,ca){if(bP.nodeName(cb,"input")){cb.defaultValue=cc}else{return be&&be.set(cb,cc,ca)}}}}if(!bV){be={set:function(cc,cd,cb){var ca=cc.getAttributeNode(cb);if(!ca){cc.setAttributeNode((ca=cc.ownerDocument.createAttribute(cb)))}ca.value=cd+="";return cb==="value"||cd===cc.getAttribute(cb)?cd:aL}};bP.expr.attrHandle.id=bP.expr.attrHandle.name=bP.expr.attrHandle.coords=function(cc,cb,cd){var ca;return cd?aL:(ca=cc.getAttributeNode(cb))&&ca.value!==""?ca.value:null};bP.valHooks.button={get:function(cc,cb){var ca=cc.getAttributeNode(cb);return ca&&ca.specified?ca.value:aL},set:be.set};bP.attrHooks.contenteditable={set:function(cb,cc,ca){be.set(cb,cc===""?false:cc,ca)}};bP.each(["width","height"],function(cb,ca){bP.attrHooks[ca]={set:function(cc,cd){if(cd===""){cc.setAttribute(ca,"auto");return cd}}}})}if(!bP.support.hrefNormalized){bP.each(["href","src"],function(cb,ca){bP.propHooks[ca]={get:function(cc){return cc.getAttribute(ca,4)}}})}if(!bP.support.style){bP.attrHooks.style={get:function(ca){return ca.style.cssText||aL},set:function(ca,cb){return(ca.style.cssText=cb+"")}}}if(!bP.support.optSelected){bP.propHooks.selected={get:function(cb){var ca=cb.parentNode;if(ca){ca.selectedIndex;if(ca.parentNode){ca.parentNode.selectedIndex}}return null}}}bP.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bP.propFix[this.toLowerCase()]=this});if(!bP.support.enctype){bP.propFix.enctype="encoding"}bP.each(["radio","checkbox"],function(){bP.valHooks[this]={set:function(ca,cb){if(bP.isArray(cb)){return(ca.checked=bP.inArray(bP(ca).val(),cb)>=0)}}};if(!bP.support.checkOn){bP.valHooks[this].get=function(ca){return ca.getAttribute("value")===null?"on":ca.value}}});var bN=/^(?:input|select|textarea)$/i,a9=/^key/,bT=/^(?:mouse|contextmenu)|click/,bH=/^(?:focusinfocus|focusoutblur)$/,bA=/^([^.]*)(?:\.(.+)|)$/;function W(){return true}function ac(){return false}function ap(){try{return q.activeElement}catch(ca){}}bP.event={global:{},add:function(ce,cj,co,cg,cf){var ch,cp,cq,cc,cl,ci,cn,cd,cm,ca,cb,ck=bP._data(ce);if(!ck){return}if(co.handler){cc=co;co=cc.handler;cf=cc.selector}if(!co.guid){co.guid=bP.guid++}if(!(cp=ck.events)){cp=ck.events={}}if(!(ci=ck.handle)){ci=ck.handle=function(cr){return typeof bP!==aH&&(!cr||bP.event.triggered!==cr.type)?bP.event.dispatch.apply(ci.elem,arguments):aL};ci.elem=ce}cj=(cj||"").match(ah)||[""];cq=cj.length;while(cq--){ch=bA.exec(cj[cq])||[];cm=cb=ch[1];ca=(ch[2]||"").split(".").sort();if(!cm){continue}cl=bP.event.special[cm]||{};cm=(cf?cl.delegateType:cl.bindType)||cm;cl=bP.event.special[cm]||{};cn=bP.extend({type:cm,origType:cb,data:cg,handler:co,guid:co.guid,selector:cf,needsContext:cf&&bP.expr.match.needsContext.test(cf),namespace:ca.join(".")},cc);if(!(cd=cp[cm])){cd=cp[cm]=[];cd.delegateCount=0;if(!cl.setup||cl.setup.call(ce,cg,ca,ci)===false){if(ce.addEventListener){ce.addEventListener(cm,ci,false)}else{if(ce.attachEvent){ce.attachEvent("on"+cm,ci)}}}}if(cl.add){cl.add.call(ce,cn);if(!cn.handler.guid){cn.handler.guid=co.guid}}if(cf){cd.splice(cd.delegateCount++,0,cn)}else{cd.push(cn)}bP.event.global[cm]=true}ce=null},remove:function(cd,cj,cq,ce,ci){var cg,cn,ch,cf,cp,co,cl,cc,cm,ca,cb,ck=bP.hasData(cd)&&bP._data(cd);if(!ck||!(co=ck.events)){return}cj=(cj||"").match(ah)||[""];cp=cj.length;while(cp--){ch=bA.exec(cj[cp])||[];cm=cb=ch[1];ca=(ch[2]||"").split(".").sort();if(!cm){for(cm in co){bP.event.remove(cd,cm+cj[cp],cq,ce,true)}continue}cl=bP.event.special[cm]||{};cm=(ce?cl.delegateType:cl.bindType)||cm;cc=co[cm]||[];ch=ch[2]&&new RegExp("(^|\\.)"+ca.join("\\.(?:.*\\.|)")+"(\\.|$)");cf=cg=cc.length;while(cg--){cn=cc[cg];if((ci||cb===cn.origType)&&(!cq||cq.guid===cn.guid)&&(!ch||ch.test(cn.namespace))&&(!ce||ce===cn.selector||ce==="**"&&cn.selector)){cc.splice(cg,1);if(cn.selector){cc.delegateCount--}if(cl.remove){cl.remove.call(cd,cn)}}}if(cf&&!cc.length){if(!cl.teardown||cl.teardown.call(cd,ca,ck.handle)===false){bP.removeEvent(cd,cm,ck.handle)}delete co[cm]}}if(bP.isEmptyObject(co)){delete ck.handle;bP._removeData(cd,"events")}},trigger:function(ca,ch,cd,co){var ci,cc,cm,cn,ck,cg,cf,ce=[cd||q],cl=aa.call(ca,"type")?ca.type:ca,cb=aa.call(ca,"namespace")?ca.namespace.split("."):[];cm=cg=cd=cd||q;if(cd.nodeType===3||cd.nodeType===8){return}if(bH.test(cl+bP.event.triggered)){return}if(cl.indexOf(".")>=0){cb=cl.split(".");cl=cb.shift();cb.sort()}cc=cl.indexOf(":")<0&&"on"+cl;ca=ca[bP.expando]?ca:new bP.Event(cl,typeof ca==="object"&&ca);ca.isTrigger=co?2:3;ca.namespace=cb.join(".");ca.namespace_re=ca.namespace?new RegExp("(^|\\.)"+cb.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ca.result=aL;if(!ca.target){ca.target=cd}ch=ch==null?[ca]:bP.makeArray(ch,[ca]);ck=bP.event.special[cl]||{};if(!co&&ck.trigger&&ck.trigger.apply(cd,ch)===false){return}if(!co&&!ck.noBubble&&!bP.isWindow(cd)){cn=ck.delegateType||cl;if(!bH.test(cn+cl)){cm=cm.parentNode}for(;cm;cm=cm.parentNode){ce.push(cm);cg=cm}if(cg===(cd.ownerDocument||q)){ce.push(cg.defaultView||cg.parentWindow||a8)}}cf=0;while((cm=ce[cf++])&&!ca.isPropagationStopped()){ca.type=cf>1?cn:ck.bindType||cl;ci=(bP._data(cm,"events")||{})[ca.type]&&bP._data(cm,"handle");if(ci){ci.apply(cm,ch)}ci=cc&&cm[cc];if(ci&&bP.acceptData(cm)&&ci.apply&&ci.apply(cm,ch)===false){ca.preventDefault()}}ca.type=cl;if(!co&&!ca.isDefaultPrevented()){if((!ck._default||ck._default.apply(ce.pop(),ch)===false)&&bP.acceptData(cd)){if(cc&&cd[cl]&&!bP.isWindow(cd)){cg=cd[cc];if(cg){cd[cc]=null}bP.event.triggered=cl;try{cd[cl]()}catch(cj){}bP.event.triggered=aL;if(cg){cd[cc]=cg}}}}return ca.result},dispatch:function(ca){ca=bP.event.fix(ca);var ce,cf,cj,cb,cd,ci=[],ch=ba.call(arguments),cc=(bP._data(this,"events")||{})[ca.type]||[],cg=bP.event.special[ca.type]||{};ch[0]=ca;ca.delegateTarget=this;if(cg.preDispatch&&cg.preDispatch.call(this,ca)===false){return}ci=bP.event.handlers.call(this,ca,cc);ce=0;while((cb=ci[ce++])&&!ca.isPropagationStopped()){ca.currentTarget=cb.elem;cd=0;while((cj=cb.handlers[cd++])&&!ca.isImmediatePropagationStopped()){if(!ca.namespace_re||ca.namespace_re.test(cj.namespace)){ca.handleObj=cj;ca.data=cj.data;cf=((bP.event.special[cj.origType]||{}).handle||cj.handler).apply(cb.elem,ch);if(cf!==aL){if((ca.result=cf)===false){ca.preventDefault();ca.stopPropagation()}}}}}if(cg.postDispatch){cg.postDispatch.call(this,ca)}return ca.result},handlers:function(ca,cc){var cb,ch,cf,ce,cg=[],cd=cc.delegateCount,ci=ca.target;if(cd&&ci.nodeType&&(!ca.button||ca.type!=="click")){for(;ci!=this;ci=ci.parentNode||this){if(ci.nodeType===1&&(ci.disabled!==true||ca.type!=="click")){cf=[];for(ce=0;ce<cd;ce++){ch=cc[ce];cb=ch.selector+" ";if(cf[cb]===aL){cf[cb]=ch.needsContext?bP(cb,this).index(ci)>=0:bP.find(cb,this,null,[ci]).length}if(cf[cb]){cf.push(ch)}}if(cf.length){cg.push({elem:ci,handlers:cf})}}}}if(cd<cc.length){cg.push({elem:this,handlers:cc.slice(cd)})}return cg},fix:function(cd){if(cd[bP.expando]){return cd}var cb,cg,cf,cc=cd.type,ca=cd,ce=this.fixHooks[cc];if(!ce){this.fixHooks[cc]=ce=bT.test(cc)?this.mouseHooks:a9.test(cc)?this.keyHooks:{}}cf=ce.props?this.props.concat(ce.props):this.props;cd=new bP.Event(ca);cb=cf.length;while(cb--){cg=cf[cb];cd[cg]=ca[cg]}if(!cd.target){cd.target=ca.srcElement||q}if(cd.target.nodeType===3){cd.target=cd.target.parentNode}cd.metaKey=!!cd.metaKey;return ce.filter?ce.filter(cd,ca):cd},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(cb,ca){if(cb.which==null){cb.which=ca.charCode!=null?ca.charCode:ca.keyCode}return cb}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(cd,cc){var ca,ce,cf,cb=cc.button,cg=cc.fromElement;if(cd.pageX==null&&cc.clientX!=null){ce=cd.target.ownerDocument||q;cf=ce.documentElement;ca=ce.body;cd.pageX=cc.clientX+(cf&&cf.scrollLeft||ca&&ca.scrollLeft||0)-(cf&&cf.clientLeft||ca&&ca.clientLeft||0);cd.pageY=cc.clientY+(cf&&cf.scrollTop||ca&&ca.scrollTop||0)-(cf&&cf.clientTop||ca&&ca.clientTop||0)}if(!cd.relatedTarget&&cg){cd.relatedTarget=cg===cd.target?cc.toElement:cg}if(!cd.which&&cb!==aL){cd.which=(cb&1?1:(cb&2?3:(cb&4?2:0)))}return cd}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ap()&&this.focus){try{this.focus();return false}catch(ca){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===ap()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bP.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(ca){return bP.nodeName(ca.target,"a")}},beforeunload:{postDispatch:function(ca){if(ca.result!==aL){ca.originalEvent.returnValue=ca.result}}}},simulate:function(cb,cd,cc,ca){var ce=bP.extend(new bP.Event(),cc,{type:cb,isSimulated:true,originalEvent:{}});if(ca){bP.event.trigger(ce,null,cd)}else{bP.event.dispatch.call(cd,ce)}if(ce.isDefaultPrevented()){cc.preventDefault()}}};bP.removeEvent=q.removeEventListener?function(cb,ca,cc){if(cb.removeEventListener){cb.removeEventListener(ca,cc,false)}}:function(cc,cb,cd){var ca="on"+cb;if(cc.detachEvent){if(typeof cc[ca]===aH){cc[ca]=null}cc.detachEvent(ca,cd)}};bP.Event=function(cb,ca){if(!(this instanceof bP.Event)){return new bP.Event(cb,ca)}if(cb&&cb.type){this.originalEvent=cb;this.type=cb.type;this.isDefaultPrevented=(cb.defaultPrevented||cb.returnValue===false||cb.getPreventDefault&&cb.getPreventDefault())?W:ac}else{this.type=cb}if(ca){bP.extend(this,ca)}this.timeStamp=cb&&cb.timeStamp||bP.now();this[bP.expando]=true};bP.Event.prototype={isDefaultPrevented:ac,isPropagationStopped:ac,isImmediatePropagationStopped:ac,preventDefault:function(){var ca=this.originalEvent;this.isDefaultPrevented=W;if(!ca){return}if(ca.preventDefault){ca.preventDefault()}else{ca.returnValue=false}},stopPropagation:function(){var ca=this.originalEvent;this.isPropagationStopped=W;if(!ca){return}if(ca.stopPropagation){ca.stopPropagation()}ca.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=W;this.stopPropagation()}};bP.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(cb,ca){bP.event.special[cb]={delegateType:ca,bindType:ca,handle:function(ce){var cc,cg=this,cf=ce.relatedTarget,cd=ce.handleObj;if(!cf||(cf!==cg&&!bP.contains(cg,cf))){ce.type=cd.origType;cc=cd.handler.apply(this,arguments);ce.type=ca}return cc}}});if(!bP.support.submitBubbles){bP.event.special.submit={setup:function(){if(bP.nodeName(this,"form")){return false}bP.event.add(this,"click._submit keypress._submit",function(cc){var cb=cc.target,ca=bP.nodeName(cb,"input")||bP.nodeName(cb,"button")?cb.form:aL;if(ca&&!bP._data(ca,"submitBubbles")){bP.event.add(ca,"submit._submit",function(cd){cd._submit_bubble=true});bP._data(ca,"submitBubbles",true)}})},postDispatch:function(ca){if(ca._submit_bubble){delete ca._submit_bubble;if(this.parentNode&&!ca.isTrigger){bP.event.simulate("submit",this.parentNode,ca,true)}}},teardown:function(){if(bP.nodeName(this,"form")){return false}bP.event.remove(this,"._submit")}}}if(!bP.support.changeBubbles){bP.event.special.change={setup:function(){if(bN.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bP.event.add(this,"propertychange._change",function(ca){if(ca.originalEvent.propertyName==="checked"){this._just_changed=true}});bP.event.add(this,"click._change",function(ca){if(this._just_changed&&!ca.isTrigger){this._just_changed=false}bP.event.simulate("change",this,ca,true)})}return false}bP.event.add(this,"beforeactivate._change",function(cb){var ca=cb.target;if(bN.test(ca.nodeName)&&!bP._data(ca,"changeBubbles")){bP.event.add(ca,"change._change",function(cc){if(this.parentNode&&!cc.isSimulated&&!cc.isTrigger){bP.event.simulate("change",this.parentNode,cc,true)}});bP._data(ca,"changeBubbles",true)}})},handle:function(cb){var ca=cb.target;if(this!==ca||cb.isSimulated||cb.isTrigger||(ca.type!=="radio"&&ca.type!=="checkbox")){return cb.handleObj.handler.apply(this,arguments)}},teardown:function(){bP.event.remove(this,"._change");return !bN.test(this.nodeName)}}}if(!bP.support.focusinBubbles){bP.each({focus:"focusin",blur:"focusout"},function(cd,ca){var cb=0,cc=function(ce){bP.event.simulate(ca,ce.target,bP.event.fix(ce),true)};bP.event.special[ca]={setup:function(){if(cb++===0){q.addEventListener(cd,cc,true)}},teardown:function(){if(--cb===0){q.removeEventListener(cd,cc,true)}}}})}bP.fn.extend({on:function(cc,ca,cf,ce,cb){var cd,cg;if(typeof cc==="object"){if(typeof ca!=="string"){cf=cf||ca;ca=aL}for(cd in cc){this.on(cd,ca,cf,cc[cd],cb)}return this}if(cf==null&&ce==null){ce=ca;cf=ca=aL}else{if(ce==null){if(typeof ca==="string"){ce=cf;cf=aL}else{ce=cf;cf=ca;ca=aL}}}if(ce===false){ce=ac}else{if(!ce){return this}}if(cb===1){cg=ce;ce=function(ch){bP().off(ch);return cg.apply(this,arguments)};ce.guid=cg.guid||(cg.guid=bP.guid++)}return this.each(function(){bP.event.add(this,cc,ce,cf,ca)})},one:function(cb,ca,cd,cc){return this.on(cb,ca,cd,cc,1)},off:function(cc,ca,ce){var cb,cd;if(cc&&cc.preventDefault&&cc.handleObj){cb=cc.handleObj;bP(cc.delegateTarget).off(cb.namespace?cb.origType+"."+cb.namespace:cb.origType,cb.selector,cb.handler);return this}if(typeof cc==="object"){for(cd in cc){this.off(cd,ca,cc[cd])}return this}if(ca===false||typeof ca==="function"){ce=ca;ca=aL}if(ce===false){ce=ac}return this.each(function(){bP.event.remove(this,cc,ce,ca)})},trigger:function(ca,cb){return this.each(function(){bP.event.trigger(ca,cb,this)})},triggerHandler:function(ca,cc){var cb=this[0];if(cb){return bP.event.trigger(ca,cc,cb,true)}}});var at=/^.[^:#\[\.,]*$/,bz=/^(?:parents|prev(?:Until|All))/,E=bP.expr.match.needsContext,bD={children:true,contents:true,next:true,prev:true};bP.fn.extend({find:function(cb){var ce,cd=[],cc=this,ca=cc.length;if(typeof cb!=="string"){return this.pushStack(bP(cb).filter(function(){for(ce=0;ce<ca;ce++){if(bP.contains(cc[ce],this)){return true}}}))}for(ce=0;ce<ca;ce++){bP.find(cb,cc[ce],cd)}cd=this.pushStack(ca>1?bP.unique(cd):cd);cd.selector=this.selector?this.selector+" "+cb:cb;return cd},has:function(cd){var cc,cb=bP(cd,this),ca=cb.length;return this.filter(function(){for(cc=0;cc<ca;cc++){if(bP.contains(this,cb[cc])){return true}}})},not:function(ca){return this.pushStack(aT(this,ca||[],true))},filter:function(ca){return this.pushStack(aT(this,ca||[],false))},is:function(ca){return !!aT(this,typeof ca==="string"&&E.test(ca)?bP(ca):ca||[],false).length},closest:function(ce,cd){var cf,cc=0,ca=this.length,cb=[],cg=E.test(ce)||typeof ce!=="string"?bP(ce,cd||this.context):0;for(;cc<ca;cc++){for(cf=this[cc];cf&&cf!==cd;cf=cf.parentNode){if(cf.nodeType<11&&(cg?cg.index(cf)>-1:cf.nodeType===1&&bP.find.matchesSelector(cf,ce))){cf=cb.push(cf);break}}}return this.pushStack(cb.length>1?bP.unique(cb):cb)},index:function(ca){if(!ca){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof ca==="string"){return bP.inArray(this[0],bP(ca))}return bP.inArray(ca.jquery?ca[0]:ca,this)},add:function(ca,cb){var cd=typeof ca==="string"?bP(ca,cb):bP.makeArray(ca&&ca.nodeType?[ca]:ca),cc=bP.merge(this.get(),cd);return this.pushStack(bP.unique(cc))},addBack:function(ca){return this.add(ca==null?this.prevObject:this.prevObject.filter(ca))}});function a2(cb,ca){do{cb=cb[ca]}while(cb&&cb.nodeType!==1);return cb}bP.each({parent:function(cb){var ca=cb.parentNode;return ca&&ca.nodeType!==11?ca:null},parents:function(ca){return bP.dir(ca,"parentNode")},parentsUntil:function(cb,ca,cc){return bP.dir(cb,"parentNode",cc)},next:function(ca){return a2(ca,"nextSibling")},prev:function(ca){return a2(ca,"previousSibling")},nextAll:function(ca){return bP.dir(ca,"nextSibling")},prevAll:function(ca){return bP.dir(ca,"previousSibling")},nextUntil:function(cb,ca,cc){return bP.dir(cb,"nextSibling",cc)},prevUntil:function(cb,ca,cc){return bP.dir(cb,"previousSibling",cc)},siblings:function(ca){return bP.sibling((ca.parentNode||{}).firstChild,ca)},children:function(ca){return bP.sibling(ca.firstChild)},contents:function(ca){return bP.nodeName(ca,"iframe")?ca.contentDocument||ca.contentWindow.document:bP.merge([],ca.childNodes)}},function(ca,cb){bP.fn[ca]=function(ce,cc){var cd=bP.map(this,cb,ce);if(ca.slice(-5)!=="Until"){cc=ce}if(cc&&typeof cc==="string"){cd=bP.filter(cc,cd)}if(this.length>1){if(!bD[ca]){cd=bP.unique(cd)}if(bz.test(ca)){cd=cd.reverse()}}return this.pushStack(cd)}});bP.extend({filter:function(cd,ca,cc){var cb=ca[0];if(cc){cd=":not("+cd+")"}return ca.length===1&&cb.nodeType===1?bP.find.matchesSelector(cb,cd)?[cb]:[]:bP.find.matches(cd,bP.grep(ca,function(ce){return ce.nodeType===1}))},dir:function(cc,cb,ce){var ca=[],cd=cc[cb];while(cd&&cd.nodeType!==9&&(ce===aL||cd.nodeType!==1||!bP(cd).is(ce))){if(cd.nodeType===1){ca.push(cd)}cd=cd[cb]}return ca},sibling:function(cc,cb){var ca=[];for(;cc;cc=cc.nextSibling){if(cc.nodeType===1&&cc!==cb){ca.push(cc)}}return ca}});function aT(cc,ca,cb){if(bP.isFunction(ca)){return bP.grep(cc,function(ce,cd){return !!ca.call(ce,cd,ce)!==cb})}if(ca.nodeType){return bP.grep(cc,function(cd){return(cd===ca)!==cb})}if(typeof ca==="string"){if(at.test(ca)){return bP.filter(ca,cc,cb)}ca=bP.filter(ca,cc)}return bP.grep(cc,function(cd){return(bP.inArray(cd,ca)>=0)!==cb})}function G(ca){var cc=f.split("|"),cb=ca.createDocumentFragment();if(cb.createElement){while(cc.length){cb.createElement(cc.pop())}}return cb}var f="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aF=/ jQuery\d+="(?:null|\d+)"/g,P=new RegExp("<(?:"+f+")[\\s/>]","i"),b9=/^\s+/,aI=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,r=/<([\w:]+)/,b4=/<tbody/i,O=/<|&#?\w+;/,aq=/<(?:script|style|link)/i,w=/^(?:checkbox|radio)$/i,b0=/checked\s*(?:[^=]|=\s*.checked.)/i,bF=/^$|\/(?:java|ecma)script/i,ax=/^true\/(.*)/,aP=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bP.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aX=G(q),o=aX.appendChild(q.createElement("div"));Y.optgroup=Y.option;Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead;Y.th=Y.td;bP.fn.extend({text:function(ca){return bP.access(this,function(cb){return cb===aL?bP.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(cb))},null,ca,arguments.length)},append:function(){return this.domManip(arguments,function(ca){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var cb=a6(this,ca);cb.appendChild(ca)}})},prepend:function(){return this.domManip(arguments,function(ca){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var cb=a6(this,ca);cb.insertBefore(ca,cb.firstChild)}})},before:function(){return this.domManip(arguments,function(ca){if(this.parentNode){this.parentNode.insertBefore(ca,this)}})},after:function(){return this.domManip(arguments,function(ca){if(this.parentNode){this.parentNode.insertBefore(ca,this.nextSibling)}})},remove:function(ca,ce){var cd,cb=ca?bP.filter(ca,this):this,cc=0;for(;(cd=cb[cc])!=null;cc++){if(!ce&&cd.nodeType===1){bP.cleanData(p(cd))}if(cd.parentNode){if(ce&&bP.contains(cd.ownerDocument,cd)){by(p(cd,"script"))}cd.parentNode.removeChild(cd)}}return this},empty:function(){var cb,ca=0;for(;(cb=this[ca])!=null;ca++){if(cb.nodeType===1){bP.cleanData(p(cb,false))}while(cb.firstChild){cb.removeChild(cb.firstChild)}if(cb.options&&bP.nodeName(cb,"select")){cb.options.length=0}}return this},clone:function(cb,ca){cb=cb==null?false:cb;ca=ca==null?cb:ca;return this.map(function(){return bP.clone(this,cb,ca)})},html:function(ca){return bP.access(this,function(ce){var cd=this[0]||{},cc=0,cb=this.length;if(ce===aL){return cd.nodeType===1?cd.innerHTML.replace(aF,""):aL}if(typeof ce==="string"&&!aq.test(ce)&&(bP.support.htmlSerialize||!P.test(ce))&&(bP.support.leadingWhitespace||!b9.test(ce))&&!Y[(r.exec(ce)||["",""])[1].toLowerCase()]){ce=ce.replace(aI,"<$1></$2>");try{for(;cc<cb;cc++){cd=this[cc]||{};if(cd.nodeType===1){bP.cleanData(p(cd,false));cd.innerHTML=ce}}cd=0}catch(cf){}}if(cd){this.empty().append(ce)}},null,ca,arguments.length)},replaceWith:function(){var ca=bP.map(this,function(cc){return[cc.nextSibling,cc.parentNode]}),cb=0;this.domManip(arguments,function(ce){var cd=ca[cb++],cc=ca[cb++];if(cc){if(cd&&cd.parentNode!==cc){cd=this.nextSibling}bP(this).remove();cc.insertBefore(ce,cd)}},true);return cb?this:this.remove()},detach:function(ca){return this.remove(ca,true)},domManip:function(cj,co,cc){cj=aN.apply([],cj);var ch,cd,ca,cf,cm,ci,cg=0,ce=this.length,cl=this,cn=ce-1,ck=cj[0],cb=bP.isFunction(ck);if(cb||!(ce<=1||typeof ck!=="string"||bP.support.checkClone||!b0.test(ck))){return this.each(function(cq){var cp=cl.eq(cq);if(cb){cj[0]=ck.call(this,cq,cp.html())}cp.domManip(cj,co,cc)})}if(ce){ci=bP.buildFragment(cj,this[0].ownerDocument,false,!cc&&this);ch=ci.firstChild;if(ci.childNodes.length===1){ci=ch}if(ch){cf=bP.map(p(ci,"script"),A);ca=cf.length;for(;cg<ce;cg++){cd=ci;if(cg!==cn){cd=bP.clone(cd,true,true);if(ca){bP.merge(cf,p(cd,"script"))}}co.call(this[cg],cd,cg)}if(ca){cm=cf[cf.length-1].ownerDocument;bP.map(cf,bj);for(cg=0;cg<ca;cg++){cd=cf[cg];if(bF.test(cd.type||"")&&!bP._data(cd,"globalEval")&&bP.contains(cm,cd)){if(cd.src){bP._evalUrl(cd.src)}else{bP.globalEval((cd.text||cd.textContent||cd.innerHTML||"").replace(aP,""))}}}}ci=ch=null}}return this}});function a6(cb,ca){return bP.nodeName(cb,"table")&&bP.nodeName(ca.nodeType===1?ca:ca.firstChild,"tr")?cb.getElementsByTagName("tbody")[0]||cb.appendChild(cb.ownerDocument.createElement("tbody")):cb}function A(ca){ca.type=(bP.find.attr(ca,"type")!==null)+"/"+ca.type;return ca}function bj(cb){var ca=ax.exec(cb.type);if(ca){cb.type=ca[1]}else{cb.removeAttribute("type")}return cb}function by(ca,cc){var cd,cb=0;for(;(cd=ca[cb])!=null;cb++){bP._data(cd,"globalEval",!cc||bP._data(cc[cb],"globalEval"))}}function ay(ch,cb){if(cb.nodeType!==1||!bP.hasData(ch)){return}var ce,cd,ca,cg=bP._data(ch),cf=bP._data(cb,cg),cc=cg.events;if(cc){delete cf.handle;cf.events={};for(ce in cc){for(cd=0,ca=cc[ce].length;cd<ca;cd++){bP.event.add(cb,ce,cc[ce][cd])}}}if(cf.data){cf.data=bP.extend({},cf.data)}}function V(cd,ca){var ce,cc,cb;if(ca.nodeType!==1){return}ce=ca.nodeName.toLowerCase();if(!bP.support.noCloneEvent&&ca[bP.expando]){cb=bP._data(ca);for(cc in cb.events){bP.removeEvent(ca,cc,cb.handle)}ca.removeAttribute(bP.expando)}if(ce==="script"&&ca.text!==cd.text){A(ca).text=cd.text;bj(ca)}else{if(ce==="object"){if(ca.parentNode){ca.outerHTML=cd.outerHTML}if(bP.support.html5Clone&&(cd.innerHTML&&!bP.trim(ca.innerHTML))){ca.innerHTML=cd.innerHTML}}else{if(ce==="input"&&w.test(cd.type)){ca.defaultChecked=ca.checked=cd.checked;if(ca.value!==cd.value){ca.value=cd.value}}else{if(ce==="option"){ca.defaultSelected=ca.selected=cd.defaultSelected}else{if(ce==="input"||ce==="textarea"){ca.defaultValue=cd.defaultValue}}}}}}bP.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(ca,cb){bP.fn[ca]=function(cc){var cd,cf=0,ce=[],ch=bP(cc),cg=ch.length-1;for(;cf<=cg;cf++){cd=cf===cg?this:this.clone(true);bP(ch[cf])[cb](cd);au.apply(ce,cd.get())}return this.pushStack(ce)}});function p(cd,ca){var cb,ce,cc=0,cf=typeof cd.getElementsByTagName!==aH?cd.getElementsByTagName(ca||"*"):typeof cd.querySelectorAll!==aH?cd.querySelectorAll(ca||"*"):aL;if(!cf){for(cf=[],cb=cd.childNodes||cd;(ce=cb[cc])!=null;cc++){if(!ca||bP.nodeName(ce,ca)){cf.push(ce)}else{bP.merge(cf,p(ce,ca))}}}return ca===aL||ca&&bP.nodeName(cd,ca)?bP.merge([cd],cf):cf}function b1(ca){if(w.test(ca.type)){ca.defaultChecked=ca.checked}}bP.extend({clone:function(cb,cd,ca){var cf,cc,ci,ce,cg,ch=bP.contains(cb.ownerDocument,cb);if(bP.support.html5Clone||bP.isXMLDoc(cb)||!P.test("<"+cb.nodeName+">")){ci=cb.cloneNode(true)}else{o.innerHTML=cb.outerHTML;o.removeChild(ci=o.firstChild)}if((!bP.support.noCloneEvent||!bP.support.noCloneChecked)&&(cb.nodeType===1||cb.nodeType===11)&&!bP.isXMLDoc(cb)){cf=p(ci);cg=p(cb);for(ce=0;(cc=cg[ce])!=null;++ce){if(cf[ce]){V(cc,cf[ce])}}}if(cd){if(ca){cg=cg||p(cb);cf=cf||p(ci);for(ce=0;(cc=cg[ce])!=null;ce++){ay(cc,cf[ce])}}else{ay(cb,ci)}}cf=p(ci,"script");if(cf.length>0){by(cf,!ch&&p(cb,"script"))}cf=cg=cc=null;return ci},buildFragment:function(cb,cd,ci,cn){var cj,cf,ch,cm,co,cl,cc,cg=cb.length,ce=G(cd),ca=[],ck=0;for(;ck<cg;ck++){cf=cb[ck];if(cf||cf===0){if(bP.type(cf)==="object"){bP.merge(ca,cf.nodeType?[cf]:cf)}else{if(!O.test(cf)){ca.push(cd.createTextNode(cf))}else{cm=cm||ce.appendChild(cd.createElement("div"));co=(r.exec(cf)||["",""])[1].toLowerCase();cc=Y[co]||Y._default;cm.innerHTML=cc[1]+cf.replace(aI,"<$1></$2>")+cc[2];cj=cc[0];while(cj--){cm=cm.lastChild}if(!bP.support.leadingWhitespace&&b9.test(cf)){ca.push(cd.createTextNode(b9.exec(cf)[0]))}if(!bP.support.tbody){cf=co==="table"&&!b4.test(cf)?cm.firstChild:cc[1]==="<table>"&&!b4.test(cf)?cm:0;cj=cf&&cf.childNodes.length;while(cj--){if(bP.nodeName((cl=cf.childNodes[cj]),"tbody")&&!cl.childNodes.length){cf.removeChild(cl)}}}bP.merge(ca,cm.childNodes);cm.textContent="";while(cm.firstChild){cm.removeChild(cm.firstChild)}cm=ce.lastChild}}}}if(cm){ce.removeChild(cm)}if(!bP.support.appendChecked){bP.grep(p(ca,"input"),b1)}ck=0;while((cf=ca[ck++])){if(cn&&bP.inArray(cf,cn)!==-1){continue}ch=bP.contains(cf.ownerDocument,cf);cm=p(ce.appendChild(cf),"script");if(ch){by(cm)}if(ci){cj=0;while((cf=cm[cj++])){if(bF.test(cf.type||"")){ci.push(cf)}}}}cm=null;return ce},cleanData:function(cb,cj){var cd,ci,cc,ce,cf=0,ck=bP.expando,ca=bP.cache,cg=bP.support.deleteExpando,ch=bP.event.special;for(;(cd=cb[cf])!=null;cf++){if(cj||bP.acceptData(cd)){cc=cd[ck];ce=cc&&ca[cc];if(ce){if(ce.events){for(ci in ce.events){if(ch[ci]){bP.event.remove(cd,ci)}else{bP.removeEvent(cd,ci,ce.handle)}}}if(ca[cc]){delete ca[cc];if(cg){delete cd[ck]}else{if(typeof cd.removeAttribute!==aH){cd.removeAttribute(ck)}else{cd[ck]=null}}bc.push(cc)}}}}},_evalUrl:function(ca){return bP.ajax({url:ca,type:"GET",dataType:"script",async:false,global:false,"throws":true})}});bP.fn.extend({wrapAll:function(ca){if(bP.isFunction(ca)){return this.each(function(cc){bP(this).wrapAll(ca.call(this,cc))})}if(this[0]){var cb=bP(ca,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){cb.insertBefore(this[0])}cb.map(function(){var cc=this;while(cc.firstChild&&cc.firstChild.nodeType===1){cc=cc.firstChild}return cc}).append(this)}return this},wrapInner:function(ca){if(bP.isFunction(ca)){return this.each(function(cb){bP(this).wrapInner(ca.call(this,cb))})}return this.each(function(){var cb=bP(this),cc=cb.contents();if(cc.length){cc.wrapAll(ca)}else{cb.append(ca)}})},wrap:function(ca){var cb=bP.isFunction(ca);return this.each(function(cc){bP(this).wrapAll(cb?ca.call(this,cc):ca)})},unwrap:function(){return this.parent().each(function(){if(!bP.nodeName(this,"body")){bP(this).replaceWith(this.childNodes)}}).end()}});var aJ,bu,K,bm=/alpha\([^)]*\)/i,aY=/opacity\s*=\s*([^)]*)/,bt=/^(top|right|bottom|left)$/,L=/^(none|table(?!-c[ea]).+)/,a3=/^margin/,bf=new RegExp("^("+bG+")(.*)$","i"),ab=new RegExp("^("+bG+")(?!px)[a-z%]+$","i"),X=new RegExp("^([+-])=("+bG+")","i"),bp={BODY:"block"},bi={position:"absolute",visibility:"hidden",display:"block"},bI={letterSpacing:0,fontWeight:400},bZ=["Top","Right","Bottom","Left"],aA=["Webkit","O","Moz","ms"];function b(cd,cb){if(cb in cd){return cb}var ce=cb.charAt(0).toUpperCase()+cb.slice(1),ca=cb,cc=aA.length;while(cc--){cb=aA[cc]+ce;if(cb in cd){return cb}}return ca}function U(cb,ca){cb=ca||cb;return bP.css(cb,"display")==="none"||!bP.contains(cb.ownerDocument,cb)}function v(cg,ca){var ch,ce,cf,cb=[],cc=0,cd=cg.length;for(;cc<cd;cc++){ce=cg[cc];if(!ce.style){continue}cb[cc]=bP._data(ce,"olddisplay");ch=ce.style.display;if(ca){if(!cb[cc]&&ch==="none"){ce.style.display=""}if(ce.style.display===""&&U(ce)){cb[cc]=bP._data(ce,"olddisplay",bK(ce.nodeName))}}else{if(!cb[cc]){cf=U(ce);if(ch&&ch!=="none"||!cf){bP._data(ce,"olddisplay",cf?ch:bP.css(ce,"display"))}}}}for(cc=0;cc<cd;cc++){ce=cg[cc];if(!ce.style){continue}if(!ca||ce.style.display==="none"||ce.style.display===""){ce.style.display=ca?cb[cc]||"":"none"}}return cg}bP.fn.extend({css:function(ca,cb){return bP.access(this,function(cg,cd,ch){var cc,cf,ci={},ce=0;if(bP.isArray(cd)){cf=bu(cg);cc=cd.length;for(;ce<cc;ce++){ci[cd[ce]]=bP.css(cg,cd[ce],false,cf)}return ci}return ch!==aL?bP.style(cg,cd,ch):bP.css(cg,cd)},ca,cb,arguments.length>1)},show:function(){return v(this,true)},hide:function(){return v(this)},toggle:function(ca){if(typeof ca==="boolean"){return ca?this.show():this.hide()}return this.each(function(){if(U(this)){bP(this).show()}else{bP(this).hide()}})}});bP.extend({cssHooks:{opacity:{get:function(cc,cb){if(cb){var ca=K(cc,"opacity");return ca===""?"1":ca}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bP.support.cssFloat?"cssFloat":"styleFloat"},style:function(cc,cb,ci,cd){if(!cc||cc.nodeType===3||cc.nodeType===8||!cc.style){return}var cg,ch,cj,ce=bP.camelCase(cb),ca=cc.style;cb=bP.cssProps[ce]||(bP.cssProps[ce]=b(ca,ce));cj=bP.cssHooks[cb]||bP.cssHooks[ce];if(ci!==aL){ch=typeof ci;if(ch==="string"&&(cg=X.exec(ci))){ci=(cg[1]+1)*cg[2]+parseFloat(bP.css(cc,cb));ch="number"}if(ci==null||ch==="number"&&isNaN(ci)){return}if(ch==="number"&&!bP.cssNumber[ce]){ci+="px"}if(!bP.support.clearCloneStyle&&ci===""&&cb.indexOf("background")===0){ca[cb]="inherit"}if(!cj||!("set" in cj)||(ci=cj.set(cc,ci,cd))!==aL){try{ca[cb]=ci}catch(cf){}}}else{if(cj&&"get" in cj&&(cg=cj.get(cc,false,cd))!==aL){return cg}return ca[cb]}},css:function(cg,ce,cb,cf){var cd,ch,ca,cc=bP.camelCase(ce);ce=bP.cssProps[cc]||(bP.cssProps[cc]=b(cg.style,cc));ca=bP.cssHooks[ce]||bP.cssHooks[cc];if(ca&&"get" in ca){ch=ca.get(cg,true,cb)}if(ch===aL){ch=K(cg,ce,cf)}if(ch==="normal"&&ce in bI){ch=bI[ce]}if(cb===""||cb){cd=parseFloat(ch);return cb===true||bP.isNumeric(cd)?cd||0:ch}return ch}});if(a8.getComputedStyle){bu=function(ca){return a8.getComputedStyle(ca,null)};K=function(ce,cc,cg){var cd,cb,ci,cf=cg||bu(ce),ch=cf?cf.getPropertyValue(cc)||cf[cc]:aL,ca=ce.style;if(cf){if(ch===""&&!bP.contains(ce.ownerDocument,ce)){ch=bP.style(ce,cc)}if(ab.test(ch)&&a3.test(cc)){cd=ca.width;cb=ca.minWidth;ci=ca.maxWidth;ca.minWidth=ca.maxWidth=ca.width=ch;ch=cf.width;ca.width=cd;ca.minWidth=cb;ca.maxWidth=ci}}return ch}}else{if(q.documentElement.currentStyle){bu=function(ca){return ca.currentStyle};K=function(cd,cb,cg){var cc,cf,ch,ce=cg||bu(cd),ci=ce?ce[cb]:aL,ca=cd.style;if(ci==null&&ca&&ca[cb]){ci=ca[cb]}if(ab.test(ci)&&!bt.test(cb)){cc=ca.left;cf=cd.runtimeStyle;ch=cf&&cf.left;if(ch){cf.left=cd.currentStyle.left}ca.left=cb==="fontSize"?"1em":ci;ci=ca.pixelLeft+"px";ca.left=cc;if(ch){cf.left=ch}}return ci===""?"auto":ci}}}function aO(ca,cc,cd){var cb=bf.exec(cc);return cb?Math.max(0,cb[1]-(cd||0))+(cb[2]||"px"):cc}function aB(ce,cb,ca,cg,cd){var cc=ca===(cg?"border":"content")?4:cb==="width"?1:0,cf=0;for(;cc<4;cc+=2){if(ca==="margin"){cf+=bP.css(ce,ca+bZ[cc],true,cd)}if(cg){if(ca==="content"){cf-=bP.css(ce,"padding"+bZ[cc],true,cd)}if(ca!=="margin"){cf-=bP.css(ce,"border"+bZ[cc]+"Width",true,cd)}}else{cf+=bP.css(ce,"padding"+bZ[cc],true,cd);if(ca!=="padding"){cf+=bP.css(ce,"border"+bZ[cc]+"Width",true,cd)}}}return cf}function B(ce,cb,ca){var cd=true,cf=cb==="width"?ce.offsetWidth:ce.offsetHeight,cc=bu(ce),cg=bP.support.boxSizing&&bP.css(ce,"boxSizing",false,cc)==="border-box";if(cf<=0||cf==null){cf=K(ce,cb,cc);if(cf<0||cf==null){cf=ce.style[cb]}if(ab.test(cf)){return cf}cd=cg&&(bP.support.boxSizingReliable||cf===ce.style[cb]);cf=parseFloat(cf)||0}return(cf+aB(ce,cb,ca||(cg?"border":"content"),cd,cc))+"px"}function bK(cc){var cb=q,ca=bp[cc];if(!ca){ca=a7(cc,cb);if(ca==="none"||!ca){aJ=(aJ||bP("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(cb.documentElement);cb=(aJ[0].contentWindow||aJ[0].contentDocument).document;cb.write("<!doctype html><html><body>");cb.close();ca=a7(cc,cb);aJ.detach()}bp[cc]=ca}return ca}function a7(ca,cd){var cb=bP(cd.createElement(ca)).appendTo(cd.body),cc=bP.css(cb[0],"display");cb.remove();return cc}bP.each(["height","width"],function(cb,ca){bP.cssHooks[ca]={get:function(ce,cd,cc){if(cd){return ce.offsetWidth===0&&L.test(bP.css(ce,"display"))?bP.swap(ce,bi,function(){return B(ce,ca,cc)}):B(ce,ca,cc)}},set:function(ce,cf,cc){var cd=cc&&bu(ce);return aO(ce,cf,cc?aB(ce,ca,cc,bP.support.boxSizing&&bP.css(ce,"boxSizing",false,cd)==="border-box",cd):0)}}});if(!bP.support.opacity){bP.cssHooks.opacity={get:function(cb,ca){return aY.test((ca&&cb.currentStyle?cb.currentStyle.filter:cb.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":ca?"1":""},set:function(ce,cf){var cd=ce.style,cb=ce.currentStyle,ca=bP.isNumeric(cf)?"alpha(opacity="+cf*100+")":"",cc=cb&&cb.filter||cd.filter||"";cd.zoom=1;if((cf>=1||cf==="")&&bP.trim(cc.replace(bm,""))===""&&cd.removeAttribute){cd.removeAttribute("filter");if(cf===""||cb&&!cb.filter){return}}cd.filter=bm.test(cc)?cc.replace(bm,ca):cc+" "+ca}}}bP(function(){if(!bP.support.reliableMarginRight){bP.cssHooks.marginRight={get:function(cb,ca){if(ca){return bP.swap(cb,{display:"inline-block"},K,[cb,"marginRight"])}}}}if(!bP.support.pixelPosition&&bP.fn.position){bP.each(["top","left"],function(ca,cb){bP.cssHooks[cb]={get:function(cd,cc){if(cc){cc=K(cd,cb);return ab.test(cc)?bP(cd).position()[cb]+"px":cc}}}})}});if(bP.expr&&bP.expr.filters){bP.expr.filters.hidden=function(ca){return ca.offsetWidth<=0&&ca.offsetHeight<=0||(!bP.support.reliableHiddenOffsets&&((ca.style&&ca.style.display)||bP.css(ca,"display"))==="none")};bP.expr.filters.visible=function(ca){return !bP.expr.filters.hidden(ca)}}bP.each({margin:"",padding:"",border:"Width"},function(ca,cb){bP.cssHooks[ca+cb]={expand:function(ce){var cd=0,cc={},cf=typeof ce==="string"?ce.split(" "):[ce];for(;cd<4;cd++){cc[ca+bZ[cd]+cb]=cf[cd]||cf[cd-2]||cf[0]}return cc}};if(!a3.test(ca)){bP.cssHooks[ca+cb].set=aO}});var bB=/%20/g,aW=/\[\]$/,Z=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,az=/^(?:input|select|textarea|keygen)/i;bP.fn.extend({serialize:function(){return bP.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var ca=bP.prop(this,"elements");return ca?bP.makeArray(ca):this}).filter(function(){var ca=this.type;return this.name&&!bP(this).is(":disabled")&&az.test(this.nodeName)&&!c.test(ca)&&(this.checked||!w.test(ca))}).map(function(ca,cb){var cc=bP(this).val();return cc==null?null:bP.isArray(cc)?bP.map(cc,function(cd){return{name:cb.name,value:cd.replace(Z,"\r\n")}}):{name:cb.name,value:cc.replace(Z,"\r\n")}}).get()}});bP.param=function(ca,cc){var cd,cb=[],ce=function(cf,cg){cg=bP.isFunction(cg)?cg():(cg==null?"":cg);cb[cb.length]=encodeURIComponent(cf)+"="+encodeURIComponent(cg)};if(cc===aL){cc=bP.ajaxSettings&&bP.ajaxSettings.traditional}if(bP.isArray(ca)||(ca.jquery&&!bP.isPlainObject(ca))){bP.each(ca,function(){ce(this.name,this.value)})}else{for(cd in ca){k(cd,ca[cd],cc,ce)}}return cb.join("&").replace(bB,"+")};function k(cc,ce,cb,cd){var ca;if(bP.isArray(ce)){bP.each(ce,function(cg,cf){if(cb||aW.test(cc)){cd(cc,cf)}else{k(cc+"["+(typeof cf==="object"?cg:"")+"]",cf,cb,cd)}})}else{if(!cb&&bP.type(ce)==="object"){for(ca in ce){k(cc+"["+ca+"]",ce[ca],cb,cd)}}else{cd(cc,ce)}}}bP.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(cb,ca){bP.fn[ca]=function(cd,cc){return arguments.length>0?this.on(ca,null,cd,cc):this.trigger(ca)}});bP.fn.extend({hover:function(ca,cb){return this.mouseenter(ca).mouseleave(cb||ca)},bind:function(ca,cc,cb){return this.on(ca,null,cc,cb)},unbind:function(ca,cb){return this.off(ca,null,cb)},delegate:function(ca,cb,cd,cc){return this.on(cb,ca,cd,cc)},undelegate:function(ca,cb,cc){return arguments.length===1?this.off(ca,"**"):this.off(cb,ca||"**",cc)}});var b8,ad,bU=bP.now(),aE=/\?/,av=/#.*$/,T=/([?&])_=[^&]*/,al=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,H=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,u=/^(?:GET|HEAD)$/,aM=/^\/\//,aZ=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b7=bP.fn.load,C={},bd={},a1="*/".concat("*");try{ad=aQ.href}catch(bl){ad=q.createElement("a");ad.href="";ad=ad.href}b8=aZ.exec(ad.toLowerCase())||[];function bR(ca){return function(ce,cf){if(typeof ce!=="string"){cf=ce;ce="*"}var cb,cc=0,cd=ce.toLowerCase().match(ah)||[];if(bP.isFunction(cf)){while((cb=cd[cc++])){if(cb[0]==="+"){cb=cb.slice(1)||"*";(ca[cb]=ca[cb]||[]).unshift(cf)}else{(ca[cb]=ca[cb]||[]).push(cf)}}}}}function t(ca,cc,cg,cd){var cb={},ce=(ca===bd);function cf(ch){var ci;cb[ch]=true;bP.each(ca[ch]||[],function(ck,cj){var cl=cj(cc,cg,cd);if(typeof cl==="string"&&!ce&&!cb[cl]){cc.dataTypes.unshift(cl);cf(cl);return false}else{if(ce){return !(ci=cl)}}});return ci}return cf(cc.dataTypes[0])||!cb["*"]&&cf("*")}function x(cc,cd){var ca,cb,ce=bP.ajaxSettings.flatOptions||{};for(cb in cd){if(cd[cb]!==aL){(ce[cb]?cc:(ca||(ca={})))[cb]=cd[cb]}}if(ca){bP.extend(true,cc,ca)}return cc}bP.fn.load=function(cd,cg,ch){if(typeof cd!=="string"&&b7){return b7.apply(this,arguments)}var ca,cc,ce,cb=this,cf=cd.indexOf(" ");if(cf>=0){ca=cd.slice(cf,cd.length);cd=cd.slice(0,cf)}if(bP.isFunction(cg)){ch=cg;cg=aL}else{if(cg&&typeof cg==="object"){ce="POST"}}if(cb.length>0){bP.ajax({url:cd,type:ce,dataType:"html",data:cg}).done(function(ci){cc=arguments;cb.html(ca?bP("<div>").append(bP.parseHTML(ci)).find(ca):ci)}).complete(ch&&function(cj,ci){cb.each(ch,cc||[cj.responseText,ci,cj])})}return this};bP.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(ca,cb){bP.fn[cb]=function(cc){return this.on(cb,cc)}});bP.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ad,type:"GET",isLocal:H.test(b8[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":a1,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bP.parseJSON,"text xml":bP.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(cb,ca){return ca?x(x(cb,bP.ajaxSettings),ca):x(bP.ajaxSettings,cb)},ajaxPrefilter:bR(C),ajaxTransport:bR(bd),ajax:function(ce,cb){if(typeof ce==="object"){cb=ce;ce=aL}cb=cb||{};var cn,cp,cf,cu,cj,ca,cq,cc,ci=bP.ajaxSetup({},cb),cw=ci.context||ci,cl=ci.context&&(cw.nodeType||cw.jquery)?bP(cw):bP.event,cv=bP.Deferred(),cs=bP.Callbacks("once memory"),cg=ci.statusCode||{},cm={},ct={},cd=0,ch="canceled",co={readyState:0,getResponseHeader:function(cy){var cx;if(cd===2){if(!cc){cc={};while((cx=al.exec(cu))){cc[cx[1].toLowerCase()]=cx[2]}}cx=cc[cy.toLowerCase()]}return cx==null?null:cx},getAllResponseHeaders:function(){return cd===2?cu:null},setRequestHeader:function(cy,cz){var cx=cy.toLowerCase();if(!cd){cy=ct[cx]=ct[cx]||cy;cm[cy]=cz}return this},overrideMimeType:function(cx){if(!cd){ci.mimeType=cx}return this},statusCode:function(cy){var cx;if(cy){if(cd<2){for(cx in cy){cg[cx]=[cg[cx],cy[cx]]}}else{co.always(cy[co.status])}}return this},abort:function(cy){var cx=cy||ch;if(cq){cq.abort(cx)}ck(0,cx);return this}};cv.promise(co).complete=cs.add;co.success=co.done;co.error=co.fail;ci.url=((ce||ci.url||ad)+"").replace(av,"").replace(aM,b8[1]+"//");ci.type=cb.method||cb.type||ci.method||ci.type;ci.dataTypes=bP.trim(ci.dataType||"*").toLowerCase().match(ah)||[""];if(ci.crossDomain==null){cn=aZ.exec(ci.url.toLowerCase());ci.crossDomain=!!(cn&&(cn[1]!==b8[1]||cn[2]!==b8[2]||(cn[3]||(cn[1]==="http:"?"80":"443"))!==(b8[3]||(b8[1]==="http:"?"80":"443"))))}if(ci.data&&ci.processData&&typeof ci.data!=="string"){ci.data=bP.param(ci.data,ci.traditional)}t(C,ci,cb,co);if(cd===2){return co}ca=ci.global;if(ca&&bP.active++===0){bP.event.trigger("ajaxStart")}ci.type=ci.type.toUpperCase();ci.hasContent=!u.test(ci.type);cf=ci.url;if(!ci.hasContent){if(ci.data){cf=(ci.url+=(aE.test(cf)?"&":"?")+ci.data);delete ci.data}if(ci.cache===false){ci.url=T.test(cf)?cf.replace(T,"$1_="+bU++):cf+(aE.test(cf)?"&":"?")+"_="+bU++}}if(ci.ifModified){if(bP.lastModified[cf]){co.setRequestHeader("If-Modified-Since",bP.lastModified[cf])}if(bP.etag[cf]){co.setRequestHeader("If-None-Match",bP.etag[cf])}}if(ci.data&&ci.hasContent&&ci.contentType!==false||cb.contentType){co.setRequestHeader("Content-Type",ci.contentType)}co.setRequestHeader("Accept",ci.dataTypes[0]&&ci.accepts[ci.dataTypes[0]]?ci.accepts[ci.dataTypes[0]]+(ci.dataTypes[0]!=="*"?", "+a1+"; q=0.01":""):ci.accepts["*"]);for(cp in ci.headers){co.setRequestHeader(cp,ci.headers[cp])}if(ci.beforeSend&&(ci.beforeSend.call(cw,co,ci)===false||cd===2)){return co.abort()}ch="abort";for(cp in {success:1,error:1,complete:1}){co[cp](ci[cp])}cq=t(bd,ci,cb,co);if(!cq){ck(-1,"No Transport")}else{co.readyState=1;if(ca){cl.trigger("ajaxSend",[co,ci])}if(ci.async&&ci.timeout>0){cj=setTimeout(function(){co.abort("timeout")},ci.timeout)}try{cd=1;cq.send(cm,ck)}catch(cr){if(cd<2){ck(-1,cr)}else{throw cr}}}function ck(cC,cy,cD,cA){var cx,cG,cE,cB,cF,cz=cy;if(cd===2){return}cd=2;if(cj){clearTimeout(cj)}cq=aL;cu=cA||"";co.readyState=cC>0?4:0;cx=cC>=200&&cC<300||cC===304;if(cD){cB=h(ci,co,cD)}cB=ak(ci,cB,co,cx);if(cx){if(ci.ifModified){cF=co.getResponseHeader("Last-Modified");if(cF){bP.lastModified[cf]=cF}cF=co.getResponseHeader("etag");if(cF){bP.etag[cf]=cF}}if(cC===204||ci.type==="HEAD"){cz="nocontent"}else{if(cC===304){cz="notmodified"}else{cz=cB.state;cG=cB.data;cE=cB.error;cx=!cE}}}else{cE=cz;if(cC||!cz){cz="error";if(cC<0){cC=0}}}co.status=cC;co.statusText=(cy||cz)+"";if(cx){cv.resolveWith(cw,[cG,cz,co])}else{cv.rejectWith(cw,[co,cz,cE])}co.statusCode(cg);cg=aL;if(ca){cl.trigger(cx?"ajaxSuccess":"ajaxError",[co,ci,cx?cG:cE])}cs.fireWith(cw,[co,cz]);if(ca){cl.trigger("ajaxComplete",[co,ci]);if(!(--bP.active)){bP.event.trigger("ajaxStop")}}}return co},getJSON:function(ca,cb,cc){return bP.get(ca,cb,cc,"json")},getScript:function(ca,cb){return bP.get(ca,aL,cb,"script")}});bP.each(["get","post"],function(ca,cb){bP[cb]=function(cc,ce,cf,cd){if(bP.isFunction(ce)){cd=cd||cf;cf=ce;ce=aL}return bP.ajax({url:cc,type:cb,dataType:cd,data:ce,success:cf})}});function h(ci,ch,ce){var ca,cd,cc,cf,cb=ci.contents,cg=ci.dataTypes;while(cg[0]==="*"){cg.shift();if(cd===aL){cd=ci.mimeType||ch.getResponseHeader("Content-Type")}}if(cd){for(cf in cb){if(cb[cf]&&cb[cf].test(cd)){cg.unshift(cf);break}}}if(cg[0] in ce){cc=cg[0]}else{for(cf in ce){if(!cg[0]||ci.converters[cf+" "+cg[0]]){cc=cf;break}if(!ca){ca=cf}}cc=cc||ca}if(cc){if(cc!==cg[0]){cg.unshift(cc)}return ce[cc]}}function ak(cl,cd,ci,cb){var ca,cg,cj,ce,cc,ck={},ch=cl.dataTypes.slice();if(ch[1]){for(cj in cl.converters){ck[cj.toLowerCase()]=cl.converters[cj]}}cg=ch.shift();while(cg){if(cl.responseFields[cg]){ci[cl.responseFields[cg]]=cd}if(!cc&&cb&&cl.dataFilter){cd=cl.dataFilter(cd,cl.dataType)}cc=cg;cg=ch.shift();if(cg){if(cg==="*"){cg=cc}else{if(cc!=="*"&&cc!==cg){cj=ck[cc+" "+cg]||ck["* "+cg];if(!cj){for(ca in ck){ce=ca.split(" ");if(ce[1]===cg){cj=ck[cc+" "+ce[0]]||ck["* "+ce[0]];if(cj){if(cj===true){cj=ck[ca]}else{if(ck[ca]!==true){cg=ce[0];ch.unshift(ce[1])}}break}}}}if(cj!==true){if(cj&&cl["throws"]){cd=cj(cd)}else{try{cd=cj(cd)}catch(cf){return{state:"parsererror",error:cj?cf:"No conversion from "+cc+" to "+cg}}}}}}}}return{state:"success",data:cd}}bP.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(ca){bP.globalEval(ca);return ca}}});bP.ajaxPrefilter("script",function(ca){if(ca.cache===aL){ca.cache=false}if(ca.crossDomain){ca.type="GET";ca.global=false}});bP.ajaxTransport("script",function(cc){if(cc.crossDomain){var ca,cb=q.head||bP("head")[0]||q.documentElement;return{send:function(cd,ce){ca=q.createElement("script");ca.async=true;if(cc.scriptCharset){ca.charset=cc.scriptCharset}ca.src=cc.url;ca.onload=ca.onreadystatechange=function(cg,cf){if(cf||!ca.readyState||/loaded|complete/.test(ca.readyState)){ca.onload=ca.onreadystatechange=null;if(ca.parentNode){ca.parentNode.removeChild(ca)}ca=null;if(!cf){ce(200,"success")}}};cb.insertBefore(ca,cb.firstChild)},abort:function(){if(ca){ca.onload(aL,true)}}}}});var bw=[],bb=/(=)\?(?=&|$)|\?\?/;bP.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var ca=bw.pop()||(bP.expando+"_"+(bU++));this[ca]=true;return ca}});bP.ajaxPrefilter("json jsonp",function(cd,ca,ce){var cg,cb,cc,cf=cd.jsonp!==false&&(bb.test(cd.url)?"url":typeof cd.data==="string"&&!(cd.contentType||"").indexOf("application/x-www-form-urlencoded")&&bb.test(cd.data)&&"data");if(cf||cd.dataTypes[0]==="jsonp"){cg=cd.jsonpCallback=bP.isFunction(cd.jsonpCallback)?cd.jsonpCallback():cd.jsonpCallback;if(cf){cd[cf]=cd[cf].replace(bb,"$1"+cg)}else{if(cd.jsonp!==false){cd.url+=(aE.test(cd.url)?"&":"?")+cd.jsonp+"="+cg}}cd.converters["script json"]=function(){if(!cc){bP.error(cg+" was not called")}return cc[0]};cd.dataTypes[0]="json";cb=a8[cg];a8[cg]=function(){cc=arguments};ce.always(function(){a8[cg]=cb;if(cd[cg]){cd.jsonpCallback=ca.jsonpCallback;bw.push(cg)}if(cc&&bP.isFunction(cb)){cb(cc[0])}cc=cb=aL});return"script"}});var am,aC,aD=0,aU=a8.ActiveXObject&&function(){var ca;for(ca in am){am[ca](aL,true)}};function bJ(){try{return new a8.XMLHttpRequest()}catch(ca){}}function bk(){try{return new a8.ActiveXObject("Microsoft.XMLHTTP")}catch(ca){}}bP.ajaxSettings.xhr=a8.ActiveXObject?function(){return !this.isLocal&&bJ()||bk()}:bJ;aC=bP.ajaxSettings.xhr();bP.support.cors=!!aC&&("withCredentials" in aC);aC=bP.support.ajax=!!aC;if(aC){bP.ajaxTransport(function(ca){if(!ca.crossDomain||bP.support.cors){var cb;return{send:function(ch,cc){var cf,cd,cg=ca.xhr();if(ca.username){cg.open(ca.type,ca.url,ca.async,ca.username,ca.password)}else{cg.open(ca.type,ca.url,ca.async)}if(ca.xhrFields){for(cd in ca.xhrFields){cg[cd]=ca.xhrFields[cd]}}if(ca.mimeType&&cg.overrideMimeType){cg.overrideMimeType(ca.mimeType)}if(!ca.crossDomain&&!ch["X-Requested-With"]){ch["X-Requested-With"]="XMLHttpRequest"}try{for(cd in ch){cg.setRequestHeader(cd,ch[cd])}}catch(ce){}cg.send((ca.hasContent&&ca.data)||null);cb=function(ck,cj){var ci,cl,co,cm;try{if(cb&&(cj||cg.readyState===4)){cb=aL;if(cf){cg.onreadystatechange=bP.noop;if(aU){delete am[cf]}}if(cj){if(cg.readyState!==4){cg.abort()}}else{cm={};ci=cg.status;cl=cg.getAllResponseHeaders();if(typeof cg.responseText==="string"){cm.text=cg.responseText}try{co=cg.statusText}catch(cn){co=""}if(!ci&&ca.isLocal&&!ca.crossDomain){ci=cm.text?200:404}else{if(ci===1223){ci=204}}}}}catch(cp){if(!cj){cc(-1,cp)}}if(cm){cc(ci,co,cm,cl)}};if(!ca.async){cb()}else{if(cg.readyState===4){setTimeout(cb)}else{cf=++aD;if(aU){if(!am){am={};bP(a8).unload(aU)}am[cf]=cb}cg.onreadystatechange=cb}}},abort:function(){if(cb){cb(aL,true)}}}}})}var Q,ai,bX=/^(?:toggle|show|hide)$/,bQ=new RegExp("^(?:([+-])=|)("+bG+")([a-z%]*)$","i"),bW=/queueHooks$/,aG=[j],a5={"*":[function(ca,cg){var ci=this.createTween(ca,cg),ce=ci.cur(),cd=bQ.exec(cg),ch=cd&&cd[3]||(bP.cssNumber[ca]?"":"px"),cb=(bP.cssNumber[ca]||ch!=="px"&&+ce)&&bQ.exec(bP.css(ci.elem,ca)),cc=1,cf=20;if(cb&&cb[3]!==ch){ch=ch||cb[3];cd=cd||[];cb=+ce||1;do{cc=cc||".5";cb=cb/cc;bP.style(ci.elem,ca,cb+ch)}while(cc!==(cc=ci.cur()/ce)&&cc!==1&&--cf)}if(cd){cb=ci.start=+cb||+ce||0;ci.unit=ch;ci.end=cd[1]?cb+(cd[1]+1)*cd[2]:+cd[2]}return ci}]};function bs(){setTimeout(function(){Q=aL});return(Q=bP.now())}function bh(ce,cg,cd){var cb,cf=(a5[cg]||[]).concat(a5["*"]),ca=0,cc=cf.length;for(;ca<cc;ca++){if((cb=cf[ca].call(cd,cg,ce))){return cb}}}function g(cc,cg,cj){var ck,ca,cf=0,cb=aG.length,ci=bP.Deferred().always(function(){delete ce.elem}),ce=function(){if(ca){return false}var cq=Q||bs(),cn=Math.max(0,cd.startTime+cd.duration-cq),cl=cn/cd.duration||0,cp=1-cl,cm=0,co=cd.tweens.length;for(;cm<co;cm++){cd.tweens[cm].run(cp)}ci.notifyWith(cc,[cd,cp,cn]);if(cp<1&&co){return cn}else{ci.resolveWith(cc,[cd]);return false}},cd=ci.promise({elem:cc,props:bP.extend({},cg),opts:bP.extend(true,{specialEasing:{}},cj),originalProperties:cg,originalOptions:cj,startTime:Q||bs(),duration:cj.duration,tweens:[],createTween:function(cn,cl){var cm=bP.Tween(cc,cd.opts,cn,cl,cd.opts.specialEasing[cn]||cd.opts.easing);cd.tweens.push(cm);return cm},stop:function(cm){var cl=0,cn=cm?cd.tweens.length:0;if(ca){return this}ca=true;for(;cl<cn;cl++){cd.tweens[cl].run(1)}if(cm){ci.resolveWith(cc,[cd,cm])}else{ci.rejectWith(cc,[cd,cm])}return this}}),ch=cd.props;ar(ch,cd.opts.specialEasing);for(;cf<cb;cf++){ck=aG[cf].call(cd,cc,ch,cd.opts);if(ck){return ck}}bP.map(ch,bh,cd);if(bP.isFunction(cd.opts.start)){cd.opts.start.call(cc,cd)}bP.fx.timer(bP.extend(ce,{elem:cc,anim:cd,queue:cd.opts.queue}));return cd.progress(cd.opts.progress).done(cd.opts.done,cd.opts.complete).fail(cd.opts.fail).always(cd.opts.always)}function ar(cd,cf){var cc,cb,cg,ce,ca;for(cc in cd){cb=bP.camelCase(cc);cg=cf[cb];ce=cd[cc];if(bP.isArray(ce)){cg=ce[1];ce=cd[cc]=ce[0]}if(cc!==cb){cd[cb]=ce;delete cd[cc]}ca=bP.cssHooks[cb];if(ca&&"expand" in ca){ce=ca.expand(ce);delete cd[cb];for(cc in ce){if(!(cc in cd)){cd[cc]=ce[cc];cf[cc]=cg}}}else{cf[cb]=cg}}}bP.Animation=bP.extend(g,{tweener:function(cb,ce){if(bP.isFunction(cb)){ce=cb;cb=["*"]}else{cb=cb.split(" ")}var cd,ca=0,cc=cb.length;for(;ca<cc;ca++){cd=cb[ca];a5[cd]=a5[cd]||[];a5[cd].unshift(ce)}},prefilter:function(cb,ca){if(ca){aG.unshift(cb)}else{aG.push(cb)}}});function j(cd,ch,ca){var cc,cj,cf,cm,cn,ck,ce=this,ci={},cb=cd.style,cg=cd.nodeType&&U(cd),cl=bP._data(cd,"fxshow");if(!ca.queue){cn=bP._queueHooks(cd,"fx");if(cn.unqueued==null){cn.unqueued=0;ck=cn.empty.fire;cn.empty.fire=function(){if(!cn.unqueued){ck()}}}cn.unqueued++;ce.always(function(){ce.always(function(){cn.unqueued--;if(!bP.queue(cd,"fx").length){cn.empty.fire()}})})}if(cd.nodeType===1&&("height" in ch||"width" in ch)){ca.overflow=[cb.overflow,cb.overflowX,cb.overflowY];if(bP.css(cd,"display")==="inline"&&bP.css(cd,"float")==="none"){if(!bP.support.inlineBlockNeedsLayout||bK(cd.nodeName)==="inline"){cb.display="inline-block"}else{cb.zoom=1}}}if(ca.overflow){cb.overflow="hidden";if(!bP.support.shrinkWrapBlocks){ce.always(function(){cb.overflow=ca.overflow[0];cb.overflowX=ca.overflow[1];cb.overflowY=ca.overflow[2]})}}for(cc in ch){cj=ch[cc];if(bX.exec(cj)){delete ch[cc];cf=cf||cj==="toggle";if(cj===(cg?"hide":"show")){continue}ci[cc]=cl&&cl[cc]||bP.style(cd,cc)}}if(!bP.isEmptyObject(ci)){if(cl){if("hidden" in cl){cg=cl.hidden}}else{cl=bP._data(cd,"fxshow",{})}if(cf){cl.hidden=!cg}if(cg){bP(cd).show()}else{ce.done(function(){bP(cd).hide()})}ce.done(function(){var co;bP._removeData(cd,"fxshow");for(co in ci){bP.style(cd,co,ci[co])}});for(cc in ci){cm=bh(cg?cl[cc]:0,cc,ce);if(!(cc in cl)){cl[cc]=cm.start;if(cg){cm.end=cm.start;cm.start=cc==="width"||cc==="height"?1:0}}}}}function M(cc,cb,ce,ca,cd){return new M.prototype.init(cc,cb,ce,ca,cd)}bP.Tween=M;M.prototype={constructor:M,init:function(cd,cb,cf,ca,ce,cc){this.elem=cd;this.prop=cf;this.easing=ce||"swing";this.options=cb;this.start=this.now=this.cur();this.end=ca;this.unit=cc||(bP.cssNumber[cf]?"":"px")},cur:function(){var ca=M.propHooks[this.prop];return ca&&ca.get?ca.get(this):M.propHooks._default.get(this)},run:function(cc){var cb,ca=M.propHooks[this.prop];if(this.options.duration){this.pos=cb=bP.easing[this.easing](cc,this.options.duration*cc,0,1,this.options.duration)}else{this.pos=cb=cc}this.now=(this.end-this.start)*cb+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(ca&&ca.set){ca.set(this)}else{M.propHooks._default.set(this)}return this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(cb){var ca;if(cb.elem[cb.prop]!=null&&(!cb.elem.style||cb.elem.style[cb.prop]==null)){return cb.elem[cb.prop]}ca=bP.css(cb.elem,cb.prop,"");return !ca||ca==="auto"?0:ca},set:function(ca){if(bP.fx.step[ca.prop]){bP.fx.step[ca.prop](ca)}else{if(ca.elem.style&&(ca.elem.style[bP.cssProps[ca.prop]]!=null||bP.cssHooks[ca.prop])){bP.style(ca.elem,ca.prop,ca.now+ca.unit)}else{ca.elem[ca.prop]=ca.now}}}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(ca){if(ca.elem.nodeType&&ca.elem.parentNode){ca.elem[ca.prop]=ca.now}}};bP.each(["toggle","show","hide"],function(cb,ca){var cc=bP.fn[ca];bP.fn[ca]=function(cd,cf,ce){return cd==null||typeof cd==="boolean"?cc.apply(this,arguments):this.animate(bO(ca,true),cd,cf,ce)}});bP.fn.extend({fadeTo:function(ca,cd,cc,cb){return this.filter(U).css("opacity",0).show().end().animate({opacity:cd},ca,cc,cb)},animate:function(cg,cd,cf,ce){var cc=bP.isEmptyObject(cg),ca=bP.speed(cd,cf,ce),cb=function(){var ch=g(this,bP.extend({},cg),ca);if(cc||bP._data(this,"finish")){ch.stop(true)}};cb.finish=cb;return cc||ca.queue===false?this.each(cb):this.queue(ca.queue,cb)},stop:function(cc,cb,ca){var cd=function(ce){var cf=ce.stop;delete ce.stop;cf(ca)};if(typeof cc!=="string"){ca=cb;cb=cc;cc=aL}if(cb&&cc!==false){this.queue(cc||"fx",[])}return this.each(function(){var ch=true,ce=cc!=null&&cc+"queueHooks",cg=bP.timers,cf=bP._data(this);if(ce){if(cf[ce]&&cf[ce].stop){cd(cf[ce])}}else{for(ce in cf){if(cf[ce]&&cf[ce].stop&&bW.test(ce)){cd(cf[ce])}}}for(ce=cg.length;ce--;){if(cg[ce].elem===this&&(cc==null||cg[ce].queue===cc)){cg[ce].anim.stop(ca);ch=false;cg.splice(ce,1)}}if(ch||!ca){bP.dequeue(this,cc)}})},finish:function(ca){if(ca!==false){ca=ca||"fx"}return this.each(function(){var cd,cg=bP._data(this),cc=cg[ca+"queue"],cb=cg[ca+"queueHooks"],cf=bP.timers,ce=cc?cc.length:0;cg.finish=true;bP.queue(this,ca,[]);if(cb&&cb.stop){cb.stop.call(this,true)}for(cd=cf.length;cd--;){if(cf[cd].elem===this&&cf[cd].queue===ca){cf[cd].anim.stop(true);cf.splice(cd,1)}}for(cd=0;cd<ce;cd++){if(cc[cd]&&cc[cd].finish){cc[cd].finish.call(this)}}delete cg.finish})}});function bO(cc,ce){var cd,ca={height:cc},cb=0;ce=ce?1:0;for(;cb<4;cb+=2-ce){cd=bZ[cb];ca["margin"+cd]=ca["padding"+cd]=cc}if(ce){ca.opacity=ca.width=cc}return ca}bP.each({slideDown:bO("show"),slideUp:bO("hide"),slideToggle:bO("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(ca,cb){bP.fn[ca]=function(cc,ce,cd){return this.animate(cb,cc,ce,cd)}});bP.speed=function(cc,cd,cb){var ca=cc&&typeof cc==="object"?bP.extend({},cc):{complete:cb||!cb&&cd||bP.isFunction(cc)&&cc,duration:cc,easing:cb&&cd||cd&&!bP.isFunction(cd)&&cd};ca.duration=bP.fx.off?0:typeof ca.duration==="number"?ca.duration:ca.duration in bP.fx.speeds?bP.fx.speeds[ca.duration]:bP.fx.speeds._default;if(ca.queue==null||ca.queue===true){ca.queue="fx"}ca.old=ca.complete;ca.complete=function(){if(bP.isFunction(ca.old)){ca.old.call(this)}if(ca.queue){bP.dequeue(this,ca.queue)}};return ca};bP.easing={linear:function(ca){return ca},swing:function(ca){return 0.5-Math.cos(ca*Math.PI)/2}};bP.timers=[];bP.fx=M.prototype.init;bP.fx.tick=function(){var cc,cb=bP.timers,ca=0;Q=bP.now();for(;ca<cb.length;ca++){cc=cb[ca];if(!cc()&&cb[ca]===cc){cb.splice(ca--,1)}}if(!cb.length){bP.fx.stop()}Q=aL};bP.fx.timer=function(ca){if(ca()&&bP.timers.push(ca)){bP.fx.start()}};bP.fx.interval=13;bP.fx.start=function(){if(!ai){ai=setInterval(bP.fx.tick,bP.fx.interval)}};bP.fx.stop=function(){clearInterval(ai);ai=null};bP.fx.speeds={slow:600,fast:200,_default:400};bP.fx.step={};if(bP.expr&&bP.expr.filters){bP.expr.filters.animated=function(ca){return bP.grep(bP.timers,function(cb){return ca===cb.elem}).length}}bP.fn.offset=function(cb){if(arguments.length){return cb===aL?this:this.each(function(cg){bP.offset.setOffset(this,cb,cg)})}var ca,cf,cd={top:0,left:0},cc=this[0],ce=cc&&cc.ownerDocument;if(!ce){return}ca=ce.documentElement;if(!bP.contains(ca,cc)){return cd}if(typeof cc.getBoundingClientRect!==aH){cd=cc.getBoundingClientRect()}cf=bv(ce);return{top:cd.top+(cf.pageYOffset||ca.scrollTop)-(ca.clientTop||0),left:cd.left+(cf.pageXOffset||ca.scrollLeft)-(ca.clientLeft||0)}};bP.offset={setOffset:function(cd,cm,cg){var ch=bP.css(cd,"position");if(ch==="static"){cd.style.position="relative"}var cf=bP(cd),cb=cf.offset(),ca=bP.css(cd,"top"),ck=bP.css(cd,"left"),cl=(ch==="absolute"||ch==="fixed")&&bP.inArray("auto",[ca,ck])>-1,cj={},ci={},cc,ce;if(cl){ci=cf.position();cc=ci.top;ce=ci.left}else{cc=parseFloat(ca)||0;ce=parseFloat(ck)||0}if(bP.isFunction(cm)){cm=cm.call(cd,cg,cb)}if(cm.top!=null){cj.top=(cm.top-cb.top)+cc}if(cm.left!=null){cj.left=(cm.left-cb.left)+ce}if("using" in cm){cm.using.call(cd,cj)}else{cf.css(cj)}}};bP.fn.extend({position:function(){if(!this[0]){return}var cc,cd,ca={top:0,left:0},cb=this[0];if(bP.css(cb,"position")==="fixed"){cd=cb.getBoundingClientRect()}else{cc=this.offsetParent();cd=this.offset();if(!bP.nodeName(cc[0],"html")){ca=cc.offset()}ca.top+=bP.css(cc[0],"borderTopWidth",true);ca.left+=bP.css(cc[0],"borderLeftWidth",true)}return{top:cd.top-ca.top-bP.css(cb,"marginTop",true),left:cd.left-ca.left-bP.css(cb,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var ca=this.offsetParent||b2;while(ca&&(!bP.nodeName(ca,"html")&&bP.css(ca,"position")==="static")){ca=ca.offsetParent}return ca||b2})}});bP.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(cc,cb){var ca=/Y/.test(cb);bP.fn[cc]=function(cd){return bP.access(this,function(ce,ch,cg){var cf=bv(ce);if(cg===aL){return cf?(cb in cf)?cf[cb]:cf.document.documentElement[ch]:ce[ch]}if(cf){cf.scrollTo(!ca?cg:bP(cf).scrollLeft(),ca?cg:bP(cf).scrollTop())}else{ce[ch]=cg}},cc,cd,arguments.length,null)}});function bv(ca){return bP.isWindow(ca)?ca:ca.nodeType===9?ca.defaultView||ca.parentWindow:false}bP.each({Height:"height",Width:"width"},function(ca,cb){bP.each({padding:"inner"+ca,content:cb,"":"outer"+ca},function(cc,cd){bP.fn[cd]=function(ch,cg){var cf=arguments.length&&(cc||typeof ch!=="boolean"),ce=cc||(ch===true||cg===true?"margin":"border");return bP.access(this,function(cj,ci,ck){var cl;if(bP.isWindow(cj)){return cj.document.documentElement["client"+ca]}if(cj.nodeType===9){cl=cj.documentElement;return Math.max(cj.body["scroll"+ca],cl["scroll"+ca],cj.body["offset"+ca],cl["offset"+ca],cl["client"+ca])}return ck===aL?bP.css(cj,ci,ce):bP.style(cj,ci,ck,ce)},cb,cf?ch:aL,cf,null)}})});bP.fn.size=function(){return this.length};bP.fn.andSelf=bP.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=bP}else{a8.jQuery=a8.$=bP;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bP})}}})(window);
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
;jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(ah,O,Y){function U(b){var a=O.console;ad[b]||(ad[b]=!0,ah.migrateWarnings.push(b),a&&a.warn&&!ah.migrateMute&&(a.warn("JQMIGRATE: "+b),ah.migrateTrace&&a.trace&&a.trace()))}function al(f,b,c,h){if(Object.defineProperty){try{return Object.defineProperty(f,b,{configurable:!0,enumerable:!0,get:function(){return U(h),c},set:function(a){U(h),c=a}}),Y}catch(g){}}ah._definePropertyBroken=!0,f[b]=c}var ad={};ah.migrateWarnings=[],!ah.migrateMute&&O.console&&O.console.log&&O.console.log("JQMIGRATE: Logging is active"),ah.migrateTrace===Y&&(ah.migrateTrace=!0),ah.migrateReset=function(){ad={},ah.migrateWarnings.length=0},"BackCompat"===document.compatMode&&U("jQuery is not compatible with Quirks Mode");var X=ah("<input/>",{size:1}).attr("size")&&ah.attrFn,P=ah.attr,L=ah.attrHooks.value&&ah.attrHooks.value.get||function(){return null},aj=ah.attrHooks.value&&ah.attrHooks.value.set||function(){return Y},aa=/^(?:input|button)$/i,ai=/^[238]$/,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ag=/^(?:checked|selected)$/i;al(ah,"attrFn",X||{},"jQuery.attrFn is deprecated"),ah.attr=function(j,b,h,f){var o=b.toLowerCase(),k=j&&j.nodeType;return f&&(4>P.length&&U("jQuery.fn.attr( props, pass ) is deprecated"),j&&!ai.test(k)&&(X?b in X:ah.isFunction(ah.fn[b])))?ah(j)[b](h):("type"===b&&h!==Y&&aa.test(j.nodeName)&&j.parentNode&&U("Can't change the 'type' of an input or button in IE 6/7/8"),!ah.attrHooks[o]&&W.test(o)&&(ah.attrHooks[o]={get:function(p,u){var c,g=ah.prop(p,u);return g===!0||"boolean"!=typeof g&&(c=p.getAttributeNode(u))&&c.nodeValue!==!1?u.toLowerCase():Y},set:function(g,u,p){var c;return u===!1?ah.removeAttr(g,p):(c=ah.propFix[p]||p,c in g&&(g[c]=!0),g.setAttribute(p,p.toLowerCase())),p}},ag.test(o)&&U("jQuery.fn.attr('"+o+"') may use property instead of attribute")),P.call(ah,j,b,h))},ah.attrHooks.value={get:function(b,a){var c=(b.nodeName||"").toLowerCase();return"button"===c?L.apply(this,arguments):("input"!==c&&"option"!==c&&U("jQuery.fn.attr('value') no longer gets properties"),a in b?b.value:null)},set:function(f,c){var b=(f.nodeName||"").toLowerCase();return"button"===b?aj.apply(this,arguments):("input"!==b&&"option"!==b&&U("jQuery.fn.attr('value', val) no longer sets properties"),f.value=c,Y)}};var af,ae,K=ah.fn.init,Z=ah.parseJSON,F=/^([^<]*)(<[\w\W]+>)([^>]*)$/;ah.fn.init=function(f,g,b){var c;return f&&"string"==typeof f&&!ah.isPlainObject(g)&&(c=F.exec(ah.trim(f)))&&c[0]&&("<"!==f.charAt(0)&&U("$(html) HTML strings must start with '<' character"),c[3]&&U("$(html) HTML text after last tag is ignored"),"#"===c[0].charAt(0)&&(U("HTML string cannot start with a '#' character"),ah.error("JQMIGRATE: Invalid selector string (XSS)")),g&&g.context&&(g=g.context),ah.parseHTML)?K.call(this,ah.parseHTML(c[2],g,!0),g,b):K.apply(this,arguments)},ah.fn.init.prototype=ah.fn,ah.parseJSON=function(a){return a||null===a?Z.apply(this,arguments):(U("jQuery.parseJSON requires a valid JSON string"),null)},ah.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}},ah.browser||(af=ah.uaMatch(navigator.userAgent),ae={},af.browser&&(ae[af.browser]=!0,ae.version=af.version),ae.chrome?ae.webkit=!0:ae.webkit&&(ae.safari=!0),ah.browser=ae),al(ah,"browser",ah.browser,"jQuery.browser is deprecated"),ah.sub=function(){function a(c,f){return new a.fn.init(c,f)}ah.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(f,c){return c&&c instanceof ah&&!(c instanceof a)&&(c=a(c)),ah.fn.init.call(this,f,c,b)},a.fn.init.prototype=a.fn;var b=a(document);return U("jQuery.sub() is deprecated"),a},ah.ajaxSetup({converters:{"text json":ah.parseJSON}});var ak=ah.fn.data;ah.fn.data=function(f){var b,c,g=this[0];return !g||"events"!==f||1!==arguments.length||(b=ah.data(g,f),c=ah._data(g,f),b!==Y&&b!==c||c===Y)?ak.apply(this,arguments):(U("Use of jQuery.fn.data('events') is deprecated"),c)};var ac=/\/(java|ecma)script/i,J=ah.fn.andSelf||ah.fn.addBack;ah.fn.andSelf=function(){return U("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),J.apply(this,arguments)},ah.clean||(ah.clean=function(r,k,g,b){k=k||document,k=!k.nodeType&&k[0]||k,k=k.ownerDocument||k,U("jQuery.clean() is deprecated");var v,p,j,f,h=[];if(ah.merge(h,ah.buildFragment(r,k).childNodes),g){for(j=function(a){return !a.type||ac.test(a.type)?b?b.push(a.parentNode?a.parentNode.removeChild(a):a):g.appendChild(a):Y},v=0;null!=(p=h[v]);v++){ah.nodeName(p,"script")&&j(p)||(g.appendChild(p),p.getElementsByTagName!==Y&&(f=ah.grep(ah.merge([],p.getElementsByTagName("script")),j),h.splice.apply(h,[v+1,0].concat(f)),v+=f.length))}}return h});var B=ah.event.add,G=ah.event.remove,ab=ah.event.trigger,D=ah.fn.toggle,q=ah.fn.live,E=ah.fn.die,z="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=RegExp("\\b(?:"+z+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,V=function(a){return"string"!=typeof a||ah.event.special.hover?a:(I.test(a)&&U("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),a&&a.replace(I,"mouseenter$1 mouseleave$1"))};ah.event.props&&"attrChange"!==ah.event.props[0]&&ah.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),ah.event.dispatch&&al(ah.event,"handle",ah.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),ah.event.add=function(g,f,h,b,c){g!==document&&R.test(f)&&U("AJAX events should be attached to document: "+f),B.call(this,g,V(f||""),h,b,c)},ah.event.remove=function(g,c,h,f,b){G.call(this,g,V(c)||"",h,f,b)},ah.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return U("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},ah.fn.toggle=function(f,j){if(!ah.isFunction(f)||!ah.isFunction(j)){return D.apply(this,arguments)}U("jQuery.fn.toggle(handler, handler...) is deprecated");var b=arguments,c=f.guid||ah.guid++,h=0,g=function(k){var a=(ah._data(this,"lastToggle"+f.guid)||0)%h;return ah._data(this,"lastToggle"+f.guid,a+1),k.preventDefault(),b[a].apply(this,arguments)||!1};for(g.guid=c;b.length>h;){b[h++].guid=c}return this.click(g)},ah.fn.live=function(c,f,b){return U("jQuery.fn.live() is deprecated"),q?q.apply(this,arguments):(ah(this.context).on(c,this.selector,f,b),this)},ah.fn.die=function(a,b){return U("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(ah(this.context).off(a,this.selector||"**",b),this)},ah.event.trigger=function(f,c,g,b){return g||R.test(f)||U("Global events are undocumented and deprecated"),ab.call(this,f,c,g||document,b)},ah.each(z.split("|"),function(a,b){ah.event.special[b]={setup:function(){var c=this;return c!==document&&(ah.event.add(document,b+"."+ah.guid,function(){ah.event.trigger(b,null,c,!0)}),ah._data(this,b,ah.guid++)),!1},teardown:function(){return this!==document&&ah.event.remove(document,b+"."+ah._data(this,b)),!1}}})}(jQuery,window);
/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
;!function(a){a(function(){a.support.transition=function(){var b=function(){var f=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in c){if(f.style[g]!==undefined){return c[g]}}}();return b&&{end:b}}()})}(window.jQuery),!function(c){var a='[data-dismiss="alert"]',f=function(g){c(g).on("click",a,this.close)};f.prototype.close=function(h){function j(){g.trigger("closed").remove()}var o=c(this),k=o.attr("data-target"),g;k||(k=o.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),g=c(k),h&&h.preventDefault(),g.length||(g=o.hasClass("alert")?o:o.parent()),g.trigger(h=c.Event("close"));if(h.isDefaultPrevented()){return}g.removeClass("in"),c.support.transition&&g.hasClass("fade")?g.on(c.support.transition.end,j):j()};var b=c.fn.alert;c.fn.alert=function(g){return this.each(function(){var j=c(this),h=j.data("alert");h||j.data("alert",h=new f(this)),typeof g=="string"&&h[g].call(j)})},c.fn.alert.Constructor=f,c.fn.alert.noConflict=function(){return c.fn.alert=b,this},c(document).on("click.alert.data-api",a,f.prototype.close)}(window.jQuery),!function(b){var a=function(f,g){this.$element=b(f),this.options=b.extend({},b.fn.button.defaults,g)};a.prototype.setState=function(j){var g="disabled",k=this.$element,h=k.data(),f=k.is("input")?"val":"html";j+="Text",h.resetText||k.data("resetText",k[f]()),k[f](h[j]||this.options[j]),setTimeout(function(){j=="loadingText"?k.addClass(g).attr(g,g):k.removeClass(g).removeAttr(g)},0)},a.prototype.toggle=function(){var f=this.$element.closest('[data-toggle="buttons-radio"]');f&&f.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=b.fn.button;b.fn.button=function(f){return this.each(function(){var j=b(this),g=j.data("button"),h=typeof f=="object"&&f;g||j.data("button",g=new a(this,h)),f=="toggle"?g.toggle():f&&g.setState(f)})},b.fn.button.defaults={loadingText:"loading..."},b.fn.button.Constructor=a,b.fn.button.noConflict=function(){return b.fn.button=c,this},b(document).on("click.button.data-api","[data-toggle^=button]",function(f){var g=b(f.target);g.hasClass("btn")||(g=g.closest(".btn")),g.button("toggle")})}(window.jQuery),!function(b){var a=function(f,g){this.$element=b(f),this.$indicators=this.$element.find(".carousel-indicators"),this.options=g,this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};a.prototype={cycle:function(f){return f||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(f){var h=this.getActiveIndex(),g=this;if(f>this.$items.length-1||f<0){return}return this.sliding?this.$element.one("slid",function(){g.to(f)}):h==f?this.pause().cycle():this.slide(f>h?"next":"prev",b(this.$items[f]))},pause:function(f){return f||(this.paused=!0),this.$element.find(".next, .prev").length&&b.support.transition.end&&(this.$element.trigger(b.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(w,j){var g=this.$element.find(".item.active"),k=j||g[w](),x=this.interval,h=w=="next"?"left":"right",v=w=="next"?"first":"last",q=this,p;this.sliding=!0,x&&this.pause(),k=k.length?k:this.$element.find(".item")[v](),p=b.Event("slide",{relatedTarget:k[0],direction:h});if(k.hasClass("active")){return}this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var f=b(q.$indicators.children()[q.getActiveIndex()]);f&&f.addClass("active")}));if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(p);if(p.isDefaultPrevented()){return}k.addClass(w),k[0].offsetWidth,g.addClass(h),k.addClass(h),this.$element.one(b.support.transition.end,function(){k.removeClass([w,h].join(" ")).addClass("active"),g.removeClass(["active",h].join(" ")),q.sliding=!1,setTimeout(function(){q.$element.trigger("slid")},0)})}else{this.$element.trigger(p);if(p.isDefaultPrevented()){return}g.removeClass("active"),k.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return x&&this.cycle(),this}};var c=b.fn.carousel;b.fn.carousel=function(f){return this.each(function(){var j=b(this),g=j.data("carousel"),h=b.extend({},b.fn.carousel.defaults,typeof f=="object"&&f),k=typeof f=="string"?f:h.slide;g||j.data("carousel",g=new a(this,h)),typeof f=="number"?g.to(f):k?g[k]():h.interval&&g.pause().cycle()})},b.fn.carousel.defaults={interval:5000,pause:"hover"},b.fn.carousel.Constructor=a,b.fn.carousel.noConflict=function(){return b.fn.carousel=c,this},b(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(g){var p=b(this),j,f=b(p.attr("data-target")||(j=p.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,"")),h=b.extend({},f.data(),p.data()),k;f.carousel(h),(k=p.attr("data-slide-to"))&&f.data("carousel").pause().to(k).cycle(),g.preventDefault()})}(window.jQuery),!function(b){var a=function(f,g){this.$element=b(f),this.options=b.extend({},b.fn.collapse.defaults,g),this.options.parent&&(this.$parent=b(this.options.parent)),this.options.toggle&&this.toggle()};a.prototype={constructor:a,dimension:function(){var f=this.$element.hasClass("width");return f?"width":"height"},show:function(){var g,j,h,f;if(this.transitioning||this.$element.hasClass("in")){return}g=this.dimension(),j=b.camelCase(["scroll",g].join("-")),h=this.$parent&&this.$parent.find("> .accordion-group > .in");if(h&&h.length){f=h.data("collapse");if(f&&f.transitioning){return}h.collapse("hide"),f||h.data("collapse",null)}this.$element[g](0),this.transition("addClass",b.Event("show"),"shown"),b.support.transition&&this.$element[g](this.$element[0][j])},hide:function(){var f;if(this.transitioning||!this.$element.hasClass("in")){return}f=this.dimension(),this.reset(this.$element[f]()),this.transition("removeClass",b.Event("hide"),"hidden"),this.$element[f](0)},reset:function(g){var f=this.dimension();return this.$element.removeClass("collapse")[f](g||"auto")[0].offsetWidth,this.$element[g!==null?"addClass":"removeClass"]("collapse"),this},transition:function(g,k,j){var f=this,h=function(){k.type=="show"&&f.reset(),f.transitioning=0,f.$element.trigger(j)};this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.transitioning=1,this.$element[g]("in"),b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,h):h()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=b.fn.collapse;b.fn.collapse=function(f){return this.each(function(){var j=b(this),g=j.data("collapse"),h=b.extend({},b.fn.collapse.defaults,j.data(),typeof f=="object"&&f);g||j.data("collapse",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.collapse.defaults={toggle:!0},b.fn.collapse.Constructor=a,b.fn.collapse.noConflict=function(){return b.fn.collapse=c,this},b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(g){var k=b(this),j,f=k.attr("data-target")||g.preventDefault()||(j=k.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,""),h=b(f).data("collapse")?"toggle":k.data();k[b(f).hasClass("in")?"addClass":"removeClass"]("collapsed"),b(f).collapse(h)})}(window.jQuery),!function(g){function f(){g(a).each(function(){b(g(this)).removeClass("open")})}function b(j){var o=j.attr("data-target"),k;o||(o=j.attr("href"),o=o&&/#/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,"")),k=o&&g(o);if(!k||!k.length){k=j.parent()}return k}var a="[data-toggle=dropdown]",h=function(j){var k=g(j).on("click.dropdown.data-api",this.toggle);g("html").on("click.dropdown.data-api",function(){k.parent().removeClass("open")})};h.prototype={constructor:h,toggle:function(j){var q=g(this),k,p;if(q.is(".disabled, :disabled")){return}return k=b(q),p=k.hasClass("open"),f(),p||k.toggleClass("open"),q.focus(),!1},keydown:function(w){var q,p,v,k,j,t;if(!/(38|40|27)/.test(w.keyCode)){return}q=g(this),w.preventDefault(),w.stopPropagation();if(q.is(".disabled, :disabled")){return}k=b(q),j=k.hasClass("open");if(!j||j&&w.keyCode==27){return w.which==27&&k.find(a).focus(),q.click()}p=g("[role=menu] li:not(.divider):visible a",k);if(!p.length){return}t=p.index(p.filter(":focus")),w.keyCode==38&&t>0&&t--,w.keyCode==40&&t<p.length-1&&t++,~t||(t=0),p.eq(t).focus()}};var c=g.fn.dropdown;g.fn.dropdown=function(j){return this.each(function(){var o=g(this),k=o.data("dropdown");k||o.data("dropdown",k=new h(this)),typeof j=="string"&&k[j].call(o)})},g.fn.dropdown.Constructor=h,g.fn.dropdown.noConflict=function(){return g.fn.dropdown=c,this},g(document).on("click.dropdown.data-api",f).on("click.dropdown.data-api",".dropdown form",function(j){j.stopPropagation()}).on("click.dropdown-menu",function(j){j.stopPropagation()}).on("click.dropdown.data-api",a,h.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",h.prototype.keydown)}(window.jQuery),!function(b){var a=function(f,g){this.options=g,this.$element=b(f).delegate('[data-dismiss="modal"]',"click.dismiss.modal",b.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};a.prototype={constructor:a,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var f=this,g=b.Event("show");this.$element.trigger(g);if(this.isShown||g.isDefaultPrevented()){return}this.isShown=!0,this.escape(),this.backdrop(function(){var h=b.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(document.body),f.$element.show(),h&&f.$element[0].offsetWidth,f.$element.addClass("in").attr("aria-hidden",!1),f.enforceFocus(),h?f.$element.one(b.support.transition.end,function(){f.$element.focus().trigger("shown")}):f.$element.focus().trigger("shown")})},hide:function(f){f&&f.preventDefault();var g=this;f=b.Event("hide"),this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=!1,this.escape(),b(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),b.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var f=this;b(document).on("focusin.modal",function(g){f.$element[0]!==g.target&&!f.$element.has(g.target).length&&f.$element.focus()})},escape:function(){var f=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(g){g.which==27&&f.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var f=this,g=setTimeout(function(){f.$element.off(b.support.transition.end),f.hideModal()},500);this.$element.one(b.support.transition.end,function(){clearTimeout(g),f.hideModal()})},hideModal:function(){var f=this;this.$element.hide(),this.backdrop(function(){f.removeBackdrop(),f.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(g){var j=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=b.support.transition&&h;this.$backdrop=b('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?b.proxy(this.$element[0].focus,this.$element[0]):b.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!g){return}f?this.$backdrop.one(b.support.transition.end,g):g()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b.support.transition.end,g):g()):g&&g()}}};var c=b.fn.modal;b.fn.modal=function(f){return this.each(function(){var j=b(this),g=j.data("modal"),h=b.extend({},b.fn.modal.defaults,j.data(),typeof f=="object"&&f);g||j.data("modal",g=new a(this,h)),typeof f=="string"?g[f]():h.show&&g.show()})},b.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},b.fn.modal.Constructor=a,b.fn.modal.noConflict=function(){return b.fn.modal=c,this},b(document).on("click.modal.data-api",'[data-toggle="modal"]',function(g){var k=b(this),j=k.attr("href"),f=b(k.attr("data-target")||j&&j.replace(/.*(?=#[^\s]+$)/,"")),h=f.data("modal")?"toggle":b.extend({remote:!/#/.test(j)&&j},f.data(),k.data());g.preventDefault(),f.modal(h).one("hide",function(){k.focus()})})}(window.jQuery),!function(b){var a=function(g,f){this.init("tooltip",g,f)};a.prototype={constructor:a,init:function(j,v,p){var h,k,q,g,f;this.type=j,this.$element=b(v),this.options=this.getOptions(p),this.enabled=!0,q=this.options.trigger.split(" ");for(f=q.length;f--;){g=q[f],g=="click"?this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this)):g!="manual"&&(h=g=="hover"?"mouseenter":"focus",k=g=="hover"?"mouseleave":"blur",this.$element.on(h+"."+this.type,this.options.selector,b.proxy(this.enter,this)),this.$element.on(k+"."+this.type,this.options.selector,b.proxy(this.leave,this)))}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(f){return f=b.extend({},b.fn[this.type].defaults,this.$element.data(),f),f.delay&&typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),f},enter:function(g){var j=b.fn[this.type].defaults,h={},f;this._options&&b.each(this._options,function(o,k){j[o]!=k&&(h[o]=k)},this),f=b(g.currentTarget)[this.type](h).data(this.type);if(!f.options.delay||!f.options.delay.show){return f.show()}clearTimeout(this.timeout),f.hoverState="in",this.timeout=setTimeout(function(){f.hoverState=="in"&&f.show()},f.options.delay.show)},leave:function(f){var g=b(f.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!g.options.delay||!g.options.delay.hide){return g.hide()}g.hoverState="out",this.timeout=setTimeout(function(){g.hoverState=="out"&&g.hide()},g.options.delay.hide)},show:function(){var h,q,k,g,j,p,f=b.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}h=this.tip(),this.setContent(),this.options.animation&&h.addClass("fade"),j=typeof this.options.placement=="function"?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement,h.detach().css({top:0,left:0,display:"block"}),this.options.container?h.appendTo(this.options.container):h.insertAfter(this.$element),q=this.getPosition(),k=h[0].offsetWidth,g=h[0].offsetHeight;switch(j){case"bottom":p={top:q.top+q.height,left:q.left+q.width/2-k/2};break;case"top":p={top:q.top-g,left:q.left+q.width/2-k/2};break;case"left":p={top:q.top+q.height/2-g/2,left:q.left-k};break;case"right":p={top:q.top+q.height/2-g/2,left:q.left+q.width}}this.applyPlacement(p,j),this.$element.trigger("shown")}},applyPlacement:function(k,v){var h=this.tip(),f=h[0].offsetWidth,j=h[0].offsetHeight,w,g,q,p;h.offset(k).addClass(v).addClass("in"),w=h[0].offsetWidth,g=h[0].offsetHeight,v=="top"&&g!=j&&(k.top=k.top+j-g,p=!0),v=="bottom"||v=="top"?(q=0,k.left<0&&(q=k.left*-2,k.left=0,h.offset(k),w=h[0].offsetWidth,g=h[0].offsetHeight),this.replaceArrow(q-f+w,w,"left")):this.replaceArrow(g-j,g,"top"),p&&h.offset(k)},replaceArrow:function(g,f,h){this.arrow().css(h,g?50*(1-g/f)+"%":"")},setContent:function(){var g=this.tip(),f=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](f),g.removeClass("fade in top bottom left right")},hide:function(){function g(){var k=setTimeout(function(){j.off(b.support.transition.end).detach()},500);j.one(b.support.transition.end,function(){clearTimeout(k),j.detach()})}var f=this,j=this.tip(),h=b.Event("hide");this.$element.trigger(h);if(h.isDefaultPrevented()){return}return j.removeClass("in"),b.support.transition&&this.$tip.hasClass("fade")?g():j.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var f=this.$element;(f.attr("title")||typeof f.attr("data-original-title")!="string")&&f.attr("data-original-title",f.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var f=this.$element[0];return b.extend({},typeof f.getBoundingClientRect=="function"?f.getBoundingClientRect():{width:f.offsetWidth,height:f.offsetHeight},this.$element.offset())},getTitle:function(){var g,f=this.$element,h=this.options;return g=f.attr("data-original-title")||(typeof h.title=="function"?h.title.call(f[0]):h.title),g},tip:function(){return this.$tip=this.$tip||b(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var g=f?b(f.currentTarget)[this.type](this._options).data(this.type):this;g.tip().hasClass("in")?g.hide():g.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=b.fn.tooltip;b.fn.tooltip=function(f){return this.each(function(){var j=b(this),g=j.data("tooltip"),h=typeof f=="object"&&f;g||j.data("tooltip",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.tooltip.Constructor=a,b.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.fn.tooltip.noConflict=function(){return b.fn.tooltip=c,this}}(window.jQuery),!function(b){var a=function(g,f){this.init("popover",g,f)};a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var g=this.tip(),f=this.getTitle(),h=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f),g.find(".popover-content")[this.options.html?"html":"text"](h),g.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var g,f=this.$element,h=this.options;return g=(typeof h.content=="function"?h.content.call(f[0]):h.content)||f.attr("data-content"),g},tip:function(){return this.$tip||(this.$tip=b(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=b.fn.popover;b.fn.popover=function(f){return this.each(function(){var j=b(this),g=j.data("popover"),h=typeof f=="object"&&f;g||j.data("popover",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.popover.Constructor=a,b.fn.popover.defaults=b.extend({},b.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.fn.popover.noConflict=function(){return b.fn.popover=c,this}}(window.jQuery),!function(b){function a(g,k){var j=b.proxy(this.process,this),f=b(g).is("body")?b(window):b(g),h;this.options=b.extend({},b.fn.scrollspy.defaults,k),this.$scrollElement=f.on("scroll.scroll-spy.data-api",j),this.selector=(this.options.target||(h=b(g).attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=b("body"),this.refresh(),this.process()}a.prototype={constructor:a,refresh:function(){var f=this,g;this.offsets=b([]),this.targets=b([]),g=this.$body.find(this.selector).map(function(){var k=b(this),j=k.data("target")||k.attr("href"),h=/^#\w/.test(j)&&b(j);return h&&h.length&&[[h.position().top+(!b.isWindow(f.$scrollElement.get(0))&&f.$scrollElement.scrollTop()),j]]||null}).sort(function(j,h){return j[0]-h[0]}).each(function(){f.offsets.push(this[0]),f.targets.push(this[1])})},process:function(){var k=this.$scrollElement.scrollTop()+this.options.offset,g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,q=g-this.$scrollElement.height(),j=this.offsets,f=this.targets,h=this.activeTarget,p;if(k>=q){return h!=(p=f.last()[0])&&this.activate(p)}for(p=j.length;p--;){h!=f[p]&&k>=j[p]&&(!j[p+1]||k<=j[p+1])&&this.activate(f[p])}},activate:function(f){var h,g;this.activeTarget=f,b(this.selector).parent(".active").removeClass("active"),g=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]',h=b(g).parent("li").addClass("active"),h.parent(".dropdown-menu").length&&(h=h.closest("li.dropdown").addClass("active")),h.trigger("activate")}};var c=b.fn.scrollspy;b.fn.scrollspy=function(f){return this.each(function(){var j=b(this),g=j.data("scrollspy"),h=typeof f=="object"&&f;g||j.data("scrollspy",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.scrollspy.Constructor=a,b.fn.scrollspy.defaults={offset:10},b.fn.scrollspy.noConflict=function(){return b.fn.scrollspy=c,this},b(window).on("load",function(){b('[data-spy="scroll"]').each(function(){var f=b(this);f.scrollspy(f.data())})})}(window.jQuery),!function(b){var a=function(f){this.element=b(f)};a.prototype={constructor:a,show:function(){var g=this.element,p=g.closest("ul:not(.dropdown-menu)"),j=g.attr("data-target"),f,h,k;j||(j=g.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,""));if(g.parent("li").hasClass("active")){return}f=p.find(".active:last a")[0],k=b.Event("show",{relatedTarget:f}),g.trigger(k);if(k.isDefaultPrevented()){return}h=b(j),this.activate(g.parent("li"),p),this.activate(h,h.parent(),function(){g.trigger({type:"shown",relatedTarget:f})})},activate:function(g,p,j){function k(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),g.addClass("active"),h?(g[0].offsetWidth,g.addClass("in")):g.removeClass("fade"),g.parent(".dropdown-menu")&&g.closest("li.dropdown").addClass("active"),j&&j()}var f=p.find("> .active"),h=j&&b.support.transition&&f.hasClass("fade");h?f.one(b.support.transition.end,k):k(),f.removeClass("in")}};var c=b.fn.tab;b.fn.tab=function(f){return this.each(function(){var h=b(this),g=h.data("tab");g||h.data("tab",g=new a(this)),typeof f=="string"&&g[f]()})},b.fn.tab.Constructor=a,b.fn.tab.noConflict=function(){return b.fn.tab=c,this},b(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault(),b(this).tab("show")})}(window.jQuery),!function(b){var a=function(f,g){this.$element=b(f),this.options=b.extend({},b.fn.typeahead.defaults,g),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=b(this.options.menu),this.shown=!1,this.listen()};a.prototype={constructor:a,select:function(){var f=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(f)).change(),this.hide()},updater:function(f){return f},show:function(){var f=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:f.top+f.height,left:f.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(f){var g;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(g=b.isFunction(this.source)?this.source(this.query,b.proxy(this.process,this)):this.source,g?this.process(g):this)},process:function(f){var g=this;return f=b.grep(f,function(h){return g.matcher(h)}),f=this.sorter(f),f.length?this.render(f.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(f){return ~f.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(j){var g=[],k=[],h=[],f;while(f=j.shift()){f.toLowerCase().indexOf(this.query.toLowerCase())?~f.indexOf(this.query)?k.push(f):h.push(f):g.push(f)}return g.concat(k,h)},highlighter:function(g){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return g.replace(new RegExp("("+f+")","ig"),function(j,h){return"<strong>"+h+"</strong>"})},render:function(f){var g=this;return f=b(f).map(function(h,j){return h=b(g.options.item).attr("data-value",j),h.find("a").html(g.highlighter(j)),h[0]}),f.first().addClass("active"),this.$menu.html(f),this},next:function(f){var h=this.$menu.find(".active").removeClass("active"),g=h.next();g.length||(g=b(this.$menu.find("li")[0])),g.addClass("active")},prev:function(g){var f=this.$menu.find(".active").removeClass("active"),h=f.prev();h.length||(h=this.$menu.find("li").last()),h.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",b.proxy(this.keydown,this)),this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},eventSupported:function(g){var f=g in this.$element;return f||(this.$element.setAttribute(g,"return;"),f=typeof this.$element[g]=="function"),f},move:function(f){if(!this.shown){return}switch(f.keyCode){case 9:case 13:case 27:f.preventDefault();break;case 38:f.preventDefault(),this.prev();break;case 40:f.preventDefault(),this.next()}f.stopPropagation()},keydown:function(f){this.suppressKeyPressRepeat=~b.inArray(f.keyCode,[40,38,9,13,27]),this.move(f)},keypress:function(f){if(this.suppressKeyPressRepeat){return}this.move(f)},keyup:function(f){switch(f.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}f.stopPropagation(),f.preventDefault()},focus:function(f){this.focused=!0},blur:function(f){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(f){f.stopPropagation(),f.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(f){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),b(f.currentTarget).addClass("active")},mouseleave:function(f){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=b.fn.typeahead;b.fn.typeahead=function(f){return this.each(function(){var j=b(this),g=j.data("typeahead"),h=typeof f=="object"&&f;g||j.data("typeahead",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},b.fn.typeahead.Constructor=a,b.fn.typeahead.noConflict=function(){return b.fn.typeahead=c,this},b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var g=b(this);if(g.data("typeahead")){return}g.typeahead(g.data())})}(window.jQuery),!function(b){var a=function(f,g){this.options=b.extend({},b.fn.affix.defaults,g),this.$window=b(window).on("scroll.affix.data-api",b.proxy(this.checkPosition,this)).on("click.affix.data-api",b.proxy(function(){setTimeout(b.proxy(this.checkPosition,this),1)},this)),this.$element=b(f),this.checkPosition()};a.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var j=b(document).height(),v=this.$window.scrollTop(),p=this.$element.offset(),h=this.options.offset,k=h.bottom,q=h.top,g="affix affix-top affix-bottom",f;typeof h!="object"&&(k=q=h),typeof q=="function"&&(q=h.top()),typeof k=="function"&&(k=h.bottom()),f=this.unpin!=null&&v+this.unpin<=p.top?!1:k!=null&&p.top+this.$element.height()>=j-k?"bottom":q!=null&&v<=q?"top":!1;if(this.affixed===f){return}this.affixed=f,this.unpin=f=="bottom"?p.top-v:null,this.$element.removeClass(g).addClass("affix"+(f?"-"+f:""))};var c=b.fn.affix;b.fn.affix=function(f){return this.each(function(){var j=b(this),g=j.data("affix"),h=typeof f=="object"&&f;g||j.data("affix",g=new a(this,h)),typeof f=="string"&&g[f]()})},b.fn.affix.Constructor=a,b.fn.affix.defaults={offset:0},b.fn.affix.noConflict=function(){return b.fn.affix=c,this},b(window).on("load",function(){b('[data-spy="affix"]').each(function(){var f=b(this),g=f.data();g.offset=g.offset||{},g.offsetBottom&&(g.offset.bottom=g.offsetBottom),g.offsetTop&&(g.offset.top=g.offsetTop),f.affix(g)})})}(window.jQuery);
/*! jQuery UI - v1.10.2 - 2013-04-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.resizable.js, jquery.ui.slider.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(h,f){function c(q,p){var k,w,u,v=q.nodeName.toLowerCase();return"area"===v?(k=q.parentNode,w=k.name,q.href&&w&&"map"===k.nodeName.toLowerCase()?(u=h("img[usemap=#"+w+"]")[0],!!u&&g(u)):!1):(/input|select|textarea|button|object/.test(v)?!q.disabled:"a"===v?q.href||p:p)&&g(q)}function g(a){return h.expr.filters.visible(a)&&!h(a).parents().addBack().filter(function(){return"hidden"===h.css(this,"visibility")}).length}var b=0,j=/^ui-id-\d+$/;h.ui=h.ui||{},h.extend(h.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),h.fn.extend({focus:function(a){return function(k,o){return"number"==typeof k?this.each(function(){var p=this;setTimeout(function(){h(p).focus(),o&&o.call(p)},k)}):a.apply(this,arguments)}}(h.fn.focus),scrollParent:function(){var a;return a=h.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(h.css(this,"position"))&&/(auto|scroll)/.test(h.css(this,"overflow")+h.css(this,"overflow-y")+h.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(h.css(this,"overflow")+h.css(this,"overflow-y")+h.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?h(document):a},zIndex:function(o){if(o!==f){return this.css("zIndex",o)}if(this.length){for(var p,k,q=h(this[0]);q.length&&q[0]!==document;){if(p=q.css("position"),("absolute"===p||"relative"===p||"fixed"===p)&&(k=parseInt(q.css("zIndex"),10),!isNaN(k)&&0!==k)){return k}q=q.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){j.test(this.id)&&h(this).removeAttr("id")})}}),h.extend(h.expr[":"],{data:h.expr.createPseudo?h.expr.createPseudo(function(a){return function(k){return !!h.data(k,a)}}):function(k,a,o){return !!h.data(k,o[3])},focusable:function(a){return c(a,!isNaN(h.attr(a,"tabindex")))},tabbable:function(o){var p=h.attr(o,"tabindex"),k=isNaN(p);return(k||p>=0)&&c(o,!k)}}),h("<a>").outerWidth(1).jquery||h.each(["Width","Height"],function(p,q){function k(w,r,x,o){return h.each(v,function(){r-=parseFloat(h.css(w,"padding"+this))||0,x&&(r-=parseFloat(h.css(w,"border"+this+"Width"))||0),o&&(r-=parseFloat(h.css(w,"margin"+this))||0)}),r}var v="Width"===q?["Left","Right"]:["Top","Bottom"],t=q.toLowerCase(),u={innerWidth:h.fn.innerWidth,innerHeight:h.fn.innerHeight,outerWidth:h.fn.outerWidth,outerHeight:h.fn.outerHeight};h.fn["inner"+q]=function(a){return a===f?u["inner"+q].call(this):this.each(function(){h(this).css(t,k(this,a)+"px")})},h.fn["outer"+q]=function(o,a){return"number"!=typeof o?u["outer"+q].call(this,o):this.each(function(){h(this).css(t,k(this,o,!0,a)+"px")})}}),h.fn.addBack||(h.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),h("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(h.fn.removeData=function(a){return function(k){return arguments.length?a.call(this,h.camelCase(k)):a.call(this)}}(h.fn.removeData)),h.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),h.support.selectstart="onselectstart" in document.createElement("div"),h.fn.extend({disableSelection:function(){return this.bind((h.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),h.extend(h.ui,{plugin:{add:function(p,o,q){var k,r=h.ui[p].prototype;for(k in q){r.plugins[k]=r.plugins[k]||[],r.plugins[k].push([o,q[k]])}},call:function(r,p,o){var q,k=r.plugins[p];if(k&&r.element[0].parentNode&&11!==r.element[0].parentNode.nodeType){for(q=0;k.length>q;q++){r.options[k[q][0]]&&k[q][1].apply(r.element,o)}}}},hasScroll:function(p,o){if("hidden"===h(p).css("overflow")){return !1}var q=o&&"left"===o?"scrollLeft":"scrollTop",k=!1;return p[q]>0?!0:(p[q]=1,k=p[q]>0,p[q]=0,k)}})})(jQuery);(function(f,b){var a=0,c=Array.prototype.slice,g=f.cleanData;f.cleanData=function(k){for(var j,o=0;null!=(j=k[o]);o++){try{f(j).triggerHandler("remove")}catch(h){}}g(k)},f.widget=function(t,z,p){var w,j,k,v,q={},x=t.split(".")[0];t=t.split(".")[1],w=x+"-"+t,p||(p=z,z=f.Widget),f.expr[":"][w.toLowerCase()]=function(h){return !!f.data(h,w)},f[x]=f[x]||{},j=f[x][t],k=f[x][t]=function(o,h){return this._createWidget?(arguments.length&&this._createWidget(o,h),b):new k(o,h)},f.extend(k,j,{version:p.version,_proto:f.extend({},p),_childConstructors:[]}),v=new z,v.options=f.widget.extend({},v.options),f.each(p,function(h,o){return f.isFunction(o)?(q[h]=function(){var u=function(){return z.prototype[h].apply(this,arguments)},r=function(A){return z.prototype[h].apply(this,A)};return function(){var B,C=this._super,A=this._superApply;return this._super=u,this._superApply=r,B=o.apply(this,arguments),this._super=C,this._superApply=A,B}}(),b):(q[h]=o,b)}),k.prototype=f.widget.extend(v,{widgetEventPrefix:j?v.widgetEventPrefix:t},q,{constructor:k,namespace:x,widgetName:t,widgetFullName:w}),j?(f.each(j._childConstructors,function(o,h){var r=h.prototype;f.widget(r.namespace+"."+r.widgetName,k,h._proto)}),delete j._childConstructors):z._childConstructors.push(k),f.widget.bridge(t,k)},f.widget.extend=function(k){for(var u,j,q=c.call(arguments,1),t=0,p=q.length;p>t;t++){for(u in q[t]){j=q[t][u],q[t].hasOwnProperty(u)&&j!==b&&(k[u]=f.isPlainObject(j)?f.isPlainObject(k[u])?f.widget.extend({},k[u],j):f.widget.extend({},j):j)}}return k},f.widget.bridge=function(j,k){var h=k.prototype.widgetFullName||j;f.fn[j]=function(t){var u="string"==typeof t,q=c.call(arguments,1),p=this;return t=!u&&q.length?f.widget.extend.apply(null,[t].concat(q)):t,u?this.each(function(){var o,r=f.data(this,h);return r?f.isFunction(r[t])&&"_"!==t.charAt(0)?(o=r[t].apply(r,q),o!==r&&o!==b?(p=o&&o.jquery?p.pushStack(o.get()):o,!1):b):f.error("no such method '"+t+"' for "+j+" widget instance"):f.error("cannot call methods on "+j+" prior to initialization; attempted to call method '"+t+"'")}):this.each(function(){var o=f.data(this,h);o?o.option(t||{})._init():f.data(this,h,new k(t,this))}),p}},f.Widget=function(){},f.Widget._childConstructors=[],f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(h,j){j=f(j||this.defaultElement||this)[0],this.element=f(j),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=f.widget.extend({},this.options,this._getCreateOptions(),h),this.bindings=f(),this.hoverable=f(),this.focusable=f(),j!==this&&(f.data(j,this.widgetFullName,this),this._on(!0,this.element,{remove:function(k){k.target===j&&this.destroy()}}),this.document=f(j.style?j.ownerDocument:j.document||j),this.window=f(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:f.noop,_getCreateEventData:f.noop,_create:f.noop,_init:f.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(f.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:f.noop,widget:function(){return this.element},option:function(j,k){var t,h,p,q=j;if(0===arguments.length){return f.widget.extend({},this.options)}if("string"==typeof j){if(q={},t=j.split("."),j=t.shift(),t.length){for(h=q[j]=f.widget.extend({},this.options[j]),p=0;t.length-1>p;p++){h[t[p]]=h[t[p]]||{},h=h[t[p]]}if(j=t.pop(),k===b){return h[j]===b?null:h[j]}h[j]=k}else{if(k===b){return this.options[j]===b?null:this.options[j]}q[j]=k}}return this._setOptions(q),this},_setOptions:function(j){var h;for(h in j){this._setOption(h,j[h])}return this},_setOption:function(j,h){return this.options[j]=h,"disabled"===j&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(j,k,p){var h,o=this;"boolean"!=typeof j&&(p=k,k=j,j=!1),p?(k=h=f(k),this.bindings=this.bindings.add(k)):(p=k,k=this.element,h=this.widget()),f.each(p,function(x,v){function t(){return j||o.options.disabled!==!0&&!f(this).hasClass("ui-state-disabled")?("string"==typeof v?o[v]:v).apply(o,arguments):b}"string"!=typeof v&&(t.guid=v.guid=v.guid||t.guid||f.guid++);var q=x.match(/^(\w+)\s*(.*)$/),r=q[1]+o.eventNamespace,w=q[2];w?h.delegate(w,r,t):k.bind(r,t)})},_off:function(j,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,j.unbind(h).undelegate(h)},_delay:function(o,j){function h(){return("string"==typeof o?k[o]:o).apply(k,arguments)}var k=this;return setTimeout(h,j||0)},_hoverable:function(h){this.hoverable=this.hoverable.add(h),this._on(h,{mouseenter:function(j){f(j.currentTarget).addClass("ui-state-hover")},mouseleave:function(j){f(j.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(h){this.focusable=this.focusable.add(h),this._on(h,{focusin:function(j){f(j.currentTarget).addClass("ui-state-focus")},focusout:function(j){f(j.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(k,j,o){var q,h,p=this.options[k];if(o=o||{},j=f.Event(j),j.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),j.target=this.element[0],h=j.originalEvent){for(q in h){q in j||(j[q]=h[q])}}return this.element.trigger(j,o),!(f.isFunction(p)&&p.apply(this.element[0],[j].concat(o))===!1||j.isDefaultPrevented())}},f.each({show:"fadeIn",hide:"fadeOut"},function(j,h){f.Widget.prototype["_"+j]=function(p,u,k){"string"==typeof u&&(u={effect:u});var q,t=u?u===!0||"number"==typeof u?h:u.effect||h:j;u=u||{},"number"==typeof u&&(u={duration:u}),q=!f.isEmptyObject(u),u.complete=k,u.delay&&p.delay(u.delay),q&&f.effects&&f.effects.effect[t]?p[j](u):t!==j&&p[t]?p[t](u.duration,u.easing,k):p.queue(function(o){f(this)[j](),k&&k.call(p[0]),o()})}})})(jQuery);(function(b){var a=!1;b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(f){return c._mouseDown(f)}).bind("click."+this.widgetName,function(f){return !0===b.data(f.target,c.widgetName+".preventClickEvent")?(b.removeData(f.target,c.widgetName+".preventClickEvent"),f.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!a){this._mouseStarted&&this._mouseUp(f),this._mouseDownEvent=f;var g=this,h=1===f.which,c="string"==typeof this.options.cancel&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:!1;return h&&!c&&this._mouseCapture(f)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=this._mouseStart(f)!==!1,!this._mouseStarted)?(f.preventDefault(),!0):(!0===b.data(f.target,this.widgetName+".preventClickEvent")&&b.removeData(f.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(j){return g._mouseMove(j)},this._mouseUpDelegate=function(j){return g._mouseUp(j)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),f.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,b){if(this.position=this._generatePosition(c),this.positionAbs=this._convertPositionTo("absolute"),!b){var f=this._uiHash();if(this._trigger("drag",c,f)===!1){return this._mouseUp({}),!1}this.position=f.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,c),!1},_mouseStop:function(f){var c,g=this,h=!1,b=!1;for(a.ui.ddmanager&&!this.options.dropBehaviour&&(b=a.ui.ddmanager.drop(this,f)),this.dropped&&(b=this.dropped,this.dropped=!1),c=this.element[0];c&&(c=c.parentNode);){c===document&&(h=!0)}return h||"original"!==this.options.helper?("invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",f)!==!1&&g._clear()}):this._trigger("stop",f)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var b=this.options,f=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[c])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return f.parents("body").length||f.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),f[0]===this.element[0]||/(fixed|absolute)/.test(f.css("position"))||f.css("position","absolute"),f},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,b,f,g=this.options;if("parent"===g.containment&&(g.containment=this.helper[0].parentNode),("document"===g.containment||"window"===g.containment)&&(this.containment=["document"===g.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===g.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===g.containment?0:a(window).scrollLeft())+a("document"===g.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===g.containment?0:a(window).scrollTop())+(a("document"===g.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(g.containment)||g.containment.constructor===Array){g.containment.constructor===Array&&(this.containment=g.containment)}else{if(b=a(g.containment),f=b[0],!f){return}c="hidden"!==a(f).css("overflow"),this.containment=[(parseInt(a(f).css("borderLeftWidth"),10)||0)+(parseInt(a(f).css("paddingLeft"),10)||0),(parseInt(a(f).css("borderTopWidth"),10)||0)+(parseInt(a(f).css("paddingTop"),10)||0),(c?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(a(f).css("borderRightWidth"),10)||0)-(parseInt(a(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(a(f).css("borderBottomWidth"),10)||0)-(parseInt(a(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}},_convertPositionTo:function(f,c){c||(c=this.position);var g="absolute"===f?1:-1,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(h[0].tagName);return{top:c.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():b?0:h.scrollTop())*g,left:c.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():b?0:h.scrollLeft())*g}},_generatePosition:function(v){var j,w,f,p,c=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(b[0].tagName),g=v.pageX,q=v.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(w=this.relative_container.offset(),j=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):j=this.containment,v.pageX-this.offset.click.left<j[0]&&(g=j[0]+this.offset.click.left),v.pageY-this.offset.click.top<j[1]&&(q=j[1]+this.offset.click.top),v.pageX-this.offset.click.left>j[2]&&(g=j[2]+this.offset.click.left),v.pageY-this.offset.click.top>j[3]&&(q=j[3]+this.offset.click.top)),c.grid&&(f=c.grid[1]?this.originalPageY+Math.round((q-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,q=j?f-this.offset.click.top>=j[1]||f-this.offset.click.top>j[3]?f:f-this.offset.click.top>=j[1]?f-c.grid[1]:f+c.grid[1]:f,p=c.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,g=j?p-this.offset.click.left>=j[0]||p-this.offset.click.left>j[2]?p:p-this.offset.click.left>=j[0]?p-c.grid[0]:p+c.grid[0]:p)),{top:q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:b.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(c,b,f){return f=f||this._uiHash(),a.ui.plugin.call(this,c,[b,f]),"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,c,b,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(f,c){var g=a(this).data("ui-draggable"),h=g.options,b=a.extend({},c,{item:g.element});g.sortables=[],a(h.connectToSortable).each(function(){var j=a.data(this,"ui-sortable");j&&!j.options.disabled&&(g.sortables.push({instance:j,shouldRevert:j.options.revert}),j.refreshPositions(),j._trigger("activate",f,b))})},stop:function(c,b){var f=a(this).data("ui-draggable"),g=a.extend({},b,{item:f.element});a.each(f.sortables,function(){this.instance.isOver?(this.instance.isOver=0,f.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===f.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,g))})},drag:function(c,b){var f=a(this).data("ui-draggable"),g=this;a.each(f.sortables,function(){var h=!1,j=this;this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,this.instance.offset.click=f.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(h=!0,a.each(f.sortables,function(){return this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,this.instance.offset.click=f.offset.click,this!==j&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(j.instance.element[0],this.instance.element[0])&&(h=!1),h})),h?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(g).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=f.offset.click.top,this.instance.offset.click.left=f.offset.click.left,this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top,f._trigger("toSortable",c),f.dropped=this.instance.element,f.currentItem=f.element,this.instance.fromOutside=f),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),f._trigger("fromSortable",c),f.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(c,b){var f=a(b.helper),g=a(this).data("ui-draggable").options;f.css("opacity")&&(g._opacity=f.css("opacity")),f.css("opacity",g.opacity)},stop:function(c,b){var f=a(this).data("ui-draggable").options;f._opacity&&a(b.helper).css("opacity",f._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(c){var b=a(this).data("ui-draggable"),f=b.options,g=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(f.axis&&"x"===f.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-c.pageY<f.scrollSensitivity?b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop+f.scrollSpeed:c.pageY-b.overflowOffset.top<f.scrollSensitivity&&(b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop-f.scrollSpeed)),f.axis&&"y"===f.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-c.pageX<f.scrollSensitivity?b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft+f.scrollSpeed:c.pageX-b.overflowOffset.left<f.scrollSensitivity&&(b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft-f.scrollSpeed))):(f.axis&&"x"===f.axis||(c.pageY-a(document).scrollTop()<f.scrollSensitivity?g=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<f.scrollSensitivity&&(g=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed))),f.axis&&"y"===f.axis||(c.pageX-a(document).scrollLeft()<f.scrollSensitivity?g=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<f.scrollSensitivity&&(g=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)))),g!==!1&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var f=a(this),g=f.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:g.top,left:g.left})})},drag:function(w,F){var x,C,M,B,z,G,E,q,K,J,A=a(this).data("ui-draggable"),I=A.options,D=I.snapTolerance,H=F.offset.left,k=H+A.helperProportions.width,j=F.offset.top,L=j+A.helperProportions.height;for(K=A.snapElements.length-1;K>=0;K--){z=A.snapElements[K].left,G=z+A.snapElements[K].width,E=A.snapElements[K].top,q=E+A.snapElements[K].height,H>z-D&&G+D>H&&j>E-D&&q+D>j||H>z-D&&G+D>H&&L>E-D&&q+D>L||k>z-D&&G+D>k&&j>E-D&&q+D>j||k>z-D&&G+D>k&&L>E-D&&q+D>L?("inner"!==I.snapMode&&(x=D>=Math.abs(E-L),C=D>=Math.abs(q-j),M=D>=Math.abs(z-k),B=D>=Math.abs(G-H),x&&(F.position.top=A._convertPositionTo("relative",{top:E-A.helperProportions.height,left:0}).top-A.margins.top),C&&(F.position.top=A._convertPositionTo("relative",{top:q,left:0}).top-A.margins.top),M&&(F.position.left=A._convertPositionTo("relative",{top:0,left:z-A.helperProportions.width}).left-A.margins.left),B&&(F.position.left=A._convertPositionTo("relative",{top:0,left:G}).left-A.margins.left)),J=x||C||M||B,"outer"!==I.snapMode&&(x=D>=Math.abs(E-j),C=D>=Math.abs(q-L),M=D>=Math.abs(z-H),B=D>=Math.abs(G-k),x&&(F.position.top=A._convertPositionTo("relative",{top:E,left:0}).top-A.margins.top),C&&(F.position.top=A._convertPositionTo("relative",{top:q-A.helperProportions.height,left:0}).top-A.margins.top),M&&(F.position.left=A._convertPositionTo("relative",{top:0,left:z}).left-A.margins.left),B&&(F.position.left=A._convertPositionTo("relative",{top:0,left:G-A.helperProportions.width}).left-A.margins.left)),!A.snapElements[K].snapping&&(x||C||M||B||J)&&A.options.snap.snap&&A.options.snap.snap.call(A.element,w,a.extend(A._uiHash(),{snapItem:A.snapElements[K].item})),A.snapElements[K].snapping=x||C||M||B||J):(A.snapElements[K].snapping&&A.options.snap.release&&A.options.snap.release.call(A.element,w,a.extend(A._uiHash(),{snapItem:A.snapElements[K].item})),A.snapElements[K].snapping=!1)}}}),a.ui.plugin.add("draggable","stack",{start:function(){var c,b=this.data("ui-draggable").options,f=a.makeArray(a(b.stack)).sort(function(h,g){return(parseInt(a(h).css("zIndex"),10)||0)-(parseInt(a(g).css("zIndex"),10)||0)});f.length&&(c=parseInt(a(f[0]).css("zIndex"),10)||0,a(f).each(function(g){a(this).css("zIndex",c+g)}),this.css("zIndex",c+f.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(c,b){var f=a(b.helper),g=a(this).data("ui-draggable").options;f.css("zIndex")&&(g._zIndex=f.css("zIndex")),f.css("zIndex",g.zIndex)},stop:function(c,b){var f=a(this).data("ui-draggable").options;f._zIndex&&a(b.helper).css("zIndex",f._zIndex)}})})(jQuery);(function(c){function b(f){return parseInt(f,10)||0}function a(f){return !isNaN(parseInt(f,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var h,g,j,q,f,p=this,k=this.options;if(this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!k.aspectRatio,aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=k.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),h=this.handles.split(","),this.handles={},g=0;h.length>g;g++){j=c.trim(h[g]),f="ui-resizable-"+j,q=c("<div class='ui-resizable-handle "+f+"'></div>"),q.css({zIndex:k.zIndex}),"se"===j&&q.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[j]=".ui-resizable-"+j,this.element.append(q)}}this._renderAxis=function(u){var r,v,w,o;u=u||this.element;for(r in this.handles){this.handles[r].constructor===String&&(this.handles[r]=c(this.handles[r],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(v=c(this.handles[r],this.element),o=/sw|ne|nw|se|n|s/.test(r)?v.outerHeight():v.outerWidth(),w=["padding",/ne|nw|n/.test(r)?"Top":/se|sw|s/.test(r)?"Bottom":/^e$/.test(r)?"Right":"Left"].join(""),u.css(w,o),this._proportionallyResize()),c(this.handles[r]).length}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){p.resizing||(this.className&&(q=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),p.axis=q&&q[1]?q[1]:"se")}),k.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){k.disabled||(c(this).removeClass("ui-resizable-autohide"),p._handles.show())}).mouseleave(function(){k.disabled||p.resizing||(c(this).addClass("ui-resizable-autohide"),p._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var g,f=function(h){c(h).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(f(this.element),g=this.element,this.originalElement.css({position:g.css("position"),width:g.outerWidth(),height:g.outerHeight(),top:g.css("top"),left:g.css("left")}).insertAfter(g),g.remove()),this.originalElement.css("resize",this.originalResizeStyle),f(this.originalElement),this},_mouseCapture:function(g){var f,h,j=!1;for(f in this.handles){h=c(this.handles[f])[0],(h===g.target||c.contains(h,g.target))&&(j=!0)}return !this.options.disabled&&j},_mouseStart:function(g){var k,t,f,q=this.options,p=this.element.position(),j=this.element;return this.resizing=!0,/absolute/.test(j.css("position"))?j.css({position:"absolute",top:j.css("top"),left:j.css("left")}):j.is(".ui-draggable")&&j.css({position:"absolute",top:p.top,left:p.left}),this._renderProxy(),k=b(this.helper.css("left")),t=b(this.helper.css("top")),q.containment&&(k+=c(q.containment).scrollLeft()||0,t+=c(q.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:t},this.size=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalPosition={left:k,top:t},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalMousePosition={left:g.pageX,top:g.pageY},this.aspectRatio="number"==typeof q.aspectRatio?q.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor","auto"===f?this.axis+"-resize":f),j.addClass("ui-resizable-resizing"),this._propagate("start",g),!0},_mouseDrag:function(C){var v,D=this.helper,k={},A=this.originalMousePosition,j=this.axis,f=this.position.top,w=this.position.left,q=this.size.width,B=this.size.height,z=C.pageX-A.left||0,x=C.pageY-A.top||0,g=this._change[j];return g?(v=g.apply(this,[C,z,x]),this._updateVirtualBoundaries(C.shiftKey),(this._aspectRatio||C.shiftKey)&&(v=this._updateRatio(v,C)),v=this._respectSize(v,C),this._updateCache(v),this._propagate("resize",C),this.position.top!==f&&(k.top=this.position.top+"px"),this.position.left!==w&&(k.left=this.position.left+"px"),this.size.width!==q&&(k.width=this.size.width+"px"),this.size.height!==B&&(k.height=this.size.height+"px"),D.css(k),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(k)||this._trigger("resize",C,this.ui()),!1):!1},_mouseStop:function(x){this.resizing=!1;var p,z,j,v,g,f,q,k=this.options,w=this;return this._helper&&(p=this._proportionallyResizeElements,z=p.length&&/textarea/i.test(p[0].nodeName),j=z&&c.ui.hasScroll(p[0],"left")?0:w.sizeDiff.height,v=z?0:w.sizeDiff.width,g={width:w.helper.width()-v,height:w.helper.height()-j},f=parseInt(w.element.css("left"),10)+(w.position.left-w.originalPosition.left)||null,q=parseInt(w.element.css("top"),10)+(w.position.top-w.originalPosition.top)||null,k.animate||this.element.css(c.extend(g,{top:q,left:f})),w.helper.height(w.size.height),w.helper.width(w.size.width),this._helper&&!k.animate&&this._proportionallyResize()),c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",x),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(k){var g,h,q,f,p,j=this.options;p={minWidth:a(j.minWidth)?j.minWidth:0,maxWidth:a(j.maxWidth)?j.maxWidth:1/0,minHeight:a(j.minHeight)?j.minHeight:0,maxHeight:a(j.maxHeight)?j.maxHeight:1/0},(this._aspectRatio||k)&&(g=p.minHeight*this.aspectRatio,q=p.minWidth/this.aspectRatio,h=p.maxHeight*this.aspectRatio,f=p.maxWidth/this.aspectRatio,g>p.minWidth&&(p.minWidth=g),q>p.minHeight&&(p.minHeight=q),p.maxWidth>h&&(p.maxWidth=h),p.maxHeight>f&&(p.maxHeight=f)),this._vBoundaries=p},_updateCache:function(f){this.offset=this.helper.offset(),a(f.left)&&(this.position.left=f.left),a(f.top)&&(this.position.top=f.top),a(f.height)&&(this.size.height=f.height),a(f.width)&&(this.size.width=f.width)},_updateRatio:function(h){var f=this.position,g=this.size,j=this.axis;return a(h.height)?h.width=h.height*this.aspectRatio:a(h.width)&&(h.height=h.width/this.aspectRatio),"sw"===j&&(h.left=f.left+(g.width-h.width),h.top=null),"nw"===j&&(h.top=f.top+(g.height-h.height),h.left=f.left+(g.width-h.width)),h},_respectSize:function(q){var z=this._vBoundaries,A=this.axis,j=a(q.width)&&z.maxWidth&&z.maxWidth<q.width,w=a(q.height)&&z.maxHeight&&z.maxHeight<q.height,g=a(q.width)&&z.minWidth&&z.minWidth>q.width,f=a(q.height)&&z.minHeight&&z.minHeight>q.height,p=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,x=/sw|nw|w/.test(A),v=/nw|ne|n/.test(A);return g&&(q.width=z.minWidth),f&&(q.height=z.minHeight),j&&(q.width=z.maxWidth),w&&(q.height=z.maxHeight),g&&x&&(q.left=p-z.minWidth),j&&x&&(q.left=p-z.maxWidth),f&&v&&(q.top=k-z.minHeight),w&&v&&(q.top=k-z.maxHeight),q.width||q.height||q.left||!q.top?q.width||q.height||q.top||!q.left||(q.left=null):q.top=null,q},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var k,h,g,j,o,f=this.helper||this.element;for(k=0;this._proportionallyResizeElements.length>k;k++){if(o=this._proportionallyResizeElements[k],!this.borderDif){for(this.borderDif=[],g=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],j=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],h=0;g.length>h;h++){this.borderDif[h]=(parseInt(g[h],10)||0)+(parseInt(j[h],10)||0)}}o.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var g=this.element,f=this.options;this.elementOffset=g.offset(),this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(g,f){return{width:this.originalSize.width+f}},w:function(j,g){var f=this.originalSize,h=this.originalPosition;return{left:h.left+g,width:f.width-g}},n:function(j,g,f){var h=this.originalSize,k=this.originalPosition;return{top:k.top+f,height:h.height-f}},s:function(h,g,f){return{height:this.originalSize.height+f}},se:function(g,f,h){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,h]))},sw:function(g,f,h){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,h]))},ne:function(g,f,h){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,h]))},nw:function(g,f,h){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,h]))}},_propagate:function(g,f){c.ui.plugin.call(this,g,[f,this.ui()]),"resize"!==g&&this._trigger(g,f,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","animate",{stop:function(x){var p=c(this).data("ui-resizable"),z=p.options,j=p._proportionallyResizeElements,v=j.length&&/textarea/i.test(j[0].nodeName),g=v&&c.ui.hasScroll(j[0],"left")?0:p.sizeDiff.height,f=v?0:p.sizeDiff.width,q={width:p.size.width-f,height:p.size.height-g},k=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,w=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;p.element.animate(c.extend(q,w&&k?{top:w,left:k}:{}),{duration:z.animateDuration,easing:z.animateEasing,step:function(){var h={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};j&&j.length&&c(j[0]).css({width:h.width,height:h.height}),p._updateCache(h),p._propagate("resize",x)}})}}),c.ui.plugin.add("resizable","containment",{start:function(){var t,B,k,z,j,f,v,q=c(this).data("ui-resizable"),A=q.options,x=q.element,w=A.containment,g=w instanceof c?w.get(0):/parent/.test(w)?x.parent().get(0):w;g&&(q.containerElement=c(g),/document/.test(w)||w===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(t=c(g),B=[],c(["Top","Right","Left","Bottom"]).each(function(h,o){B[h]=b(t.css("padding"+o))}),q.containerOffset=t.offset(),q.containerPosition=t.position(),q.containerSize={height:t.innerHeight()-B[3],width:t.innerWidth()-B[1]},k=q.containerOffset,z=q.containerSize.height,j=q.containerSize.width,f=c.ui.hasScroll(g,"left")?g.scrollWidth:j,v=c.ui.hasScroll(g)?g.scrollHeight:z,q.parentData={element:g,left:k.left,top:k.top,width:f,height:v}))},resize:function(A){var p,B,j,x,g=c(this).data("ui-resizable"),f=g.options,q=g.containerOffset,k=g.position,z=g._aspectRatio||A.shiftKey,w={top:0,left:0},v=g.containerElement;v[0]!==document&&/static/.test(v.css("position"))&&(w=q),k.left<(g._helper?q.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-q.left:g.position.left-w.left),z&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=f.helper?q.left:0),k.top<(g._helper?q.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-q.top:g.position.top),z&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?q.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,p=Math.abs((g._helper?g.offset.left-w.left:g.offset.left-w.left)+g.sizeDiff.width),B=Math.abs((g._helper?g.offset.top-w.top:g.offset.top-q.top)+g.sizeDiff.height),j=g.containerElement.get(0)===g.element.parent().get(0),x=/relative|absolute/.test(g.containerElement.css("position")),j&&x&&(p-=g.parentData.left),p+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-p,z&&(g.size.height=g.size.width/g.aspectRatio)),B+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-B,z&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var v=c(this).data("ui-resizable"),p=v.options,w=v.containerOffset,j=v.containerPosition,u=v.containerElement,g=c(v.helper),f=g.offset(),q=g.outerWidth()-v.sizeDiff.width,k=g.outerHeight()-v.sizeDiff.height;v._helper&&!p.animate&&/relative/.test(u.css("position"))&&c(this).css({left:f.left-j.left-w.left,width:q,height:k}),v._helper&&!p.animate&&/static/.test(u.css("position"))&&c(this).css({left:f.left-j.left-w.left,width:q,height:k})}}),c.ui.plugin.add("resizable","alsoResize",{start:function(){var g=c(this).data("ui-resizable"),f=g.options,h=function(j){c(j).each(function(){var k=c(this);k.data("ui-resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10)})})};"object"!=typeof f.alsoResize||f.alsoResize.parentNode?h(f.alsoResize):f.alsoResize.length?(f.alsoResize=f.alsoResize[0],h(f.alsoResize)):c.each(f.alsoResize,function(j){h(j)})},resize:function(j,g){var p=c(this).data("ui-resizable"),v=p.options,f=p.originalSize,u=p.originalPosition,q={height:p.size.height-f.height||0,width:p.size.width-f.width||0,top:p.position.top-u.top||0,left:p.position.left-u.left||0},k=function(h,o){c(h).each(function(){var w=c(this),z=c(this).data("ui-resizable-alsoresize"),r={},x=o&&o.length?o:w.parents(g.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(x,function(C,B){var A=(z[B]||0)+(q[B]||0);A&&A>=0&&(r[B]=A||null)}),w.css(r)})};"object"!=typeof v.alsoResize||v.alsoResize.nodeType?k(v.alsoResize):c.each(v.alsoResize,function(o,h){k(o,h)})},stop:function(){c(this).removeData("resizable-alsoresize")}}),c.ui.plugin.add("resizable","ghost",{start:function(){var g=c(this).data("ui-resizable"),f=g.options,h=g.size;g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof f.ghost?f.ghost:""),g.ghost.appendTo(g.helper)},resize:function(){var f=c(this).data("ui-resizable");f.ghost&&f.ghost.css({position:"relative",height:f.size.height,width:f.size.width})},stop:function(){var f=c(this).data("ui-resizable");f.ghost&&f.helper&&f.helper.get(0).removeChild(f.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(){var J=c(this).data("ui-resizable"),A=J.options,K=J.size,w=J.originalSize,G=J.originalPosition,q=J.axis,j="number"==typeof A.grid?[A.grid,A.grid]:A.grid,B=j[0]||1,z=j[1]||1,I=Math.round((K.width-w.width)/B)*B,F=Math.round((K.height-w.height)/z)*z,E=w.width+I,k=w.height+F,D=A.maxWidth&&E>A.maxWidth,x=A.maxHeight&&k>A.maxHeight,C=A.minWidth&&A.minWidth>E,H=A.minHeight&&A.minHeight>k;A.grid=j,C&&(E+=B),H&&(k+=z),D&&(E-=B),x&&(k-=z),/^(se|s|e)$/.test(q)?(J.size.width=E,J.size.height=k):/^(ne)$/.test(q)?(J.size.width=E,J.size.height=k,J.position.top=G.top-F):/^(sw)$/.test(q)?(J.size.width=E,J.size.height=k,J.position.left=G.left-I):(J.size.width=E,J.size.height=k,J.position.top=G.top-F,J.position.left=G.left-I)}})})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var h,f,g=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",j=[];for(f=g.values&&g.values.length||1,k.length>f&&(k.slice(f).remove(),k=k.slice(0,f)),h=k.length;f>h;h++){j.push(c)}this.handles=k.add(a(j.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(o){a(this).data("ui-slider-handle-index",o)})},_createRange:function(){var f=this.options,c="";f.range?(f.range===!0&&(f.values?f.values.length&&2!==f.values.length?f.values=[f.values[0],f.values[0]]:a.isArray(f.values)&&(f.values=f.values.slice(0)):f.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===f.range||"max"===f.range?" ui-slider-range-"+f.range:""))):this.range=a([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var p,z,j,w,g,f,q,k,x=this,v=this.options;return v.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:t.pageX,y:t.pageY},z=this._normValueFromMouse(p),j=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(z-x.values(h));(j>c||j===c&&(h===x._lastChangedValue||x.values(h)===v.min))&&(j=c,w=a(this),g=h)}),f=this._start(t,g),f===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,w.addClass("ui-state-active").focus(),q=w.offset(),k=!a(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=k?{left:0,top:0}:{left:t.pageX-q.left-w.width()/2,top:t.pageY-q.top-w.height()/2-(parseInt(w.css("borderTopWidth"),10)||0)-(parseInt(w.css("borderBottomWidth"),10)||0)+(parseInt(w.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,g,z),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(f){var g={x:f.pageX,y:f.pageY},c=this._normValueFromMouse(g);return this._slide(f,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(g){var j,f,h,k,c;return"horizontal"===this.orientation?(j=this.elementSize.width,f=g.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(j=this.elementSize.height,f=g.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=f/j,h>1&&(h=1),0>h&&(h=0),"vertical"===this.orientation&&(h=1-h),k=this._valueMax()-this._valueMin(),c=this._valueMin()+h*k,this._trimAlignValue(c)},_start:function(f,g){var c={handle:this.handles[g],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(g),c.values=this.values()),this._trigger("start",f,c)},_slide:function(g,j,f){var h,k,c;this.options.values&&this.options.values.length?(h=this.values(j?0:1),2===this.options.values.length&&this.options.range===!0&&(0===j&&f>h||1===j&&h>f)&&(f=h),f!==this.values(j)&&(k=this.values(),k[j]=f,c=this._trigger("slide",g,{handle:this.handles[j],value:f,values:k}),h=this.values(j?0:1),c!==!1&&this.values(j,f,!0))):f!==this.value()&&(c=this._trigger("slide",g,{handle:this.handles[j],value:f}),c!==!1&&this.value(f))},_stop:function(f,g){var c={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(g),c.values=this.values()),this._trigger("stop",f,c)},_change:function(f,g){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(g),c.values=this.values()),this._lastChangedValue=g,this._trigger("change",f,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(h,f){var g,j,c;if(arguments.length>1){return this.options.values[h]=this._trimAlignValue(f),this._refreshValue(),this._change(null,h),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(h):this.value()}for(g=this.options.values,j=arguments[0],c=0;g.length>c;c+=1){g[c]=this._trimAlignValue(j[c]),this._change(null,c)}this._refreshValue()},_setOption:function(g,c){var f,h=0;switch("range"===g&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(h=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),g){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),f=0;h>f;f+=1){this._change(null,f)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(f){var h,c,g;if(arguments.length){return h=this.options.values[f],h=this._trimAlignValue(h)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),g=0;c.length>g;g+=1){c[g]=this._trimAlignValue(c[g])}return c}return[]},_trimAlignValue:function(f){if(this._valueMin()>=f){return this._valueMin()}if(f>=this._valueMax()){return this._valueMax()}var h=this.options.step>0?this.options.step:1,c=(f-this._valueMin())%h,g=f-c;return 2*Math.abs(c)>=h&&(g+=c>0?h:-h),parseFloat(g.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var q,k,w,g,t,f=this.options.range,c=this.options,p=this,j=this._animateOff?!1:c.animate,v={};this.options.values&&this.options.values.length?this.handles.each(function(h){k=100*((p.values(h)-p._valueMin())/(p._valueMax()-p._valueMin())),v["horizontal"===p.orientation?"left":"bottom"]=k+"%",a(this).stop(1,1)[j?"animate":"css"](v,c.animate),p.options.range===!0&&("horizontal"===p.orientation?(0===h&&p.range.stop(1,1)[j?"animate":"css"]({left:k+"%"},c.animate),1===h&&p.range[j?"animate":"css"]({width:k-q+"%"},{queue:!1,duration:c.animate})):(0===h&&p.range.stop(1,1)[j?"animate":"css"]({bottom:k+"%"},c.animate),1===h&&p.range[j?"animate":"css"]({height:k-q+"%"},{queue:!1,duration:c.animate}))),q=k}):(w=this.value(),g=this._valueMin(),t=this._valueMax(),k=t!==g?100*((w-g)/(t-g)):0,v["horizontal"===this.orientation?"left":"bottom"]=k+"%",this.handle.stop(1,1)[j?"animate":"css"](v,c.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:k+"%"},c.animate),"max"===f&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-k+"%"},{queue:!1,duration:c.animate}),"min"===f&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:k+"%"},c.animate),"max"===f&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-k+"%"},{queue:!1,duration:c.animate}))},_handleEvents:{keydown:function(f){var g,k,c,j,h=a(f.target).data("ui-slider-handle-index");switch(f.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(f.target).addClass("ui-state-active"),g=this._start(f,h),g===!1)){return}}switch(j=this.options.step,k=c=this.options.values&&this.options.values.length?this.values(h):this.value(),f.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===this._valueMax()){return}c=this._trimAlignValue(k+j);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===this._valueMin()){return}c=this._trimAlignValue(k-j)}this._slide(f,h,c)},click:function(c){c.preventDefault()},keyup:function(f){var c=a(f.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(f,c),this._change(f,c),a(f.target).removeClass("ui-state-active"))}}})})(jQuery);function eli18n(b){this.textdomain=function(a){return this.messages[a]?this._domain=a:this._domain};b&&b.messages&&this.load(b.messages);b&&b.textdomain&&this.textdomain(b.textdomain)}eli18n.prototype=new function(){this.messages={};this._domain="";this.load=function(k){if(typeof(k)=="object"){for(var j in k){var g=k[j];if(typeof(g)=="object"){if(!this.messages[j]){this.messages[j]={}}for(var h in g){if(typeof(g[h])=="string"){this.messages[j][h]=g[h]}}}}}return this};this.translate=function(c,f){var f=f&&this.messages[f]?f:this._domain;return this.messages[f]&&this.messages[f][c]?this.messages[f][c]:c};this.format=function(j,g,k){j=this.translate(j,k);if(typeof(g)=="object"){for(var h in g){j=j.replace("%"+h,this.translate(g[h],k))}}return j}};function elDialogForm(h){var g=this;var f={"class":"el-dialogform",submit:function(b,a){a.close()},form:{action:window.location.href,method:"post"},ajaxForm:null,validate:null,spinner:"Loading",tabs:{active:0,selected:0},tabPrefix:"el-df-tab-",dialog:{title:"dialog",autoOpen:false,modal:true,resizable:false,closeOnEscape:true,buttons:{Cancel:function(){g.close()},Ok:function(){g.form.trigger("submit")}}}};this.opts=jQuery.extend(true,{},f,h);this.opts.dialog.close=function(){g.close()};if(this.opts.rtl){this.opts["class"]+=" el-dialogform-rtl"}if(h&&h.dialog&&h.dialog.buttons&&typeof(h.dialog.buttons)=="object"){this.opts.dialog.buttons=h.dialog.buttons}this.ul=null;this.tabs={};this._table=null;this.dialog=jQuery("<div />").addClass(this.opts["class"]).dialog(this.opts.dialog);this.message=jQuery('<div class="el-dialogform-message rounded-5" />').hide().appendTo(this.dialog);this.error=jQuery('<div class="el-dialogform-error rounded-5" />').hide().appendTo(this.dialog);this.spinner=jQuery('<div class="spinner" />').hide().appendTo(this.dialog);this.content=jQuery('<div class="el-dialogform-content" />').appendTo(this.dialog);this.form=jQuery("<form />").attr(this.opts.form).appendTo(this.content);if(this.opts.submit){this.form.bind("submit",function(a){g.opts.submit(a,g)})}if(this.opts.ajaxForm&&jQuery.fn.ajaxForm){this.form.ajaxForm(this.opts.ajaxForm)}if(this.opts.validate){this.form.validate(this.opts.validate)}this.option=function(b,a){return this.dialog.dialog("option",b,a)};this.showError=function(b,a){this.hideMessage();this.hideSpinner();this.error.html(b).show();a&&this.content.hide();return this};this.hideError=function(){this.error.text("").hide();this.content.show();return this};this.showSpinner=function(a){this.error.hide();this.message.hide();this.content.hide();this.spinner.text(a||this.opts.spinner).show();this.option("buttons",{});return this};this.hideSpinner=function(){this.content.show();this.spinner.hide();return this};this.showMessage=function(b,a){this.hideError();this.hideSpinner();this.message.html(b||"").show();a&&this.content.hide();return this};this.hideMessage=function(){this.message.hide();this.content.show();return this};this.tab=function(a,b){a=this.opts.tabPrefix+a;if(!this.ul){this.ul=jQuery("<ul />").prependTo(this.form)}jQuery("<li />").append(jQuery("<a />").attr("href","#"+a).html(b)).appendTo(this.ul);this.tabs[a]={tab:jQuery("<div />").attr("id",a).addClass("tab").appendTo(this.form),table:null};return this};this.table=function(a){a=a&&a.indexOf(this.opts.tabPrefix)==-1?this.opts.tabPrefix+a:a;if(a&&this.tabs&&this.tabs[a]){this.tabs[a].table=jQuery("<table />").appendTo(this.tabs[a].tab)}else{this._table=jQuery("<table />").appendTo(this.form)}return this};this.append=function(b,a,o){a=a?"el-df-tab-"+a:"";if(!b){return this}if(a&&this.tabs[a]){if(o){!this.tabs[a].table&&this.table(a);var c=jQuery("<tr />").appendTo(this.tabs[a].table);if(!jQuery.isArray(b)){c.append(jQuery("<td />").append(b))}else{for(var p=0;p<b.length;p++){c.append(jQuery("<td />").append(b[p]))}}}else{if(!jQuery.isArray(b)){this.tabs[a].tab.append(b)}else{for(var p=0;p<b.length;p++){this.tabs[a].tab.append(b[p])}}}}else{if(!o){if(!jQuery.isArray(b)){this.form.append(b)}else{for(var p=0;p<b.length;p++){this.form.append(b[p])}}}else{if(!this._table){this.table()}var c=jQuery("<tr />").appendTo(this._table);if(!jQuery.isArray(b)){c.append(jQuery("<td />").append(b))}else{for(var p=0;p<b.length;p++){c.append(jQuery("<td />").append(b[p]))}}}}return this};this.separator=function(a){a="el-df-tab-"+a;if(this.tabs&&this.tabs[a]){this.tabs[a].tab.append(jQuery("<div />").addClass("separator"));this.tabs[a].table&&this.table(a)}else{this.form.append(jQuery("<div />").addClass("separator"))}return this};this.open=function(){var a=this;this.ul&&this.form.tabs(this.opts.tabs);setTimeout(function(){a.dialog.find(":text").keydown(function(b){if(b.keyCode==13){b.preventDefault();a.form.submit()}}).filter(":first")[0].focus()},200);this.dialog.dialog("open");return this};this.close=function(){if(typeof(this.opts.close)=="function"){this.opts.close()}this.dialog.dialog("destroy")}}(function(b){b.fn.elColorPicker=function(j){var a=this;var o=b.extend({},b.fn.elColorPicker.defaults,j);this.hidden=b('<input type="hidden" />').attr("name",o.name).val(o.color||"").appendTo(this);this.palette=null;this.preview=null;this.input=null;function p(c){a.val(c);o.change&&o.change(a.val());a.palette.slideUp()}function k(){a.palette=b("<div />").addClass(o.paletteClass+" rounded-3");for(var c=0;c<o.colors.length;c++){b("<div />").addClass("color").css("background-color",o.colors[c]).attr({title:o.colors[c],unselectable:"on"}).appendTo(a.palette).mouseenter(function(){var f=b(this).attr("title");a.input.val(f);a.preview.css("background-color",f)}).click(function(f){f.stopPropagation();p(b(this).attr("title"))})}a.input=b('<input type="text" />').addClass("rounded-3").attr("size",8).click(function(f){f.stopPropagation();b(this).focus()}).keydown(function(g){if(g.ctrlKey||g.metaKey){return true}var h=g.keyCode;if(h==27){return a.mouseleave()}if(h!=8&&h!=13&&h!=46&&h!=37&&h!=39&&(h<48||h>57)&&(h<65||h>70)){return false}var f=b(this).val();if(f.length==7||f.length==0){if(h==13){g.stopPropagation();g.preventDefault();p(f);a.palette.slideUp()}if(g.keyCode!=8&&g.keyCode!=46&&h!=37&&h!=39){return false}}}).keyup(function(f){var g=b(this).val();g.length==7&&/^#[0-9abcdef]{6}$/i.test(g)&&a.val(g)});a.preview=b("<div />").addClass("preview rounded-3").click(function(f){f.stopPropagation();p(a.input.val())});a.palette.append(b("<div />").addClass("clearfix")).append(b("<div />").addClass("panel").append(a.input).append(a.preview));if(o.palettePosition=="outer"){a.palette.hide().appendTo(a.parents("body").eq(0)).mouseleave(function(){if(!a.palette.is(":animated")){b(this).slideUp();a.val(a.val())}});a.mouseleave(function(f){if(f.relatedTarget!=a.palette.get(0)){if(!a.palette.is(":animated")){a.palette.slideUp();a.val(a.val())}}})}else{a.append(a.palette.hide()).mouseleave(function(f){a.palette.slideUp();a.val(a.val())})}a.val(a.val())}this.empty().addClass(o["class"]+" rounded-3").css({position:"relative","background-color":o.color||""}).click(function(h){if(!a.hasClass("disabled")){!a.palette&&k();if(o.palettePosition=="outer"&&a.palette.css("display")=="none"){var g=b(this).offset();var c=a.palette.width();var f=a.parents("body").width()-g.left>=c?g.left:g.left+b(this).outerWidth()-c;a.palette.css({left:f+"px",top:g.top+b(this).height()+1+"px"})}a.palette.slideToggle()}});this.val=function(c){if(!c&&c!==""){return this.hidden.val()}else{this.hidden.val(c);if(o.update){o.update(this.hidden.val())}else{this.css("background-color",c)}if(a.palette){a.preview.css("background-color",c);a.input.val(c)}}return this};return this};b.fn.elColorPicker.defaults={"class":"el-colorpicker",paletteClass:"el-palette",palettePosition:"inner",name:"color",color:"",update:null,change:function(a){},colors:["#ffffff","#cccccc","#999999","#666666","#333333","#000000","#ffcccc","#cc9999","#996666","#663333","#330000","#ff9999","#cc6666","#cc3333","#993333","#660000","#ff6666","#ff3333","#ff0000","#cc0000","#990000","#ff9966","#ff6633","#ff3300","#cc3300","#993300","#ffcc99","#cc9966","#cc6633","#996633","#663300","#ff9933","#ff6600","#ff9900","#cc6600","#cc9933","#ffcc66","#ffcc33","#ffcc00","#cc9900","#996600","#ffffcc","#cccc99","#999966","#666633","#333300","#ffff99","#cccc66","#cccc33","#999933","#666600","#ffff66","#ffff33","#ffff00","#cccc00","#999900","#ccff66","#ccff33","#ccff00","#99cc00","#669900","#ccff99","#99cc66","#99cc33","#669933","#336600","#99ff33","#99ff00","#66ff00","#66cc00","#66cc33","#99ff66","#66ff33","#33ff00","#33cc00","#339900","#ccffcc","#99cc99","#669966","#336633","#003300","#99ff99","#66cc66","#33cc33","#339933","#006600","#66ff66","#33ff33","#00ff00","#00cc00","#009900","#66ff99","#33ff66","#00ff33","#00cc33","#009933","#99ffcc","#66cc99","#33cc66","#339966","#006633","#33ff99","#00ff66","#00ff99","#00cc66","#33cc99","#66ffcc","#33ffcc","#00ffcc","#00cc99","#009966","#ccffff","#99cccc","#669999","#336666","#003333","#99ffff","#66cccc","#33cccc","#339999","#006666","#66cccc","#33ffff","#00ffff","#00cccc","#009999","#66ccff","#33ccff","#00ccff","#0099cc","#006699","#99ccff","#6699cc","#3399cc","#336699","#003366","#3399ff","#0099ff","#0066ff","#066ccc","#3366cc","#6699ff","#3366ff","#0033ff","#0033cc","#003399","#ccccff","#9999cc","#666699","#333366","#000033","#9999ff","#6666cc","#3333cc","#333399","#000066","#6666ff","#3333ff","#0000ff","#0000cc","#009999","#9966ff","#6633ff","#3300ff","#3300cc","#330099","#cc99ff","#9966cc","#6633cc","#663399","#330066","#9933ff","#6600ff","#9900ff","#6600cc","#9933cc","#cc66ff","#cc33ff","#cc00ff","#9900cc","#660099","#ffccff","#cc99cc","#996699","#663366","#330033","#ff99ff","#cc66cc","#cc33cc","#993399","#660066","#ff66ff","#ff33ff","#ff00ff","#cc00cc","#990099","#ff66cc","#ff33cc","#ff00cc","#cc0099","#990066","#ff99cc","#cc6699","#cc3399","#993366","#660033","#ff3399","#ff0099","#ff0066","#cc0066","#cc3366","#ff6699","#ff3366","#ff0033","#cc0033","#990033"]}})(jQuery);(function(b){b.fn.elBorderSelect=function(u){var r=this;var a=this.eq(0);var z=b.extend({},b.fn.elBorderSelect.defaults,u);var w=b('<input type="text" />').attr({name:z.name+"[width]",size:3}).css("text-align","right").change(function(){r.change()});var t=b("<div />").css("position","relative").elColorPicker({"class":"el-colorpicker ui-icon ui-icon-pencil",name:z.name+"[color]",palettePosition:"outer",change:function(){r.change()}});var x=b("<div />").elSelect({tpl:'<div style="border-bottom:4px %val #000;width:100%;margin:7px 0"> </div>',tpls:{"":"%label"},maxHeight:z.styleHeight||null,select:function(){r.change()},src:{"":"none",solid:"solid",dashed:"dashed",dotted:"dotted","double":"double",groove:"groove",ridge:"ridge",inset:"inset",outset:"outset"}});a.empty().addClass(z["class"]).attr("name",z.name||"").append(b("<table />").attr("cellspacing",0).append(b("<tr />").append(b("<td />").append(w).append(" px")).append(b("<td />").append(x)).append(b("<td />").append(t))));function v(c){function f(h){hexDigits=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return !h?"00":hexDigits[(h-h%16)/16]+hexDigits[h%16]}var g=(c||"").match(/\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)/);return g?"#"+f(g[1])+f(g[2])+f(g[3]):""}function o(f){if(!f){return f}var g=f.match(/([0-9]+\.?[0-9]*)\s*(px|pt|em|%)/);if(g){f=g[1];unit=g[2]}if(f[0]=="."){f="0"+f}f=parseFloat(f);if(isNaN(f)){return""}var c=parseInt(b(document.body).css("font-size"))||16;switch(unit){case"em":return parseInt(f*c);case"pt":return parseInt(f*c/12);case"%":return parseInt(f*c/100)}return f}this.change=function(){z.change&&z.change(this.val())};this.val=function(f){var g,c,k,h,j;if(!f&&f!==""){g=parseInt(w.val());g=!isNaN(g)?g+"px":"";c=x.val();k=t.val();return{width:g,style:c,color:k,css:b.trim(g+" "+c+" "+k)}}else{h="";if(f.nodeName||f.css){if(!f.css){f=b(f)}h=f.css("border");if((h=f.css("border"))){g=c=k=h}else{g=f.css("border-width");c=f.css("border-style");k=f.css("border-color")}}else{g=f.width||"";c=f.style||"";k=f.color||""}w.val(o(g));j=c?c.match(/(solid|dashed|dotted|double|groove|ridge|inset|outset)/i):"";x.val(j?j[1]:"");t.val(k.indexOf("#")===0?k:v(k));return this}};this.val(z.value);return this};b.fn.elBorderSelect.defaults={name:"el-borderselect","class":"el-borderselect",value:{},change:null}})(jQuery);(function(b){b.fn.elPaddingInput=function(k){var p=this;var o=b.extend({},b.fn.elPaddingInput.defaults,{name:this.attr("name")},k);this.regexps={main:new RegExp(o.type=="padding"?'paddings*:s*([^;"]+)':'margins*:s*([^;"]+)',"im"),left:new RegExp(o.type=="padding"?'padding-lefts*:s*([^;"]+)':'margin-lefts*:s*([^;"]+)',"im"),top:new RegExp(o.type=="padding"?'padding-tops*:s*([^;"]+)':'margin-tops*:s*([^;"]+)',"im"),right:new RegExp(o.type=="padding"?'padding-rights*:s*([^;"]+)':'margin-rights*:s*([^;"]+)',"im"),bottom:new RegExp(o.type=="padding"?'padding-bottoms*:s*([^;"]+)':'margin-bottoms*:s*([^;"]+)',"im")};b.each(["left","top","right","bottom"],function(){p[this]=b('<input type="text" />').attr("size",3).css("text-align","right").css("border-"+this,"2px solid red").bind("change",function(){b(this).val(a(b(this).val()));j()}).attr("name",o.name+"["+this+"]")});b.each(["uleft","utop","uright","ubottom"],function(){p[this]=b("<select />").append('<option value="px">px</option>').append('<option value="em">em</option>').append('<option value="pt">pt</option>').bind("change",function(){j()}).attr("name",o.name+"["+this+"]");if(o.percents){p[this].append('<option value="%">%</option>')}});this.empty().addClass(o["class"]).append(this.left).append(this.uleft).append(" x ").append(this.top).append(this.utop).append(" x ").append(this.right).append(this.uright).append(" x ").append(this.bottom).append(this.ubottom);this.val=function(v){if(!v&&v!==""){var c=a(this.left.val());var h=a(this.top.val());var t=a(this.right.val());var B=a(this.bottom.val());var C={left:c=="auto"||c==0?c:(c!==""?c+this.uleft.val():""),top:h=="auto"||h==0?h:(h!==""?h+this.utop.val():""),right:t=="auto"||t==0?t:(t!==""?t+this.uright.val():""),bottom:B=="auto"||B==0?B:(B!==""?B+this.ubottom.val():""),css:""};if(C.left!==""&&C.right!==""&&C.top!==""&&C.bottom!==""){if(C.left==C.right&&C.top==C.bottom){C.css=C.top+" "+C.left}else{C.css=C.top+" "+C.right+" "+C.bottom+" "+C.left}}return C}else{if(v.nodeName||v.css){if(!v.css){v=b(v)}var g={left:"",top:"",right:"",bottom:""};var r=(v.attr("style")||"").toLowerCase();if(r){r=b.trim(r);var f=r.match(this.regexps.main);if(f){var D=b.trim(f[1]).replace(/\s+/g," ").split(" ",4);g.top=D[0];g.right=D[1]&&D[1]!==""?D[1]:g.top;g.bottom=D[2]&&D[2]!==""?D[2]:g.top;g.left=D[3]&&D[3]!==""?D[3]:g.right}else{b.each(["left","top","right","bottom"],function(){var q=this.toString();f=r.match(p.regexps[q]);if(f){g[q]=f[1]}})}}var v=g}b.each(["left","top","right","bottom"],function(){var u=this.toString();p[u].val("");p["u"+u].val();if(typeof(v[u])!="undefined"&&v[u]!==null){v[u]=v[u].toString();var q=a(v[u]);p[u].val(q);var w=v[u].match(/(px|em|pt|%)/i);p["u"+u].val(w?w[1]:"px")}});return this}};function a(c){c=b.trim(c.toString());if(c[0]=="."){c="0"+c}n=parseFloat(c);return !isNaN(n)?n:(c=="auto"?c:"")}function j(){o.change&&o.change(p)}this.val(o.value);return this};b.fn.elPaddingInput.defaults={name:"el-paddinginput","class":"el-paddinginput",type:"padding",value:{},percents:true,change:null}})(jQuery);(function(b){b.fn.elSelect=function(C){var o=this;var E=this.eq(0);var D=b.extend({},b.fn.elSelect.defaults,C);var A=b('<input type="hidden" />').attr("name",D.name);var v=b("<label />").attr({unselectable:"on"}).addClass("rounded-left-3");var z=null;var w=null;if(E.get(0).nodeName=="SELECT"){D.src={};E.children("option").each(function(){D.src[b(this).val()]=b(this).text()});D.value=E.val();D.name=E.attr("name");E.replaceWith((E=b("<div />")))}if(!D.value||!D.src[D.val]){D.value=null;var B=0;for(var a in D.src){if(B++==0){D.value=a}}}this.val=function(c){if(!c&&c!==""){return A.val()}else{if(D.src[c]){A.val(c);x(c);if(z){z.children().each(function(){if(b(this).attr("name")==c){b(this).addClass("active")}else{b(this).removeClass("active")}})}}return this}};function x(f){var c=D.labelTpl||D.tpls[f]||D.tpl;v.html(c.replace(/%val/g,f).replace(/%label/,D.src[f])).children().attr({unselectable:"on"})}E.empty().addClass(D["class"]+" rounded-3").attr({unselectable:"on"}).append(A).append(v).hover(function(){b(this).addClass("hover")},function(){b(this).removeClass("hover")}).click(function(c){!z&&F();z.slideToggle();if(b.browser.msie&&!w){z.children().each(function(){w=Math.max(w,b(this).width())});if(w>z.width()){z.width(w+40)}}});this.val(D.value);function F(){z=b("<div />").addClass(D.listClass+" rounded-3").hide().appendTo(E.mouseleave(function(j){z.slideUp()}));for(var f in D.src){var h=D.tpls[f]||D.tpl;b("<div />").attr("name",f).append(b(h.replace(/%val/g,f).replace(/%label/g,D.src[f])).attr({unselectable:"on"})).appendTo(z).hover(function(){b(this).addClass("hover")},function(){b(this).removeClass("hover")}).click(function(k){k.stopPropagation();k.preventDefault();var j=b(this).attr("name");o.val(j);D.select(j);z.slideUp()})}var g=E.outerWidth();if(z.width()<g){z.width(g)}var c=z.height();if(D.maxHeight>0&&c>D.maxHeight){z.height(D.maxHeight)}o.val(A.val())}return this};b.fn.elSelect.defaults={name:"el-select","class":"el-select",listClass:"list",labelTpl:null,tpl:"<%val>%label</%val>",tpls:{},value:null,src:{},select:function(a){window.console&&window.console.log&&window.console.log("selected: "+a)},maxHeight:410}})(jQuery);(function(b){elRTE=function(v,q){if(!v||!v.nodeName){return alert('elRTE: argument "target" is not DOM Element')}var w=this,u;this.version="1.3";this.build="2011-06-23";this.options=b.extend(true,{},this.options,q);this.browser=b.browser;this.target=b(v);this.lang=(""+this.options.lang);this._i18n=new eli18n({textdomain:"rte",messages:{rte:this.i18Messages[this.lang]||{}}});this.rtl=!!(/^(ar|fa|he)$/.test(this.lang)&&this.i18Messages[this.lang]);if(this.rtl){this.options.cssClass+=" el-rte-rtl"}this.toolbar=b('<div class="toolbar"/>');this.iframe=document.createElement("iframe");this.iframe.setAttribute("frameborder",0);this.workzone=b('<div class="workzone"/>').append(this.iframe).append(this.source);this.statusbar=b('<div class="statusbar"/>');this.tabsbar=b('<div class="tabsbar"/>');this.editor=b('<div class="'+this.options.cssClass+'" />').append(this.toolbar).append(this.workzone).append(this.statusbar).append(this.tabsbar);this.doc=null;this.$doc=null;this.window=null;this.utils=new this.utils(this);this.dom=new this.dom(this);this.filter=new this.filter(this);this.updateHeight=function(){w.workzone.add(w.iframe).add(w.source).height(w.workzone.height())};this.resizable=function(c){var f=this;if(this.options.resizable&&b.fn.resizable){if(c){this.editor.resizable({handles:"se",alsoResize:this.workzone,minWidth:300,minHeight:200}).bind("resize",f.updateHeight)}else{this.editor.resizable("destroy").unbind("resize",f.updateHeight)}}};this.editor.insertAfter(v);var r="";if(v.nodeName=="TEXTAREA"){this.source=this.target;this.source.insertAfter(this.iframe).hide();r=this.target.val()}else{this.source=b("<textarea />").insertAfter(this.iframe).hide();r=this.target.hide().html()}this.source.attr("name",this.target.attr("name")||this.target.attr("id"));r=b.trim(r);if(!r){r=" "}if(this.options.allowSource){this.tabsbar.append('<div class="tab editor rounded-bottom-7 active">'+w.i18n("Editor")+'</div><div class="tab source rounded-bottom-7">'+w.i18n("Source")+'</div><div class="clearfix" style="clear:both"/>').children(".tab").click(function(c){if(!b(this).hasClass("active")){w.tabsbar.children(".tab").toggleClass("active");w.workzone.children().toggle();if(b(this).hasClass("editor")){w.updateEditor();w.window.focus();w.ui.update(true)}else{w.updateSource();w.source.focus();if(b.browser.msie){}else{w.source[0].setSelectionRange(0,0)}w.ui.disable();w.statusbar.empty()}}})}this.window=this.iframe.contentWindow;this.doc=this.iframe.contentWindow.document;this.$doc=b(this.doc);u='<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';b.each(w.options.cssfiles,function(){u+='<link rel="stylesheet" type="text/css" href="'+this+'" />'});this.doc.open();var t=this.filter.wysiwyg(r),a=this.rtl?' class="el-rte-rtl"':"";this.doc.write(w.options.doctype+u+"</head><body"+a+">"+(t)+"</body></html>");this.doc.close();if(b.browser.msie){this.doc.body.contentEditable=true}else{try{this.doc.designMode="on"}catch(p){}this.doc.execCommand("styleWithCSS",false,this.options.styleWithCSS)}if(this.options.height>0){this.workzone.height(this.options.height)}if(this.options.width>0){this.editor.width(this.options.width)}this.updateHeight();this.resizable(true);this.window.focus();this.history=new this.history(this);this.selection=new this.selection(this);this.ui=new this.ui(this);this.target.parents("form").bind("submit.elfinder",function(c){w.source.parents("form").find('[name="el-select"]').remove();w.beforeSave()});this.source.bind("keydown",function(f){if(f.keyCode==9){f.preventDefault();if(b.browser.msie){var h=document.selection.createRange();h.text="\t"+h.text;this.focus()}else{var g=this.value.substr(0,this.selectionStart),c=this.value.substr(this.selectionEnd);this.value=g+"\t"+c;this.setSelectionRange(g.length+1,g.length+1)}}});b(this.doc.body).bind("dragend",function(c){setTimeout(function(){try{w.window.focus();var f=w.selection.getBookmark();w.selection.moveToBookmark(f);w.ui.update()}catch(g){}},200)});this.typing=false;this.lastKey=null;this.$doc.bind("mouseup",function(){w.typing=false;w.lastKey=null;w.ui.update()}).bind("keyup",function(c){if((c.keyCode>=8&&c.keyCode<=13)||(c.keyCode>=32&&c.keyCode<=40)||c.keyCode==46||(c.keyCode>=96&&c.keyCode<=111)){w.ui.update()}}).bind("keydown",function(f){if((f.metaKey||f.ctrlKey)&&f.keyCode==65){w.ui.update()}else{if(f.keyCode==13){var c=w.selection.getNode();if(w.dom.selfOrParent(c,/^PRE$/)){w.selection.insertNode(w.doc.createTextNode("\r\n"));return false}else{if(b.browser.safari&&f.shiftKey){w.selection.insertNode(w.doc.createElement("br"));return false}}}}if((f.keyCode>=48&&f.keyCode<=57)||f.keyCode==61||f.keyCode==109||(f.keyCode>=65&&f.keyCode<=90)||f.keyCode==188||f.keyCode==190||f.keyCode==191||(f.keyCode>=219&&f.keyCode<=222)){if(!w.typing){w.history.add(true)}w.typing=true;w.lastKey=null}else{if(f.keyCode==8||f.keyCode==46||f.keyCode==32||f.keyCode==13){if(f.keyCode!=w.lastKey){w.history.add(true)}w.lastKey=f.keyCode;w.typing=false}}if(f.keyCode==32&&b.browser.opera){w.selection.insertNode(w.doc.createTextNode(" "));return false}}).bind("paste",function(f){if(!w.options.allowPaste){f.stopPropagation();f.preventDefault()}else{var c=b(w.dom.create("div"))[0],g=w.doc.createTextNode("_");w.history.add(true);w.typing=true;w.lastKey=null;c.appendChild(g);w.selection.deleteContents().insertNode(c);w.selection.select(g);setTimeout(function(){if(c.parentNode){b(c).html(w.filter.proccess("paste",b(c).html()));g=c.lastChild;w.dom.unwrap(c);if(g){w.selection.select(g);w.selection.collapse(false)}}else{c.parentNode&&c.parentNode.removeChild(c);w.val(w.filter.proccess("paste",w.filter.wysiwyg2wysiwyg(b(w.doc.body).html())));w.selection.select(w.doc.body.firstChild);w.selection.collapse(true)}b(w.doc.body).mouseup()},15)}});if(b.browser.msie){this.$doc.bind("keyup",function(c){if(c.keyCode==86&&(c.metaKey||c.ctrlKey)){w.history.add(true);w.typing=true;w.lastKey=null;w.selection.saveIERange();w.val(w.filter.proccess("paste",w.filter.wysiwyg2wysiwyg(b(w.doc.body).html())));w.selection.restoreIERange();b(w.doc.body).mouseup();this.ui.update()}})}if(b.browser.safari){this.$doc.bind("click",function(c){b(w.doc.body).find(".elrte-webkit-hl").removeClass("elrte-webkit-hl");if(c.target.nodeName=="IMG"){b(c.target).addClass("elrte-webkit-hl")}}).bind("keyup",function(c){b(w.doc.body).find(".elrte-webkit-hl").removeClass("elrte-webkit-hl")})}this.window.focus();this.destroy=function(){this.updateSource();this.target.is("textarea")?this.target.val(b.trim(this.source.val())):this.target.html(b.trim(this.source.val()));this.editor.remove();this.target.show().parents("form").unbind("submit.elfinder")}};elRTE.prototype.i18n=function(a){return this._i18n.translate(a)};elRTE.prototype.open=function(){this.editor.show()};elRTE.prototype.close=function(){this.editor.hide()};elRTE.prototype.updateEditor=function(){this.val(this.source.val())};elRTE.prototype.updateSource=function(){this.source.val(this.filter.source(b(this.doc.body).html()))};elRTE.prototype.val=function(a){if(typeof(a)=="string"){a=""+a;if(this.source.is(":visible")){this.source.val(this.filter.source2source(a))}else{if(b.browser.msie){this.doc.body.innerHTML="<br />"+this.filter.wysiwyg(a);this.doc.body.removeChild(this.doc.body.firstChild)}else{this.doc.body.innerHTML=this.filter.wysiwyg(a)}}}else{if(this.source.is(":visible")){return this.filter.source2source(this.source.val()).trim()}else{return this.filter.source(b(this.doc.body).html()).trim()}}};elRTE.prototype.beforeSave=function(){this.source.val(b.trim(this.val())||"")};elRTE.prototype.save=function(){this.beforeSave();this.editor.parents("form").submit()};elRTE.prototype.log=function(a){if(window.console&&window.console.log){window.console.log(a)}};elRTE.prototype.i18Messages={};b.fn.elrte=function(h,a){var j=typeof(h)=="string"?h:"",k;this.each(function(){if(!this.elrte){this.elrte=new elRTE(this,typeof(h)=="object"?h:{})}switch(j){case"open":case"show":this.elrte.open();break;case"close":case"hide":this.elrte.close();break;case"updateSource":this.elrte.updateSource();break;case"destroy":this.elrte.destroy()}});if(j=="val"){if(!this.length){return""}else{if(this.length==1){return a?this[0].elrte.val(a):this[0].elrte.val()}else{k={};this.each(function(){k[this.elrte.source.attr("name")]=this.elrte.val()});return k}}}return this}})(jQuery);(function(b){elRTE.prototype.dom=function(f){this.rte=f;var a=this;this.regExp={textNodes:/^(A|ABBR|ACRONYM|ADDRESS|B|BDO|BIG|BLOCKQUOTE|CAPTION|CENTER|CITE|CODE|DD|DEL|DFN|DIV|DT|EM|FIELDSET|FONT|H[1-6]|I|INS|KBD|LABEL|LEGEND|LI|MARQUEE|NOBR|NOEMBED|P|PRE|Q|SAMP|SMALL|SPAN|STRIKE|STRONG|SUB|SUP|TD|TH|TT|VAR)$/,textContainsNodes:/^(A|ABBR|ACRONYM|ADDRESS|B|BDO|BIG|BLOCKQUOTE|CAPTION|CENTER|CITE|CODE|DD|DEL|DFN|DIV|DL|DT|EM|FIELDSET|FONT|H[1-6]|I|INS|KBD|LABEL|LEGEND|LI|MARQUEE|NOBR|NOEMBED|OL|P|PRE|Q|SAMP|SMALL|SPAN|STRIKE|STRONG|SUB|SUP|TABLE|THEAD|TBODY|TFOOT|TD|TH|TR|TT|UL|VAR)$/,block:/^(APPLET|BLOCKQUOTE|BR|CAPTION|CENTER|COL|COLGROUP|DD|DIV|DL|DT|H[1-6]|EMBED|FIELDSET|LI|MARQUEE|NOBR|OBJECT|OL|P|PRE|TABLE|THEAD|TBODY|TFOOT|TD|TH|TR|UL)$/,selectionBlock:/^(APPLET|BLOCKQUOTE|BR|CAPTION|CENTER|COL|COLGROUP|DD|DIV|DL|DT|H[1-6]|EMBED|FIELDSET|LI|MARQUEE|NOBR|OBJECT|OL|P|PRE|TD|TH|TR|UL)$/,header:/^H[1-6]$/,formElement:/^(FORM|INPUT|HIDDEN|TEXTAREA|SELECT|BUTTON)$/};this.root=function(){return this.rte.body};this.create=function(c){return this.rte.doc.createElement(c)};this.createBookmark=function(){var c=this.rte.doc.createElement("span");c.id="elrte-bm-"+Math.random().toString().substr(2);b(c).addClass("elrtebm elrte-protected");return c};this.indexOf=function(c){var h=0;c=b(c);while((c=c.prev())&&c.length){h++}return h};this.attr=function(c,k){var j="";if(c.nodeType==1){j=b(c).attr(k);if(j&&k!="src"&&k!="href"&&k!="title"&&k!="alt"){j=j.toString().toLowerCase()}}return j||""};this.findCommonAncestor=function(q,r){if(!q||!r){return this.rte.log("dom.findCommonAncestor invalid arguments")}if(q==r){return q}else{if(q.nodeName=="BODY"||r.nodeName=="BODY"){return this.rte.doc.body}}var w=b(q).parents(),c=b(r).parents(),u=c.length-1,v=c[u];for(var t=w.length-1;t>=0;t--,u--){if(w[t]==c[u]){v=w[t]}else{break}}return v};this.isEmpty=function(c){if(c.nodeType==1){return this.regExp.textNodes.test(c.nodeName)?b.trim(b(c).text()).length==0:false}else{if(c.nodeType==3){return/^(TABLE|THEAD|TFOOT|TBODY|TR|UL|OL|DL)$/.test(c.parentNode.nodeName)||c.nodeValue==""||(b.trim(c.nodeValue).length==0&&!(c.nextSibling&&c.previousSibling&&c.nextSibling.nodeType==1&&c.previousSibling.nodeType==1&&!this.regExp.block.test(c.nextSibling.nodeName)&&!this.regExp.block.test(c.previousSibling.nodeName)))}}return true};this.next=function(c){while(c.nextSibling&&(c=c.nextSibling)){if(c.nodeType==1||(c.nodeType==3&&!this.isEmpty(c))){return c}}return null};this.prev=function(c){while(c.previousSibling&&(c=c.previousSibling)){if(c.nodeType==1||(c.nodeType==3&&!this.isEmpty(c))){return c}}return null};this.isPrev=function(c,h){while((c=this.prev(c))){if(c==h){return true}}return false};this.nextAll=function(c){var h=[];while((c=this.next(c))){h.push(c)}return h};this.prevAll=function(c){var h=[];while((c=this.prev(c))){h.push(c)}return h};this.toLineEnd=function(c){var h=[];while((c=this.next(c))&&c.nodeName!="BR"&&c.nodeName!="HR"&&this.isInline(c)){h.push(c)}return h};this.toLineStart=function(c){var h=[];while((c=this.prev(c))&&c.nodeName!="BR"&&c.nodeName!="HR"&&this.isInline(c)){h.unshift(c)}return h};this.isFirstNotEmpty=function(c){while((c=this.prev(c))){if(c.nodeType==1||(c.nodeType==3&&b.trim(c.nodeValue)!="")){return false}}return true};this.isLastNotEmpty=function(c){while((c=this.next(c))){if(!this.isEmpty(c)){return false}}return true};this.isOnlyNotEmpty=function(c){return this.isFirstNotEmpty(c)&&this.isLastNotEmpty(c)};this.findLastNotEmpty=function(c){this.rte.log("findLastNotEmpty Who is here 0_o");if(c.nodeType==1&&(l=c.lastChild)){if(!this.isEmpty(l)){return l}while(l.previousSibling&&(l=l.previousSibling)){if(!this.isEmpty(l)){return l}}}return false};this.isInline=function(c){if(c.nodeType==3){return true}else{if(c.nodeType==1){c=b(c);var k=c.css("display");var o=c.css("float");return k=="inline"||k=="inline-block"||o=="left"||o=="right"}}return true};this.is=function(c,j){if(c&&c.nodeName){if(typeof(j)=="string"){j=this.regExp[j]||/.?/}if(j instanceof RegExp&&c.nodeName){return j.test(c.nodeName)}else{if(typeof(j)=="function"){return j(c)}}}return false};this.filter=function(c,k){var p=[],o;if(!c.push){return this.is(c,k)?c:null}for(o=0;o<c.length;o++){if(this.is(c[o],k)){p.push(c[o])}}return p};this.parents=function(c,j){var k=[];while(c&&(c=c.parentNode)&&c.nodeName!="BODY"&&c.nodeName!="HTML"){if(this.is(c,j)){k.push(c)}}return k};this.parent=function(c,j){return this.parents(c,j)[0]||null};this.selfOrParent=function(c,j,k){return this.is(c,j)?c:this.parent(c,k||j)};this.selfOrParentLink=function(c){c=this.selfOrParent(c,/^A$/);return c&&c.href?c:null};this.selfOrParentAnchor=function(c){c=this.selfOrParent(c,/^A$/);return c&&!c.href&&c.name?c:null};this.childLinks=function(c){var h=[];b("a[href]",c).each(function(){h.push(this)});return h};this.selectionHas=function(k){var c=this.rte.selection.cloneContents(),o;if(c&&c.childNodes&&c.childNodes.length){for(o=0;o<c.childNodes.length;o++){if(typeof(k)=="function"){if(k(c.childNodes[o])){return true}}else{if(c instanceof RegExp){if(k.test(c.childNodes[o].nodeName)){return true}}}}}return false};this.wrap=function(c,h){c=b.isArray(c)?c:[c];h=h.nodeName?h:this.create(h);if(c[0]&&c[0].nodeType&&c[0].parentNode){h=c[0].parentNode.insertBefore(h,c[0]);b(c).each(function(){if(this!=h){h.appendChild(this)}})}return h};this.unwrap=function(c){if(c&&c.parentNode){while(c.firstChild){c.parentNode.insertBefore(c.firstChild,c)}c.parentNode.removeChild(c)}};this.wrapContents=function(c,k){k=k.nodeName?k:this.create(k);for(var j=0;j<c.childNodes.length;j++){k.appendChild(c.childNodes[j])}c.appendChild(k);return k};this.cleanNode=function(c){if(c.nodeType!=1){return}if(/^(P|LI)$/.test(c.nodeName)&&(l=this.findLastNotEmpty(c))&&l.nodeName=="BR"){b(l).remove()}$n=b(c);$n.children().each(function(){this.cleanNode(this)});if(c.nodeName!="BODY"&&!/^(TABLE|TR|TD)$/.test(c)&&this.isEmpty(c)){return $n.remove()}if($n.attr("style")===""){$n.removeAttr("style")}if(this.rte.browser.safari&&$n.hasClass("Apple-span")){$n.removeClass("Apple-span")}if(c.nodeName=="SPAN"&&!$n.attr("style")&&!$n.attr("class")&&!$n.attr("id")){$n.replaceWith($n.html())}};this.cleanChildNodes=function(c){var h=this.cleanNode;b(c).children().each(function(){h(this)})};this.tableMatrix=function(c){var k=[];if(c&&c.nodeName=="TABLE"){var o=0;function p(h){for(var g=0;g<=o;g++){if(!k[h][g]){return g}}}b(c).find("tr").each(function(g){if(!b.isArray(k[g])){k[g]=[]}b(this).children("td,th").each(function(){var A=parseInt(b(this).attr("colspan")||1);var w=parseInt(b(this).attr("rowspan")||1);var x=p(g);for(var h=0;h<w;h++){for(var B=0;B<A;B++){var z=g+h;if(!b.isArray(k[z])){k[z]=[]}var j=B==0&&h==0?this:(h==0?B:"-");k[z][x+B]=j}}o=Math.max(o,k[g].length)})})}return k};this.indexesOfCell=function(c,k){for(var p=0;p<k.length;p++){for(var o=0;o<k[p].length;o++){if(k[p][o]==c){return[p,o]}}}};this.fixTable=function(w){if(w&&w.nodeName=="TABLE"){var t=b(w);var x=this.tableMatrix(w);var v=0;b.each(x,function(){v=Math.max(v,this.length)});if(v==0){return t.remove()}for(var c=0;c<x.length;c++){var u=x[c].length;if(u==0){t.find("tr").eq(c).remove()}else{if(u<v){var r=v-u;var z=t.find("tr").eq(c);for(i=0;i<r;i++){z.append("<td>&nbsp;</td>")}}}}}};this.tableColumn=function(A,B,w){A=this.selfOrParent(A,/^TD|TH$/);var z=this.selfOrParent(A,/^TABLE$/);ret=[];info={offset:[],delta:[]};if(A&&z){w&&this.fixTable(z);var E=this.tableMatrix(z);var D=false;var F;for(var C=0;C<E.length;C++){for(var c=0;c<E[C].length;c++){if(E[C][c]==A){F=c;D=true;break}}if(D){break}}if(F>=0){for(var C=0;C<E.length;C++){var x=E[C][F]||null;if(x){if(x.nodeName){ret.push(x);if(B){info.delta.push(0);info.offset.push(F)}}else{var r=parseInt(x);if(!isNaN(r)&&E[C][F-r]&&E[C][F-r].nodeName){ret.push(E[C][F-r]);if(B){info.delta.push(r);info.offset.push(F)}}}}}}}return !B?ret:{column:ret,info:info}}}})(jQuery);(function(b){elRTE.prototype.filter=function(h){var a=this,g=b("<span/>").addClass("elrtetesturl").appendTo(document.body)[0];this.url=(typeof(g.currentStyle)!="undefined"?g.currentStyle.backgroundImage:document.defaultView.getComputedStyle(g,null)["backgroundImage"]).replace(/^url\((['"]?)([\s\S]+\/)[\s\S]+\1\)$/i,"$2");b(g).remove();this.rte=h;this.xhtml=/xhtml/i.test(h.options.doctype);this.boolAttrs=h.utils.makeObject("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));this.tagRegExp=/<(\/?)([\w:]+)((?:\s+[a-z\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*\/?>/g;this.openTagRegExp=/<([\w:]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*\/?>/g;this.attrRegExp=/(\w+)(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^\s]+))?/g;this.scriptRegExp=/<script([^>]*)>([\s\S]*?)<\/script>/gi;this.styleRegExp=/(<style([^>]*)>[\s\S]*?<\/style>)/gi;this.linkRegExp=/(<link([^>]+)>)/gi;this.cdataRegExp=/<!\[CDATA\[([\s\S]+)\]\]>/g;this.objRegExp=/<object([^>]*)>([\s\S]*?)<\/object>/gi;this.embRegExp=/<(embed)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*>/gi;this.paramRegExp=/<(param)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*>/gi;this.iframeRegExp=/<iframe([^>]*)>([\s\S]*?)<\/iframe>/gi;this.yMapsRegExp=/<div\s+([^>]*id\s*=\s*('|")?YMapsID[^>]*)>/gi;this.gMapsRegExp=/<iframe\s+([^>]*src\s*=\s*"http:\/\/maps\.google\.\w+[^>]*)>([\s\S]*?)<\/iframe>/gi;this.videoHostRegExp=/^(http:\/\/[\w\.]*)?(youtube|vimeo|rutube).*/i;this.serviceClassRegExp=/<(\w+)([^>]*class\s*=\s*"[^>]*elrte-[^>]*)>\s*(<\/\1>)?/gi;this.pagebreakRegExp=/<(\w+)([^>]*style\s*=\s*"[^>]*page-break[^>]*)>\s*(<\/\1>)?/gi;this.pbRegExp=new RegExp("<!-- pagebreak -->","gi");this.allowTags=h.options.allowTags.length?h.utils.makeObject(h.options.allowTags):null;this.denyTags=h.options.denyTags.length?h.utils.makeObject(h.options.denyTags):null;this.denyAttr=h.options.denyAttr?h.utils.makeObject(h.options.denyAttr):null;this.pasteDenyAttr=h.options.pasteDenyAttr?h.utils.makeObject(h.options.pasteDenyAttr):null;this.fontSize=["medium","xx-small","small","medium","large","x-large","xx-large"];this.fontFamily={"sans-serif":/^(arial|tahoma|verdana)$/i,serif:/^(times|times new roman)$/i,monospace:/^courier$/i};this.scripts={};this._chains={};b.each(this.chains,function(c){a._chains[c]=[];b.each(this,function(k,f){typeof(a.rules[f])=="function"&&a._chains[c].push(a.rules[f])})});this.proccess=function(c,f){f=b.trim(f).replace(/^\s*(&nbsp;)+/gi,"").replace(/(&nbsp;|<br[^>]*>)+\s*$/gi,"");b.each(this._chains[c]||[],function(){f=this.call(a,f)});f=f.replace(/\t/g,"  ").replace(/\r/g,"").replace(/\s*\n\s*\n+/g,"\n")+"  ";return b.trim(f)?f:" "};this.wysiwyg=function(c){return this.proccess("wysiwyg",c)};this.source=function(c){return this.proccess("source",c)};this.source2source=function(c){return this.proccess("source2source",c)};this.wysiwyg2wysiwyg=function(c){return this.proccess("wysiwyg2wysiwyg",c)};this.parseAttrs=function(v){var f={},r=this.boolAttrs,t=v.match(this.attrRegExp),w,u,c;t&&b.each(t,function(k,j){w=j.split("=");u=b.trim(w[0]).toLowerCase();if(w.length>2){w.shift();c=w.join("=")}else{c=r[u]||w[1]||""}f[u]=b.trim(c).replace(/^('|")(.*)(\1)$/,"$2")});f.style=this.rte.utils.parseStyle(f.style);f["class"]=this.rte.utils.parseClass(f["class"]||"");return f};this.serializeAttrs=function(p,c){var f=[],o=this;b.each(p,function(j,k){if(j=="style"){k=o.rte.utils.serializeStyle(k,c)}else{if(j=="class"){k=o.rte.utils.serializeClass(k)}}k&&f.push(j+'="'+k+'"')});return f.join(" ")};this.cleanAttrs=function(q,f){var p=this,r=this.replaceAttrs;b.each(q["class"],function(j){/^(Apple-style-span|mso\w+)$/i.test(j)&&delete q["class"][j]});function c(j){return j+(/\d$/.test(j)?"px":"")}b.each(q,function(j,k){r[j]&&r[j].call(p,q,f);if(j=="style"){b.each(k,function(o,u){switch(o){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":q.style[o.replace(/^mso-|-alt$/g,"")]=c(u);delete q.style[o];break;case"horiz-align":q.style["text-align"]=u;delete q.style[o];break;case"vert-align":q.style["vertical-align"]=u;delete q.style[o];break;case"font-color":case"mso-foreground":q.style.color=u;delete q.style[o];break;case"mso-background":case"mso-highlight":q.style.background=u;delete q.style[o];break;case"mso-default-height":q.style["min-height"]=c(u);delete q.style[o];break;case"mso-default-width":q.style["min-width"]=c(u);delete q.style[o];break;case"mso-padding-between-alt":q.style["border-collapse"]="separate";q.style["border-spacing"]=c(u);delete q.style[o];break;case"text-line-through":if(u.match(/(single|double)/i)){q.style["text-decoration"]="line-through"}delete q.style[o];break;case"mso-zero-height":if(u=="yes"){q.style.display="none"}delete q.style[o];break;case"font-weight":if(u==700){q.style["font-weight"]="bold"}break;default:if(o.match(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/)){delete q.style[o]}}})}});return q}};elRTE.prototype.filter.prototype.replaceTags={b:{tag:"strong"},big:{tag:"span",style:{"font-size":"large"}},center:{tag:"div",style:{"text-align":"center"}},i:{tag:"em"},font:{tag:"span"},nobr:{tag:"span",style:{"white-space":"nowrap"}},menu:{tag:"ul"},plaintext:{tag:"pre"},s:{tag:"strike"},small:{tag:"span",style:{"font-size":"small"}},u:{tag:"span",style:{"text-decoration":"underline"}},xmp:{tag:"pre"}};elRTE.prototype.filter.prototype.replaceAttrs={align:function(a,f){switch(f){case"img":a.style[a.align.match(/(left|right)/)?"float":"vertical-align"]=a.align;break;case"table":if(a.align=="center"){a.style["margin-left"]=a.style["margin-right"]="auto"}else{a.style["float"]=a.align}break;default:a.style["text-align"]=a.align}delete a.align},border:function(a){!a.style["border-width"]&&(a.style["border-width"]=(parseInt(a.border)||1)+"px");!a.style["border-style"]&&(a.style["border-style"]="solid");delete a.border},bordercolor:function(a){!a.style["border-color"]&&(a.style["border-color"]=a.bordercolor);delete a.bordercolor},background:function(a){!a.style["background-image"]&&(a.style["background-image"]="url("+a.background+")");delete a.background},bgcolor:function(a){!a.style["background-color"]&&(a.style["background-color"]=a.bgcolor);delete a.bgcolor},clear:function(a){a.style.clear=a.clear=="all"?"both":a.clear;delete a.clear},color:function(a){!a.style.color&&(a.style.color=a.color);delete a.color},face:function(a){var f=a.face.toLowerCase();b.each(this.fontFamily,function(c,h){if(f.match(h)){a.style["font-family"]=f+","+c}});delete a.face},hspace:function(a,g){if(g=="img"){var h=parseInt(a.hspace)||0;!a.style["margin-left"]&&(a.style["margin-left"]=h+"px");!a.style["margin-right"]&&(a.style["margin-right"]=h+"px");delete a.hspace}},size:function(a,f){if(f!="input"){a.style["font-size"]=this.fontSize[parseInt(a.size)||0]||"medium";delete a.size}},valign:function(a){if(!a.style["vertical-align"]){a.style["vertical-align"]=a.valign}delete a.valign},vspace:function(a,g){if(g=="img"){var h=parseInt(a.vspace)||0;!a.style["margin-top"]&&(a.style["margin-top"]=h+"px");!a.style["margin-bottom"]&&(a.style["margin-bottom"]=h+"px");delete a.hspace}}};elRTE.prototype.filter.prototype.rules={allowedTags:function(f){var a=this.allowTags;return a?f.replace(this.tagRegExp,function(k,c,j){return a[j.toLowerCase()]?k:""}):f},deniedTags:function(a){var f=this.denyTags;return f?a.replace(this.tagRegExp,function(k,c,j){return f[j.toLowerCase()]?"":k}):a},clean:function(p){var r=this,a=this.replaceTags,o=this.replaceAttrs,q=this.denyAttr,k;p=p.replace(/<!DOCTYPE([\s\S]*)>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s&nbsp;]*)<\/span>/gi,"$1").replace(/(<p[^>]*>\s*<\/p>|<p[^>]*\/>)/gi,"<br>").replace(/(<\/p>)(?:\s*<br\s*\/?>\s*|\s*&nbsp;\s*)+\s*(<p[^>]*>)/gi,function(g,c,f){return c+"\n"+f}).replace(this.tagRegExp,function(h,f,g,c){g=g.toLowerCase();if(f){return"</"+(a[g]?a[g].tag:g)+">"}c=r.cleanAttrs(r.parseAttrs(c||""),g);if(a[g]){a[g].style&&b.extend(c.style,a[g].style);g=a[g].tag}q&&b.each(c,function(j){if(q[j]){delete c[j]}});c=r.serializeAttrs(c);return"<"+g+(c?" ":"")+c+">"});k=b("<div>"+p+"</div>");k.find("span:not([id]):not([class])").each(function(){var c=b(this);if(!c.attr("style")){b.trim(c.html()).length?r.rte.dom.unwrap(this):c.remove()}}).end().find("span span:only-child").each(function(){var x=b(this),h=x.parent().eq(0),j=x.attr("id"),g=h.attr("id"),c,t,f;if(r.rte.dom.isOnlyNotEmpty(this)&&(!j||!g)){f=b.trim(h.attr("class")+" "+x.attr("class"));f&&h.attr("class",f);t=r.rte.utils.serializeStyle(b.extend(r.rte.utils.parseStyle(b(this).attr("style")||""),r.rte.utils.parseStyle(b(h).attr("style")||"")));t&&h.attr("style",t);c=j||g;c&&h.attr("id",c);this.firstChild?b(this.firstChild).unwrap():x.remove()}}).end().find("a[name]").each(function(){b(this).addClass("elrte-protected elrte-anchor")});return k.html()},cleanPaste:function(h){var a=this,g=this.pasteDenyAttr;h=h.replace(this.scriptRegExp,"").replace(this.styleRegExp,"").replace(this.linkRegExp,"").replace(this.cdataRegExp,"").replace(/\<\!--[\s\S]*?--\>/g,"");if(this.rte.options.pasteOnlyText){h=h.replace(this.tagRegExp,function(k,c,f){return/br/i.test(f)||(c&&/h[1-6]|p|ol|ul|li|div|blockquote|tr/i)?"<br>":""}).replace(/(&nbsp;|<br[^>]*>)+\s*$/gi,"")}else{if(g){h=h.replace(this.openTagRegExp,function(f,c,k){k=a.parseAttrs(k);b.each(k,function(j){if(g[j]){delete k[j]}});k=a.serializeAttrs(k,true);return"<"+c+(k?" ":"")+k+">"})}}return h},replace:function(t){var a=this,B=this.rte.options.replace||[],x;if(B.length){b.each(B,function(f,c){if(typeof(c)=="function"){t=c.call(a,t)}})}function u(o,f){var F=c(),h=F&&a.videoHostRegExp.test(F)?F.replace(a.videoHostRegExp,"$2"):f.replace(/^\w+\/(.+)/,"$1"),g=parseInt((o.obj?o.obj.width||o.obj.style.width:0)||(o.embed?o.embed.width||o.embed.style.width:0))||150,j=parseInt((o.obj?o.obj.height||o.obj.style.height:0)||(o.embed?o.embed.height||o.embed.style.height:0))||100,p="media"+Math.random().toString().substring(2),q="",k;function c(){if(o.embed&&o.embed.src){return o.embed.src}if(o.params&&o.params.length){k=o.params.length;while(k--){if(o.params[k].name=="src"||o.params[k].name=="movie"){return o.params[k].value}}}}if(o.obj&&o.obj.style&&o.obj.style["float"]){q=' style="float:'+o.obj.style["float"]+'"'}a.scripts[p]=o;return'<img src="'+a.url+'pixel.gif" class="elrte-media elrte-media-'+h+' elrte-protected" title="'+(F?a.rte.utils.encode(F):"")+'" rel="'+p+'" width="'+g+'" height="'+j+'"'+q+">"}t=t.replace(this.styleRegExp,"<!-- ELRTE_COMMENT$1 -->").replace(this.linkRegExp,"<!-- ELRTE_COMMENT$1-->").replace(this.cdataRegExp,"<!--[CDATA[$1]]-->").replace(this.scriptRegExp,function(g,h,f){var c;if(a.denyTags.script){return""}c="script"+Math.random().toString().substring(2);h=a.parseAttrs(h);!h.type&&(h.type="text/javascript");a.scripts[c]="<script "+a.serializeAttrs(h)+">"+f+"<\/script>";return"<!-- ELRTE_SCRIPT:"+(c)+" -->"}).replace(this.yMapsRegExp,function(c,f){f=a.parseAttrs(f);f["class"]["elrte-yandex-maps"]="elrte-yandex-maps";f["class"]["elrte-protected"]="elrte-protected";return"<div "+a.serializeAttrs(f)+">"}).replace(this.gMapsRegExp,function(f,g){var j="gmaps"+Math.random().toString().substring(2),h,c;g=a.parseAttrs(g);h=parseInt(g.width||g.style.width||100);c=parseInt(g.height||g.style.height||100);a.scripts[j]=f;return'<img src="'+a.url+'pixel.gif" class="elrte-google-maps elrte-protected" id="'+j+'" style="width:'+h+"px;height:"+c+'px">'}).replace(this.objRegExp,function(f,h,k){var j=k.match(a.embRegExp),c={obj:a.parseAttrs(h),embed:j&&j.length?a.parseAttrs(j[0].substring(7)):null,params:[]},g=a.rte.utils.mediaInfo(c.embed?c.embed.type||"":"",c.obj.classid||"");if(g){if((j=k.match(a.paramRegExp))){b.each(j,function(p,o){c.params.push(a.parseAttrs(o.substring(6)))})}!c.obj.classid&&(c.obj.classid=g.classid[0]);!c.obj.codebase&&(c.obj.codebase=g.codebase);c.embed&&!c.embed.type&&(c.embed.type=g.type);c.obj.width=="1"&&delete c.obj.width;c.obj.height=="1"&&delete c.obj.height;if(c.embed){c.embed.width=="1"&&delete c.embed.width;c.embed.height=="1"&&delete c.embed.height}return u(c,g.type)}return f}).replace(this.embRegExp,function(f,c,h){var h=a.parseAttrs(h),g=a.rte.utils.mediaInfo(h.type||"");h.width=="1"&&delete h.width;h.height=="1"&&delete h.height;return g?u({embed:h},g.type):f}).replace(this.iframeRegExp,function(f,h){var h=a.parseAttrs(h);var j=h.style.width||(parseInt(h.width)>1?parseInt(h.width)+"px":"100px");var k=h.style.height||(parseInt(h.height)>1?parseInt(h.height)+"px":"100px");var c="iframe"+Math.random().toString().substring(2);a.scripts[c]=f;var g='<img id="'+c+'" src="'+a.url+'pixel.gif" class="elrte-protected elrte-iframe" style="width:'+j+"; height:"+k+'">';return g}).replace(this.vimeoRegExp,function(f,c,g){g=a.parseAttrs(g);delete g.frameborder;g.width=="1"&&delete g.width;g.height=="1"&&delete g.height;g.type="application/x-shockwave-flash";return u({embed:g},"application/x-shockwave-flash")}).replace(/<\/(embed|param)>/gi,"").replace(this.pbRegExp,function(){return'<img src="'+a.url+'pixel.gif" class="elrte-protected elrte-pagebreak">'});x=b("<div>"+t+"</div>");if(!this.rte.options.allowTextNodes){var w=this.rte.dom,A=[],r=[];if(b.browser.msie){for(var v=0;v<x[0].childNodes.length;v++){A.push(x[0].childNodes[v])}}else{A=Array.prototype.slice.call(x[0].childNodes)}function z(){if(r.length&&w.filter(r,"notEmpty").length){w.wrap(r,document.createElement("p"))}r=[]}b.each(A,function(f,c){if(w.is(c,"block")){z()}else{if(r.length&&c.previousSibling!=r[r.length-1]){z()}r.push(c)}});z()}return x.html()},restore:function(h){var a=this,g=this.rte.options.restore||[];if(g.length){b.each(g,function(f,c){if(typeof(c)=="function"){h=c.call(a,h)}})}h=h.replace(/\<\!--\[CDATA\[([\s\S]*?)\]\]--\>/gi,"<![CDATA[$1]]>").replace(/\<\!--\s*ELRTE_SCRIPT\:\s*(script\d+)\s*--\>/gi,function(f,c){if(a.scripts[c]){f=a.scripts[c];delete a.scripts[c]}return f||""}).replace(/\<\!-- ELRTE_COMMENT([\s\S]*?) --\>/gi,"$1").replace(this.serviceClassRegExp,function(c,o,j,u){var j=a.parseAttrs(j),f,t="";if(j["class"]["elrte-google-maps"]){var c="";if(a.scripts[j.id]){c=a.scripts[j.id];delete a.scripts[j.id]}return c}else{if(j["class"]["elrte-iframe"]){return a.scripts[j.id]||""}else{if(j["class"]["elrtebm"]){return""}else{if(j["class"]["elrte-media"]){f=a.scripts[j.rel]||{};f.params&&b.each(f.params,function(k,p){t+="<param "+a.serializeAttrs(p)+">\n"});f.embed&&(t+="<embed "+a.serializeAttrs(f.embed)+">");f.obj&&(t="<object "+a.serializeAttrs(f.obj)+">\n"+t+"\n</object>\n");return t||c}else{if(j["class"]["elrte-pagebreak"]){return"<!-- pagebreak -->"}}}}}b.each(j["class"],function(k){if(/^elrte-\w+/i.test(k)){delete (j["class"][k])}});return"<"+o+" "+a.serializeAttrs(j)+">"+(u||"")});return h},compactStyles:function(f){var a=this;return f.replace(this.tagRegExp,function(o,c,k,p){p=!c&&p?a.serializeAttrs(a.parseAttrs(p),true):"";return"<"+c+k.toLowerCase()+(p?" ":"")+p+">"})},xhtmlTags:function(a){return this.xhtml?a.replace(/<(img|hr|br|embed|param|link|area)([^>]*\/*)>/gi,"<$1$2 />"):a}};elRTE.prototype.filter.prototype.chains={wysiwyg:["replace","clean","allowedTags","deniedTags","compactStyles"],source:["clean","allowedTags","restore","compactStyles","xhtmlTags"],paste:["clean","allowedTags","cleanPaste","replace","deniedTags","compactStyles"],wysiwyg2wysiwyg:["clean","allowedTags","restore","replace","deniedTags","compactStyles"],source2source:["clean","allowedTags","replace","deniedTags","restore","compactStyles","xhtmlTags"]}})(jQuery);(function(b){elRTE.prototype.history=function(a){this.rte=a;this._prev=[];this._next=[];this.add=function(){if(this.rte.options.historyLength>0&&this._prev.length>=this.rte.options.historyLength){this._prev.slice(this.rte.options.historyLength)}var f=this.rte.selection.getBookmark();this._prev.push([b(this.rte.doc.body).html(),f]);this.rte.selection.moveToBookmark(f);this._next=[]};this.back=function(){if(this._prev.length){var h=this.rte.selection.getBookmark(),g=this._prev.pop();this._next.push([b(this.rte.doc.body).html(),h]);b(this.rte.doc.body).html(g[0]);this.rte.selection.moveToBookmark(g[1])}};this.fwd=function(){if(this._next.length){var h=this.rte.selection.getBookmark(),g=this._next.pop();this._prev.push([b(this.rte.doc.body).html(),h]);b(this.rte.doc.body).html(g[0]);this.rte.selection.moveToBookmark(g[1])}};this.canBack=function(){return this._prev.length};this.canFwd=function(){return this._next.length}}})(jQuery);(function(b){elRTE.prototype.options={doctype:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">',cssClass:"el-rte",cssfiles:[],height:null,resizable:true,lang:"en",toolbar:"normal",absoluteURLs:true,allowSource:true,stripWhiteSpace:true,styleWithCSS:false,fmAllow:true,fmOpen:null,allowTags:[],denyTags:["applet","base","basefont","bgsound","blink","body","col","colgroup","isindex","frameset","html","head","meta","marquee","noframes","noembed","o:p","title","xml"],denyAttr:[],pasteDenyAttr:["id","name","class","style","language","onclick","ondblclick","onhover","onkeup","onkeydown","onkeypress"],allowTextNodes:true,allowBrowsersSpecStyles:false,allowPaste:true,pasteOnlyText:false,replace:[],restore:[],pagebreak:'<div style="page-break-after: always;"></div>',buttons:{save:"Save",copy:"Copy",cut:"Cut",css:"Css style and class",paste:"Paste",pastetext:"Paste only text",pasteformattext:"Paste formatted text",removeformat:"Clean format",undo:"Undo last action",redo:"Redo previous action",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyleft:"Align left",justifyright:"Ailgn right",justifycenter:"Align center",justifyfull:"Align full",indent:"Indent",outdent:"Outdent",rtl:"Right to left",ltr:"Left to right",forecolor:"Font color",hilitecolor:"Background color",formatblock:"Format",fontsize:"Font size",fontname:"Font",insertorderedlist:"Ordered list",insertunorderedlist:"Unordered list",horizontalrule:"Horizontal rule",blockquote:"Blockquote",div:"Block element (DIV)",link:"Link",unlink:"Delete link",anchor:"Bookmark",image:"Image",pagebreak:"Page break",smiley:"Smiley",flash:"Flash",table:"Table",tablerm:"Delete table",tableprops:"Table properties",tbcellprops:"Table cell properties",tbrowbefore:"Insert row before",tbrowafter:"Insert row after",tbrowrm:"Delete row",tbcolbefore:"Insert column before",tbcolafter:"Insert column after",tbcolrm:"Delete column",tbcellsmerge:"Merge table cells",tbcellsplit:"Split table cell",docstructure:"Toggle display document structure",elfinder:"Open file manager",fullscreen:"Toggle full screen mode",nbsp:"Non breakable space",stopfloat:"Stop element floating",about:"About this software"},panels:{eol:[],save:["save"],copypaste:["copy","cut","paste","pastetext","pasteformattext","removeformat","docstructure"],undoredo:["undo","redo"],style:["bold","italic","underline","strikethrough","subscript","superscript"],colors:["forecolor","hilitecolor"],alignment:["justifyleft","justifycenter","justifyright","justifyfull"],indent:["outdent","indent"],format:["formatblock","fontsize","fontname"],lists:["insertorderedlist","insertunorderedlist"],elements:["horizontalrule","blockquote","div","stopfloat","css","nbsp","smiley","pagebreak"],direction:["ltr","rtl"],links:["link","unlink","anchor"],images:["image"],media:["image","flash"],tables:["table","tableprops","tablerm","tbrowbefore","tbrowafter","tbrowrm","tbcolbefore","tbcolafter","tbcolrm","tbcellprops","tbcellsmerge","tbcellsplit"],elfinder:["elfinder"],fullscreen:["fullscreen","about"]},toolbars:{tiny:["style"],compact:["save","undoredo","style","alignment","lists","links","fullscreen"],normal:["save","copypaste","undoredo","style","alignment","colors","indent","lists","links","elements","images","fullscreen"],complete:["save","copypaste","undoredo","style","alignment","colors","format","indent","lists","links","elements","media","fullscreen"],maxi:["save","copypaste","undoredo","elfinder","style","alignment","direction","colors","format","indent","lists","links","elements","media","tables","fullscreen"],eldorado:["save","copypaste","elfinder","undoredo","style","alignment","colors","format","indent","lists","links","elements","media","tables","fullscreen"]},panelNames:{save:"Save",copypaste:"Copy/Pase",undoredo:"Undo/Redo",style:"Text styles",colors:"Colors",alignment:"Alignment",indent:"Indent/Outdent",format:"Text format",lists:"Lists",elements:"Misc elements",direction:"Script direction",links:"Links",images:"Images",media:"Media",tables:"Tables",elfinder:"File manager (elFinder)"}}})(jQuery);(function(b){elRTE.prototype.selection=function(t){this.rte=t;var w=this;this.w3cRange=null;var v,a,q,p;b(this.rte.doc).keyup(function(c){if(c.ctrlKey||c.metaKey||(c.keyCode>=8&&c.keyCode<=13)||(c.keyCode>=32&&c.keyCode<=40)||c.keyCode==46||(c.keyCode>=96&&c.keyCode<=111)){w.cleanCache()}}).mousedown(function(c){if(c.target.nodeName=="HTML"){v=w.rte.doc.body}else{v=c.target}a=q=null}).mouseup(function(c){if(c.target.nodeName=="HTML"){a=w.rte.doc.body}else{a=c.target}a=c.target;q=null}).click();function r(){return w.rte.window.getSelection?w.rte.window.getSelection():w.rte.window.document.selection}function u(c,f,g){while(c.nodeName!="BODY"&&c.parentNode&&c.parentNode.nodeName!="BODY"&&(f?c!==f&&c.parentNode!=f:1)&&((g=="left"&&w.rte.dom.isFirstNotEmpty(c))||(g=="right"&&w.rte.dom.isLastNotEmpty(c))||(w.rte.dom.isFirstNotEmpty(c)&&w.rte.dom.isLastNotEmpty(c)))){c=c.parentNode}return c}this.collapsed=function(){return this.getRangeAt().isCollapsed()};this.collapse=function(g){var f=r(),c=this.getRangeAt();c.collapse(g?true:false);if(!b.browser.msie){f.removeAllRanges();f.addRange(c)}return this};this.getRangeAt=function(c){if(this.rte.browser.msie){if(!this.w3cRange){this.w3cRange=new this.rte.w3cRange(this.rte)}c&&this.w3cRange.update();return this.w3cRange}var g=r();var f=g.rangeCount>0?g.getRangeAt(0):this.rte.doc.createRange();f.getStart=function(){return this.startContainer.nodeType==1?this.startContainer.childNodes[Math.min(this.startOffset,this.startContainer.childNodes.length-1)]:this.startContainer};f.getEnd=function(){return this.endContainer.nodeType==1?this.endContainer.childNodes[Math.min(this.startOffset==this.endOffset?this.endOffset:this.endOffset-1,this.endContainer.childNodes.length-1)]:this.endContainer};f.isCollapsed=function(){return this.collapsed};return f};this.saveIERange=function(){if(b.browser.msie){p=this.getRangeAt().getBookmark()}};this.restoreIERange=function(){b.browser.msie&&p&&this.getRangeAt().moveToBookmark(p)};this.cloneContents=function(){var c=this.rte.dom.create("div"),h,f,j;if(b.browser.msie){try{h=this.rte.window.document.selection.createRange()}catch(g){h=this.rte.doc.body.createTextRange()}b(c).html(h.htmlText)}else{f=this.getRangeAt().cloneContents();for(j=0;j<f.childNodes.length;j++){c.appendChild(f.childNodes[j].cloneNode(true))}}return c};this.select=function(h,c){c=c||h;if(this.rte.browser.msie){var g=this.rte.doc.body.createTextRange(),j=g.duplicate(),k=g.duplicate();j.moveToElementText(h);k.moveToElementText(c);g.setEndPoint("StartToStart",j);g.setEndPoint("EndToEnd",k);g.select()}else{var f=r(),g=this.getRangeAt();g.setStartBefore(h);g.setEndAfter(c);f.removeAllRanges();f.addRange(g)}return this.cleanCache()};this.selectContents=function(c){var g=this.getRangeAt();if(c&&c.nodeType==1){if(this.rte.browser.msie){g.range();g.r.moveToElementText(c.parentNode);g.r.select()}else{try{g.selectNodeContents(c)}catch(f){return this.rte.log("unable select node contents "+c)}var h=r();h.removeAllRanges();h.addRange(g)}}return this};this.deleteContents=function(){if(!b.browser.msie){this.getRangeAt().deleteContents()}return this};this.insertNode=function(c,f){if(f&&!this.collapsed()){this.collapse()}if(this.rte.browser.msie){var j=c.nodeType==3?c.nodeValue:b(this.rte.dom.create("span")).append(b(c)).html();var g=this.getRangeAt();g.insertNode(j)}else{var g=this.getRangeAt();g.insertNode(c);g.setStartAfter(c);g.setEndAfter(c);var h=r();h.removeAllRanges();h.addRange(g)}return this.cleanCache()};this.insertHtml=function(g,f){if(f&&!this.collapsed()){this.collapse()}if(this.rte.browser.msie){this.getRangeAt().range().pasteHTML(g)}else{var c=b(this.rte.dom.create("span")).html(g||"").get(0);this.insertNode(c);b(c).replaceWith(b(c).html())}return this.cleanCache()};this.insertText=function(f,g){var c=this.rte.doc.createTextNode(f);return this.insertHtml(c.nodeValue)};this.getBookmark=function(){this.rte.window.focus();var f,o,C,h,k,g=this.rte.dom.createBookmark(),j=this.rte.dom.createBookmark();if(b.browser.msie){try{f=this.rte.window.document.selection.createRange()}catch(j){f=this.rte.doc.body.createTextRange()}if(f.item){var B=f.item(0);f=this.rte.doc.body.createTextRange();f.moveToElementText(B)}o=f.duplicate();C=f.duplicate();h=this.rte.dom.create("span");k=this.rte.dom.create("span");h.appendChild(g);k.appendChild(j);o.collapse(true);o.pasteHTML(h.innerHTML);C.collapse(false);C.pasteHTML(k.innerHTML)}else{var c=r();var f=c.rangeCount>0?c.getRangeAt(0):this.rte.doc.createRange();o=f.cloneRange();C=f.cloneRange();C.collapse(false);C.insertNode(j);o.collapse(true);o.insertNode(g);this.select(g,j)}return[g.id,j.id]};this.moveToBookmark=function(j){this.rte.window.focus();if(j&&j.length==2){var h=this.rte.doc.getElementById(j[0]),c=this.rte.doc.getElementById(j[1]),f,g;if(h&&c){this.select(h,c);if(this.rte.dom.next(h)==c){this.collapse(true)}if(!b.browser.msie){f=r();g=f.rangeCount>0?f.getRangeAt(0):this.rte.doc.createRange();f.removeAllRanges();f.addRange(g)}h.parentNode.removeChild(h);c.parentNode.removeChild(c)}}return this};this.removeBookmark=function(g){this.rte.window.focus();if(g.length==2){var f=this.rte.doc.getElementById(g[0]),c=this.rte.doc.getElementById(g[1]);if(f&&c){f.parentNode.removeChild(f);c.parentNode.removeChild(c)}}};this.cleanCache=function(){v=a=q=null;return this};this.getStart=function(){if(!v){var c=this.getRangeAt();v=c.getStart()}return v};this.getEnd=function(){if(!a){var c=this.getRangeAt();a=c.getEnd()}return a};this.getNode=function(){if(!q){q=this.rte.dom.findCommonAncestor(this.getStart(),this.getEnd())}return q};this.selected=function(c){var h={collapsed:false,blocks:false,filter:false,wrap:"text",tag:"span"};h=b.extend({},h,c);if(h.blocks){var D=this.getNode(),E=null;if(E=this.rte.dom.selfOrParent(D,"selectionBlock")){return[E]}}var F=this.selectedRaw(h.collapsed,h.blocks);var j=[];var C=[];var g=null;function f(){function z(){for(var B=0;B<C.length;B++){if(C[B].nodeType==1&&(w.rte.dom.selfOrParent(C[B],/^P$/)||b(C[B]).find("p").length>0)){return false}}return true}if(C.length>0){var A=h.tag=="p"&&!z()?"div":h.tag;var x=w.rte.dom.wrap(C,A);j[g]=x;g=null;C=[]}}function k(x){if(x.nodeType==1){if(/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(x.nodeName)){b(x).find("td,th").each(function(){var H=h.tag=="p"&&b(this).find("p").length>0?"div":h.tag;var B=w.rte.dom.wrapContents(this,H);return j.push(B)})}else{if(/^(CAPTION|TD|TH|LI|DT|DD)$/.test(x.nodeName)){var A=h.tag=="p"&&b(x).find("p").length>0?"div":h.tag;var x=w.rte.dom.wrapContents(x,A);return j.push(x)}}}var z=C.length>0?C[C.length-1]:null;if(z&&z!=w.rte.dom.prev(x)){f()}C.push(x);if(g===null){g=j.length;j.push("dummy")}}if(F.nodes.length>0){for(var o=0;o<F.nodes.length;o++){var D=F.nodes[o];if(D.nodeType==3&&(o==0||o==F.nodes.length-1)&&b.trim(D.nodeValue).length>0){if(o==0&&F.so>0){D=D.splitText(F.so)}if(o==F.nodes.length-1&&F.eo>0){D.splitText(o==0&&F.so>0?F.eo-F.so:F.eo)}}switch(h.wrap){case"text":if((D.nodeType==1&&D.nodeName=="BR")||(D.nodeType==3&&b.trim(D.nodeValue).length>0)){k(D)}else{if(D.nodeType==1){j.push(D)}}break;case"inline":if(this.rte.dom.isInline(D)){k(D)}else{if(D.nodeType==1){j.push(D)}}break;case"all":if(D.nodeType==1||!this.rte.dom.isEmpty(D)){k(D)}break;default:if(D.nodeType==1||!this.rte.dom.isEmpty(D)){j.push(D)}}}f()}if(j.length){this.rte.window.focus();this.select(j[0],j[j.length-1])}return h.filter?this.rte.dom.filter(j,h.filter):j};this.dump=function(k,h,c,f,j){var g=this.getRangeAt();this.rte.log("commonAncestorContainer");this.rte.log(k||g.commonAncestorContainer);this.rte.log("startContainer");this.rte.log(h||g.startContainer);this.rte.log("startOffset: "+(f>=0?f:g.startOffset));this.rte.log("endContainer");this.rte.log(c||g.endContainer);this.rte.log("endOffset: "+(j>=0?j:g.endOffset))};this.selectedRaw=function(o,j){var P={so:null,eo:null,nodes:[]};var g=this.getRangeAt(true);var J=g.commonAncestorContainer;var L,Q;var c=false;var h=false;function f(x,A,z){if(x.nodeType==3){z=z>=0?z:x.nodeValue.length;return(A==0&&z==x.nodeValue.length)||b.trim(x.nodeValue).length==b.trim(x.nodeValue.substring(A,z)).length}return true}function I(x,A,z){if(x.nodeType==1){return w.rte.dom.isEmpty(x)}else{if(x.nodeType==3){return b.trim(x.nodeValue.substring(A||0,z>=0?z:x.nodeValue.length)).length==0}}return true}if(g.startContainer.nodeType==1){if(g.startOffset<g.startContainer.childNodes.length){L=g.startContainer.childNodes[g.startOffset];P.so=L.nodeType==1?null:0}else{L=g.startContainer.childNodes[g.startOffset-1];P.so=L.nodeType==1?null:L.nodeValue.length}}else{L=g.startContainer;P.so=g.startOffset}if(g.collapsed){if(o){if(j){L=u(L);if(!this.rte.dom.isEmpty(L)||(L=this.rte.dom.next(L))){P.nodes=[L]}if(this.rte.dom.isInline(L)){P.nodes=this.rte.dom.toLineStart(L).concat(P.nodes,this.rte.dom.toLineEnd(L))}if(P.nodes.length>0){P.so=P.nodes[0].nodeType==1?null:0;P.eo=P.nodes[P.nodes.length-1].nodeType==1?null:P.nodes[P.nodes.length-1].nodeValue.length}}else{if(!this.rte.dom.isEmpty(L)){P.nodes=[L]}}}return P}if(g.endContainer.nodeType==1){Q=g.endContainer.childNodes[g.endOffset-1];P.eo=Q.nodeType==1?null:Q.nodeValue.length}else{Q=g.endContainer;P.eo=g.endOffset}if(L.nodeType==1||j||f(L,P.so,L.nodeValue.length)){L=u(L,J,"left");c=true;P.so=L.nodeType==1?null:0}if(Q.nodeType==1||j||f(Q,0,P.eo)){Q=u(Q,J,"right");h=true;P.eo=Q.nodeType==1?null:Q.nodeValue.length}if(j){if(L.nodeType!=1&&L.parentNode!=J&&L.parentNode.nodeName!="BODY"){L=L.parentNode;P.so=null}if(Q.nodeType!=1&&Q.parentNode!=J&&Q.parentNode.nodeName!="BODY"){Q=Q.parentNode;P.eo=null}}if(L.parentNode==Q.parentNode&&L.parentNode.nodeName!="BODY"&&(c&&this.rte.dom.isFirstNotEmpty(L))&&(h&&this.rte.dom.isLastNotEmpty(Q))){L=Q=L.parentNode;P.so=L.nodeType==1?null:0;P.eo=Q.nodeType==1?null:Q.nodeValue.length}if(L==Q){if(!this.rte.dom.isEmpty(L)){P.nodes.push(L)}return P}var O=L;while(O.nodeName!="BODY"&&O.parentNode!==J&&O.parentNode.nodeName!="BODY"){O=O.parentNode}var N=Q;while(N.nodeName!="BODY"&&N.parentNode!==J&&N.parentNode.nodeName!="BODY"){N=N.parentNode}if(!I(L,P.so,L.nodeType==3?L.nodeValue.length:null)){P.nodes.push(L)}var K=L;while(K!==O){var M=K;while((M=this.rte.dom.next(M))){P.nodes.push(M)}K=K.parentNode}K=O;while((K=this.rte.dom.next(K))&&K!=N){P.nodes.push(K)}var k=[];K=Q;while(K!==N){var M=K;while((M=this.rte.dom.prev(M))){k.push(M)}K=K.parentNode}if(k.length){P.nodes=P.nodes.concat(k.reverse())}if(!I(Q,0,Q.nodeType==3?P.eo:null)){P.nodes.push(Q)}if(j){if(this.rte.dom.isInline(L)){P.nodes=this.rte.dom.toLineStart(L).concat(P.nodes);P.so=P.nodes[0].nodeType==1?null:0}if(this.rte.dom.isInline(Q)){P.nodes=P.nodes.concat(this.rte.dom.toLineEnd(Q));P.eo=P.nodes[P.nodes.length-1].nodeType==1?null:P.nodes[P.nodes.length-1].nodeValue.length}}return P}}})(jQuery);(function(b){elRTE.prototype.ui=function(B){this.rte=B;this._buttons=[];var C=this,p=this.rte.options.toolbars[B.options.toolbar&&B.options.toolbars[B.options.toolbar]?B.options.toolbar:"normal"],a=p.length,A,w,x,z,E,D,c;for(c in this.buttons){if(this.buttons.hasOwnProperty(c)&&c!="button"){this.buttons[c].prototype=this.buttons.button.prototype}}while(a--){first=(a==0?true:false);if(p[a-1]=="eol"){first=true}w=p[a];if(w=="eol"){b(this.rte.doc.createElement("br")).prependTo(this.rte.toolbar);continue}A=b('<ul class="panel-'+w+(first?" first":"")+'" />').prependTo(this.rte.toolbar);A.bind("mousedown",function(f){f.preventDefault()});x=this.rte.options.panels[w].length;while(x--){z=this.rte.options.panels[w][x];E=this.buttons[z]||this.buttons.button;this._buttons.push((D=new E(this.rte,z)));A.prepend(D.domElem)}}this.update();this.disable=function(){b.each(C._buttons,function(){!this.active&&this.domElem.addClass("disabled")})}};elRTE.prototype.ui.prototype.update=function(u){u&&this.rte.selection.cleanCache();var w=this.rte.selection.getNode(),x=this.rte.dom.parents(w,"*"),t=this.rte.rtl,a=t?" &laquo; ":" &raquo; ",p="",z,v;function r(c){var f=c.nodeName.toLowerCase();c=b(c);if(f=="img"){if(c.hasClass("elrte-media")){f="media"}else{if(c.hasClass("elrte-google-maps")){f="google map"}else{if(c.hasClass("elrte-yandex-maps")){f="yandex map"}else{if(c.hasClass("elrte-pagebreak")){f="pagebreak"}}}}}return f}if(w&&w.nodeType==1&&w.nodeName!="BODY"){x.unshift(w)}if(!t){x=x.reverse()}for(v=0;v<x.length;v++){p+=(v>0?a:"")+r(x[v])}this.rte.statusbar.html(p);b.each(this._buttons,function(){this.update()});this.rte.window.focus()};elRTE.prototype.ui.prototype.buttons={button:function(g,h){var a=this;this.rte=g;this.active=false;this.name=h;this.val=null;this.domElem=b('<li style="-moz-user-select:-moz-none" class="'+h+' rounded-3" name="'+h+'" title="'+this.rte.i18n(this.rte.options.buttons[h]||h)+'" unselectable="on" />').hover(function(){b(this).addClass("hover")},function(){b(this).removeClass("hover")}).click(function(c){c.stopPropagation();c.preventDefault();if(!b(this).hasClass("disabled")){a.command()}a.rte.window.focus()})}};elRTE.prototype.ui.prototype.buttons.button.prototype.command=function(){this.rte.history.add();try{this.rte.doc.execCommand(this.name,false,this.val)}catch(a){return this.rte.log("commands failed: "+this.name)}this.rte.ui.update(true)};elRTE.prototype.ui.prototype.buttons.button.prototype.update=function(){try{if(!this.rte.doc.queryCommandEnabled(this.name)){return this.domElem.addClass("disabled")}else{this.domElem.removeClass("disabled")}}catch(a){return}try{if(this.rte.doc.queryCommandState(this.name)){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}}catch(a){}}})(jQuery);(function(b){elRTE.prototype.utils=function(f){this.rte=f;this.url=null;this.reg=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;this.baseURL="";this.path="";this.entities={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};this.entitiesRegExp=/[<>&\"]/g;this.media=[{type:"application/x-shockwave-flash",classid:["clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"],codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"},{type:"application/x-director",classid:["clsid:166b1bca-3f9c-11cf-8075-444553540000"],codebase:"http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0"},{type:"application/x-mplayer2",classid:["clsid:6bf52a52-394a-11d3-b153-00c04f79faa6","clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95","clsid:05589fa1-c356-11ce-bf01-00aa0055595a"],codebase:"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701"},{type:"video/quicktime",classid:["clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b"],codebase:"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0"},{type:"audio/x-pn-realaudio-plugin",classid:["clsid:cfcdaa03-8be4-11cf-b84b-0020afbbccfa"],codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"}];this.rgbRegExp=/\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*/i;this.colorsRegExp=/aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|rgb\s*\([^\)]+\)/i;this.colors={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#fffffff",yellow:"#ffff00"};var a=this;this.rgb2hex=function(c){return this.color2Hex(""+c)};this.toPixels=function(j){var k=j.match(/([0-9]+\.?[0-9]*)\s*(px|pt|em|%)/);if(k){j=k[1];unit=k[2]}if(j[0]=="."){j="0"+j}j=parseFloat(j);if(isNaN(j)){return""}var c=parseInt(b(document.body).css("font-size"))||16;switch(unit){case"em":return parseInt(j*c);case"pt":return parseInt(j*c/12);case"%":return parseInt(j*c/100)}return j};this.absoluteURL=function(c){!this.url&&this._url();c=b.trim(c);if(!c){return""}if(c[0]=="#"){return c}var h=this.parseURL(c);if(!h.host&&!h.path&&!h.anchor){return""}if(!this.rte.options.absoluteURLs){return c}if(h.protocol){return c}if(h.host&&(h.host.indexOf(".")!=-1||h.host=="localhost")){return this.url.protocol+"://"+c}if(c[0]=="/"){c=this.baseURL+c}else{if(c.indexOf("./")==0){c=c.substring(2)}c=this.baseURL+this.path+c}return c};this.parseURL=function(c){var j=c.match(this.reg);var k={};b.each(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(g){k[this]=j[g]});if(!k.host.match(/[a-z0-9]/i)){k.host=""}return k};this.trimEventCallback=function(c){c=c?c.toString():"";return b.trim(c.replace(/\r*\n/mg,"").replace(/^function\s*on[a-z]+\s*\(\s*event\s*\)\s*\{(.+)\}$/igm,"$1"))};this._url=function(){this.url=this.parseURL(window.location.href);this.baseURL=this.url.protocol+"://"+(this.url.userInfo?parts.userInfo+"@":"")+this.url.host+(this.url.port?":"+this.url.port:"");this.path=!this.url.file?this.url.path:this.url.path.substring(0,this.url.path.length-this.url.file.length)};this.makeObject=function(c){var h={};b.each(c,function(k,g){h[g]=g});return h};this.encode=function(h){var c=this.entities;return(""+h).replace(this.entitiesRegExp,function(g){return c[g]})};this.decode=function(c){return b("<div/>").html(c||"").text()};this.parseStyle=function(c){var r={},v=this.rte.options.allowBrowsersSpecStyles,p,u,t,w;if(typeof(c)=="string"&&c.length){b.each(c.replace(/&quot;/gi,"'").split(";"),function(h,g){if((w=g.indexOf(":"))!==-1){u=b.trim(g.substr(0,w));t=b.trim(g.substr(w+1));if(u=="color"||u=="background-color"){t=t.toLowerCase()}if(u&&t&&(v||u.substring(0,1)!="-")){r[u]=t}}})}return r};this.compactStyle=function(c){var h=this;if(c.border=="medium none"){delete c.border}b.each(c,function(g,k){if(/color$/i.test(g)){c[g]=h.color2Hex(k)}else{if(/^(border|background)$/i.test(g)){c[g]=k.replace(h.colorsRegExp,function(j){return h.color2Hex(j)})}}});if(c["border-width"]){c.border=c["border-width"]+" "+(c["border-style"]||"solid")+" "+(c["border-color"]||"#000");delete c["border-width"];delete c["border-style"];delete c["border-color"]}if(c["background-image"]){c.background=(c["background-color"]+" ")||""+c["background-image"]+" "+c["background-position"]||"0 0 "+c["background-repeat"]||"repeat";delete c["background-image"];delete ["background-image"];delete ["background-position"];delete ["background-repeat"]}if(c["margin-top"]&&c["margin-right"]&&c["margin-bottom"]&&c["margin-left"]){c.margin=c["margin-top"]+" "+c["margin-right"]+" "+c["margin-bottom"]+" "+c["margin-left"];delete c["margin-top"];delete c["margin-right"];delete c["margin-bottom"];delete c["margin-left"]}if(c["padding-top"]&&c["padding-right"]&&c["padding-bottom"]&&c["padding-left"]){c.padding=c["padding-top"]+" "+c["padding-right"]+" "+c["padding-bottom"]+" "+c["padding-left"];delete c["padding-top"];delete c["padding-right"];delete c["padding-bottom"];delete c["padding-left"]}if(c["list-style-type"]||c["list-style-position"]||c["list-style-image"]){c["list-style"]=b.trim(c["list-style-type"]||" "+c["list-style-position"]||""+c["list-style-image"]||"");delete c["list-style-type"];delete c["list-style-position"];delete c["list-style-image"]}return c};this.serializeStyle=function(j,c){var k=[];b.each(c?this.compactStyle(j):j,function(g,h){h&&k.push(g+":"+h)});return k.join(";")};this.parseClass=function(c){c=b.trim(c);return c.length?this.makeObject(c.split(/\s+/)):{};return c.length?c.split(/\s+/):[]};this.serializeClass=function(c){var j=[];var k=this.rte;b.each(c,function(g){j.push(g)});return j.join(" ")};this.mediaInfo=function(j,c){var k=this.media.length;while(k--){if(j===this.media[k].type||(c&&b.inArray(c,this.media[k].classid)!=-1)){return this.media[k]}}};this.color2Hex=function(c){var k;c=c||"";if(c.indexOf("#")===0){return c}function j(g){g=parseInt(g).toString(16);return g.length>1?g:"0"+g}if(this.colors[c]){return this.colors[c]}if((k=c.match(this.rgbRegExp))){return"#"+j(k[1])+j(k[2])+j(k[3])}return""}}})(jQuery);(function(b){elRTE.prototype.w3cRange=function(f){var a=this;this.rte=f;this.r=null;this.collapsed=true;this.startContainer=null;this.endContainer=null;this.startOffset=0;this.endOffset=0;this.commonAncestorContainer=null;this.range=function(){try{this.r=this.rte.window.document.selection.createRange()}catch(c){this.r=this.rte.doc.body.createTextRange()}return this.r};this.insertNode=function(h){this.range();a.r.collapse(false);var c=a.r.duplicate();c.pasteHTML(h)};this.getBookmark=function(){this.range();if(this.r.item){var c=this.r.item(0);this.r=this.rte.doc.body.createTextRange();this.r.moveToElementText(c)}return this.r.getBookmark()};this.moveToBookmark=function(c){this.rte.window.focus();this.range().moveToBookmark(c);this.r.select()};this.update=function(){function k(g){var r="\uFEFF";var C=offset=0;var A=a.r.duplicate();A.collapse(g);var z=A.parentElement();if(!z||z.nodeName=="HTML"){return{parent:a.rte.doc.body,ndx:C,offset:offset}}A.pasteHTML(r);childs=z.childNodes;for(var B=0;B<childs.length;B++){var h=childs[B];if(B>0&&(h.nodeType!==3||childs[B-1].nodeType!==3)){C++}if(h.nodeType!==3){offset=0}else{var j=h.nodeValue.indexOf(r);if(j!==-1){offset+=j;break}offset+=h.nodeValue.length}}A.moveStart("character",-1);A.text="";return{parent:z,ndx:Math.min(C,z.childNodes.length-1),offset:offset}}this.range();this.startContainer=this.endContainer=null;if(this.r.item){this.collapsed=false;var o=this.r.item(0);this.setStart(o.parentNode,this.rte.dom.indexOf(o));this.setEnd(o.parentNode,this.startOffset+1)}else{this.collapsed=this.r.boundingWidth==0;var c=k(true);var p=k(false);c.parent.normalize();p.parent.normalize();c.ndx=Math.min(c.ndx,c.parent.childNodes.length-1);p.ndx=Math.min(p.ndx,p.parent.childNodes.length-1);if(c.parent.childNodes[c.ndx].nodeType&&c.parent.childNodes[c.ndx].nodeType==1){this.setStart(c.parent,c.ndx)}else{this.setStart(c.parent.childNodes[c.ndx],c.offset)}if(p.parent.childNodes[p.ndx].nodeType&&p.parent.childNodes[p.ndx].nodeType==1){this.setEnd(p.parent,p.ndx)}else{this.setEnd(p.parent.childNodes[p.ndx],p.offset)}this.select()}return this};this.isCollapsed=function(){this.range();this.collapsed=this.r.item?false:this.r.boundingWidth==0;return this.collapsed};this.collapse=function(h){this.range();if(this.r.item){var c=this.r.item(0);this.r=this.rte.doc.body.createTextRange();this.r.moveToElementText(c)}this.r.collapse(h);this.r.select();this.collapsed=true};this.getStart=function(){this.range();if(this.r.item){return this.r.item(0)}var c=this.r.duplicate();c.collapse(true);var h=c.parentElement();return h&&h.nodeName=="BODY"?h.firstChild:h};this.getEnd=function(){this.range();if(this.r.item){return this.r.item(0)}var h=this.r.duplicate();h.collapse(false);var c=h.parentElement();return c&&c.nodeName=="BODY"?c.lastChild:c};this.setStart=function(h,c){this.startContainer=h;this.startOffset=c;if(this.endContainer){this.commonAncestorContainer=this.rte.dom.findCommonAncestor(this.startContainer,this.endContainer)}};this.setEnd=function(h,c){this.endContainer=h;this.endOffset=c;if(this.startContainer){this.commonAncestorContainer=this.rte.dom.findCommonAncestor(this.startContainer,this.endContainer)}};this.setStartBefore=function(c){if(c.parentNode){this.setStart(c.parentNode,this.rte.dom.indexOf(c))}};this.setStartAfter=function(c){if(c.parentNode){this.setStart(c.parentNode,this.rte.dom.indexOf(c)+1)}};this.setEndBefore=function(c){if(c.parentNode){this.setEnd(c.parentNode,this.rte.dom.indexOf(c))}};this.setEndAfter=function(c){if(c.parentNode){this.setEnd(c.parentNode,this.rte.dom.indexOf(c)+1)}};this.select=function(){function p(q,o){if(q.nodeType!=3){return -1}var h="\uFEFF";var g=q.nodeValue;var k=a.rte.doc.body.createTextRange();q.nodeValue=g.substring(0,o)+h+g.substring(o);k.moveToElementText(q.parentNode);k.findText(h);var j=Math.abs(k.moveStart("character",-1048575));q.nodeValue=g;return j}this.r=this.rte.doc.body.createTextRange();var r=this.startOffset;var x=this.endOffset;var A=this.startContainer.nodeType==1?this.startContainer.childNodes[Math.min(r,this.startContainer.childNodes.length-1)]:this.startContainer;var c=this.endContainer.nodeType==1?this.endContainer.childNodes[Math.min(r==x?x:x-1,this.endContainer.childNodes.length-1)]:this.endContainer;if(this.collapsed){if(A.nodeType==3){var w=p(A,r);this.r.move("character",w)}else{this.r.moveToElementText(A);this.r.collapse(true)}}else{var z=this.rte.doc.body.createTextRange();var v=p(A,r);var B=p(c,x);if(A.nodeType==3){this.r.move("character",v)}else{this.r.moveToElementText(A)}if(c.nodeType==3){z.move("character",B)}else{z.moveToElementText(c)}this.r.setEndPoint("EndToEnd",z)}try{this.r.select()}catch(c){}if(z){z=null}};this.dump=function(){this.rte.log("collapsed: "+this.collapsed);this.rte.log("startContainer: "+(this.startContainer?this.startContainer.nodeName:"non"));this.rte.log("startOffset: "+this.startOffset);this.rte.log("endContainer: "+(this.endContainer?this.endContainer.nodeName:"none"));this.rte.log("endOffset: "+this.endOffset)}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.about=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.active=true;this.command=function(){var j,c,k;j={rtl:f.rtl,submit:function(h,g){g.close()},dialog:{width:560,title:this.rte.i18n("About this software"),buttons:{Ok:function(){b(this).dialog("destroy")}}}};k='<div class="elrte-logo"></div><h3>'+this.rte.i18n("About elRTE")+'</h3><br clear="all"/><div class="elrte-ver">'+this.rte.i18n("Version")+": "+this.rte.version+" ("+this.rte.build+')</div><div class="elrte-ver">jQuery: '+b("<div/>").jquery+'</div><div class="elrte-ver">jQueryUI: '+b.ui.version+'</div><div class="elrte-ver">'+this.rte.i18n("Licence")+": BSD Licence</div><p>"+this.rte.i18n("elRTE is an open-source JavaScript based WYSIWYG HTML-editor.")+"<br/>"+this.rte.i18n("Main goal of the editor - simplify work with text and formating (HTML) on sites, blogs, forums and other online services.")+"<br/>"+this.rte.i18n("You can use it in any commercial or non-commercial projects.")+"</p><h4>"+this.rte.i18n("Authors")+'</h4><table class="elrte-authors"><tr><td>Dmitry (dio) Levashov &lt;dio@std42.ru&gt;</td><td>'+this.rte.i18n("Chief developer")+"</td></tr><tr><td>Troex Nevelin &lt;troex@fury.scancode.ru&gt;</td><td>"+this.rte.i18n("Developer, tech support")+"</td></tr><tr><td>Valentin Razumnyh &lt;content@std42.ru&gt;</td><td>"+this.rte.i18n("Interface designer")+"</td></tr><tr><td>Tawfek Daghistani &lt;tawfekov@gmail.com&gt;</td><td>"+this.rte.i18n("RTL support")+"</td></tr>"+(this.rte.options.lang!="en"?"<tr><td>"+this.rte.i18n("_translator")+"</td><td>"+this.rte.i18n("_translation")+"</td></tr>":"")+'</table><div class="elrte-copy">Copyright &copy; 2009-2011, <a href="http://www.std42.ru">Studio 42</a></div><div class="elrte-copy">'+this.rte.i18n("For more information about this software visit the")+' <a href="http://elrte.org">'+this.rte.i18n("elRTE website")+'.</a></div><div class="elrte-copy">Twitter: <a href="http://twitter.com/elrte_elfinder">elrte_elfinder</a></div>';c=new elDialogForm(j);c.append(k);c.open()};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.anchor=function(g,h){this.constructor.prototype.constructor.call(this,g,h);this.input=b('<input type="text" />').attr("name","anchor").attr("size","16");var a=this;this.command=function(){var f={rtl:this.rte.rtl,submit:function(p,o){p.stopPropagation();p.preventDefault();o.close();a.set()},dialog:{title:this.rte.i18n("Bookmark")}};this.anchor=this.rte.dom.selfOrParentAnchor(this.rte.selection.getEnd())||g.dom.create("a");!this.rte.selection.collapsed()&&this.rte.selection.collapse(false);this.input.val(b(this.anchor).addClass("elrte-anchor").attr("name"));this.rte.selection.saveIERange();var c=new elDialogForm(f);c.append([this.rte.i18n("Bookmark name"),this.input],null,true).open();setTimeout(function(){a.input.focus()},20)};this.update=function(){var c=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(c)){this.domElem.addClass("disabled")}else{if(this.rte.dom.selfOrParentAnchor(c)){this.domElem.removeClass("disabled").addClass("active")}else{this.domElem.removeClass("disabled").removeClass("active")}}};this.set=function(){var c=b.trim(this.input.val());if(c){this.rte.history.add();if(!this.anchor.parentNode){this.rte.selection.insertHtml('<a name="'+c+'" title="'+this.rte.i18n("Bookmark")+": "+c+'" class="elrte-anchor"></a>')}else{this.anchor.name=c;this.anchor.title=this.rte.i18n("Bookmark")+": "+c}}else{if(this.anchor.parentNode){this.rte.history.add();this.anchor.parentNode.removeChild(this.anchor)}}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.blockquote=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){var c,h;this.rte.history.add();if(this.rte.selection.collapsed()&&(c=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^BLOCKQUOTE$/))){b(c).replaceWith(b(c).html())}else{h=this.rte.selection.selected({wrap:"all",tag:"blockquote"});h.length&&this.rte.selection.select(h[0],h[h.length-1])}this.rte.ui.update(true)};this.update=function(){if(this.rte.selection.collapsed()){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^BLOCKQUOTE$/)){this.domElem.removeClass("disabled").addClass("active")}else{this.domElem.addClass("disabled").removeClass("active")}}else{this.domElem.removeClass("disabled active")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.copy=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){if(this.rte.browser.mozilla){try{this.rte.doc.execCommand(this.name,false,null)}catch(k){var p=" Ctl + C";if(this.name=="cut"){p=" Ctl + X"}else{if(this.name=="paste"){p=" Ctl + V"}}var o={dialog:{title:this.rte.i18n("Warning"),buttons:{Ok:function(){b(this).dialog("close")}}}};var c=new elDialogForm(o);c.append(this.rte.i18n("This operation is disabled in your browser on security reason. Use shortcut instead.")+": "+p).open()}}else{this.constructor.prototype.command.call(this)}}};elRTE.prototype.ui.prototype.buttons.cut=elRTE.prototype.ui.prototype.buttons.copy;elRTE.prototype.ui.prototype.buttons.paste=elRTE.prototype.ui.prototype.buttons.copy})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.css=function(g,h){var a=this;this.constructor.prototype.constructor.call(this,g,h);this.cssStyle=b('<input type="text" size="42" name="style" />');this.cssClass=b('<input type="text" size="42" name="class" />');this.elementID=b('<input type="text" size="42" name="id" />');this.command=function(){var c=this.node(),k;this.rte.selection.saveIERange();if(c){var k={submit:function(j,p){j.stopPropagation();j.preventDefault();p.close();a.set()},dialog:{title:this.rte.i18n("Style"),width:450,resizable:true,modal:true}};this.cssStyle.val(b(c).attr("style"));this.cssClass.val(b(c).attr("class"));this.elementID.val(b(c).attr("id"));var f=new elDialogForm(k);f.append([this.rte.i18n("Css style"),this.cssStyle],null,true);f.append([this.rte.i18n("Css class"),this.cssClass],null,true);f.append([this.rte.i18n("ID"),this.elementID],null,true);f.open();setTimeout(function(){a.cssStyle.focus()},20)}};this.set=function(){var c=this.node();this.rte.selection.restoreIERange();if(c){b(c).attr("style",this.cssStyle.val());b(c).attr("class",this.cssClass.val());b(c).attr("id",this.elementID.val());this.rte.ui.update()}};this.node=function(){var c=this.rte.selection.getNode();if(c.nodeType==3){c=c.parentNode}return c.nodeType==1&&c.nodeName!="BODY"?c:null};this.update=function(){this.domElem.toggleClass("disabled",this.node()?false:true)}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.rtl=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var c=this.rte.selection.getNode(),f=this;if(b(c).attr("dir")=="rtl"||b(c).parents('[dir="rtl"]').length||b(c).find('[dir="rtl"]').length){b(c).removeAttr("dir");b(c).parents('[dir="rtl"]').removeAttr("dir");b(c).find('[dir="rtl"]').removeAttr("dir")}else{if(this.rte.dom.is(c,"textNodes")&&this.rte.dom.is(c,"block")){b(c).attr("dir","rtl")}else{b.each(this.rte.dom.parents(c,"textNodes"),function(p,o){if(f.rte.dom.is(o,"block")){b(o).attr("dir","rtl");return false}})}}this.rte.ui.update()};this.update=function(){var c=this.rte.selection.getNode();this.domElem.removeClass("disabled");if(b(c).attr("dir")=="rtl"||b(c).parents('[dir="rtl"]').length||b(c).find('[dir="rtl"]').length){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}}};elRTE.prototype.ui.prototype.buttons.ltr=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var c=this.rte.selection.getNode(),f=this;if(b(c).attr("dir")=="ltr"||b(c).parents('[dir="ltr"]').length||b(c).find('[dir="ltr"]').length){b(c).removeAttr("dir");b(c).parents('[dir="ltr"]').removeAttr("dir");b(c).find('[dir="ltr"]').removeAttr("dir")}else{if(this.rte.dom.is(c,"textNodes")&&this.rte.dom.is(c,"block")){b(c).attr("dir","ltr")}else{b.each(this.rte.dom.parents(c,"textNodes"),function(p,o){if(f.rte.dom.is(o,"block")){b(o).attr("dir","ltr");return false}})}}this.rte.ui.update()};this.update=function(){var c=this.rte.selection.getNode();this.domElem.removeClass("disabled");if(b(c).attr("dir")=="ltr"||b(c).parents('[dir="ltr"]').length||b(c).find('[dir="ltr"]').length){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.div=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){var c,h;this.rte.history.add();if(this.rte.selection.collapsed()){c=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^DIV$/);if(c){b(c).replaceWith(b(c).html())}}else{h=this.rte.selection.selected({wrap:"all",tag:"div"});h.length&&this.rte.selection.select(h[0],h[h.length-1])}this.rte.ui.update(true)};this.update=function(){if(this.rte.selection.collapsed()){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^DIV$/)){this.domElem.removeClass("disabled").addClass("active")}else{this.domElem.addClass("disabled active")}}else{this.domElem.removeClass("disabled active")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.docstructure=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){this.domElem.toggleClass("active");b(this.rte.doc.body).toggleClass("el-rte-structure")};this.command();this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.elfinder=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this,g=this.rte;this.command=function(){if(a.rte.options.fmAllow&&typeof(a.rte.options.fmOpen)=="function"){a.rte.options.fmOpen(function(c){var f=decodeURIComponent(c.split("/").pop().replace(/\+/g," "));if(g.selection.collapsed()){g.selection.insertHtml('<a href="'+c+'" >'+f+"</a>")}else{g.doc.execCommand("createLink",false,c)}})}};this.update=function(){if(a.rte.options.fmAllow&&typeof(a.rte.options.fmOpen)=="function"){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.flash=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.swf=null;this.placeholder=null;this.src={url:b('<input type="text" name="url" />').css("width","99%"),type:b('<select name="type"/>').append('<option value="application/x-shockwave-flash">Flash</option>').append('<option value="video/quicktime">Quicktime movie</option>').append('<option value="application/x-mplayer2">Windows media</option>'),width:b('<input type="text" />').attr("size",5).css("text-align","right"),height:b('<input type="text" />').attr("size",5).css("text-align","right"),wmode:b("<select />").append(b("<option />").val("").text(this.rte.i18n("Not set","dialogs"))).append(b("<option />").val("transparent").text(this.rte.i18n("Transparent"))),align:b("<select />").append(b("<option />").val("").text(this.rte.i18n("Not set","dialogs"))).append(b("<option />").val("left").text(this.rte.i18n("Left"))).append(b("<option />").val("right").text(this.rte.i18n("Right"))).append(b("<option />").val("top").text(this.rte.i18n("Top"))).append(b("<option />").val("text-top").text(this.rte.i18n("Text top"))).append(b("<option />").val("middle").text(this.rte.i18n("middle"))).append(b("<option />").val("baseline").text(this.rte.i18n("Baseline"))).append(b("<option />").val("bottom").text(this.rte.i18n("Bottom"))).append(b("<option />").val("text-bottom").text(this.rte.i18n("Text bottom"))),margin:b("<div />")};this.command=function(){var c=this.rte.selection.getEnd(),G,F="",D="",M="",K,I,J,E,o,f;this.rte.selection.saveIERange();this.src.margin.elPaddingInput({type:"margin"});this.placeholder=null;this.swf=null;if(b(c).hasClass("elrte-media")&&(E=b(c).attr("rel"))&&this.rte.filter.scripts[E]){this.placeholder=b(c);o=this.rte.filter.scripts[E];F="";if(o.embed&&o.embed.src){F=o.embed.src}if(o.params&&o.params.length){l=o.params.length;while(l--){if(o.params[l].name=="src"||o.params[l].name=="movie"){F=o.params[l].value}}}if(o.embed){D=o.embed.width||parseInt(o.embed.style.width)||"";M=o.embed.height||parseInt(o.embed.style.height)||"";f=o.embed.wmode||""}else{if(o.obj){D=o.obj.width||parseInt(o.obj.style.width)||"";M=o.obj.height||parseInt(o.obj.style.height)||"";f=o.obj.wmode||""}}if(o.obj){K=o.obj.style["float"]||"";I=o.obj.style["vertical-align"]||""}else{if(o.embed){K=o.embed.style["float"]||"";I=o.embed.style["vertical-align"]||""}}this.src.margin.val(c);this.src.type.val(o.embed?o.embed.type:"")}if(b(c).hasClass("elrte-swf-placeholder")){this.placeholder=b(c);F=b(c).attr("rel");D=parseInt(b(c).css("width"))||"";M=parseInt(b(c).css("height"))||"";K=b(c).css("float");I=b(c).css("vertical-align");this.src.margin.val(c);this.src.wmode.val(b(c).attr("wmode"))}this.src.url.val(F);this.src.width.val(D);this.src.height.val(M);this.src.align.val(K||I);this.src.wmode.val(f);var G={rtl:this.rte.rtl,submit:function(j,k){j.stopPropagation();j.preventDefault();a.set();k.close()},dialog:{width:580,position:"top",title:this.rte.i18n("Flash")}};var J=new elDialogForm(G);if(this.rte.options.fmAllow&&this.rte.options.fmOpen){var H=b("<span />").append(this.src.url.css("width","85%")).append(b("<span />").addClass("ui-state-default ui-corner-all").css({"float":"right","margin-right":"3px"}).attr("title",a.rte.i18n("Open file manger")).append(b("<span />").addClass("ui-icon ui-icon-folder-open")).click(function(){a.rte.options.fmOpen(function(j){a.src.url.val(j).change()})}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}))}else{var H=this.src.url}J.append([this.rte.i18n("URL"),H],null,true);J.append([this.rte.i18n("Type"),this.src.type],null,true);J.append([this.rte.i18n("Size"),b("<span />").append(this.src.width).append(" x ").append(this.src.height).append(" px")],null,true);J.append([this.rte.i18n("Wmode"),this.src.wmode],null,true);J.append([this.rte.i18n("Alignment"),this.src.align],null,true);J.append([this.rte.i18n("Margins"),this.src.margin],null,true);J.open();var L=b("<fieldset />").append(b("<legend />").text(this.rte.i18n("Preview")));J.append(L,"main");var w=document.createElement("iframe");b(w).attr("src","#").addClass("el-rte-preview").appendTo(L);html=this.rte.options.doctype+'<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /></head><body style="padding:0;margin:0;font-size:9px"> Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin</body></html>';w.contentWindow.document.open();w.contentWindow.document.write(html);w.contentWindow.document.close();this.frame=w.contentWindow.document;this.preview=b(w.contentWindow.document.body);this.src.type.change(function(){a.src.url.change()});this.src.width.change(function(){if(a.swf){var j=parseInt(b(this).val())||"";b(this).val(j);a.swf.css("width",j);a.swf.children("embed").css("width",j)}else{b(this).val("")}});this.src.height.change(function(){if(a.swf){var j=parseInt(b(this).val())||"";b(this).val(j);a.swf.css("height",j);a.swf.children("embed").css("height",j)}else{b(this).val("")}});this.src.wmode.change(function(){if(a.swf){var j=b(this).val();if(j){a.swf.attr("wmode",j);a.swf.children("embed").attr("wmode",j)}else{a.swf.removeAttr("wmode");a.swf.children("embed").removeAttr("wmode")}}});this.src.align.change(function(){var j=b(this).val(),k=j=="left"||j=="right";if(a.swf){a.swf.css({"float":k?j:"","vertical-align":k?"":j})}else{b(this).val("")}});this.src.margin.change(function(){if(a.swf){var j=a.src.margin.val();if(j.css){a.swf.css("margin",j.css)}else{a.swf.css("margin-top",j.top);a.swf.css("margin-right",j.right);a.swf.css("margin-bottom",j.bottom);a.swf.css("margin-left",j.left)}}});this.src.url.change(function(){var k=a.rte.utils.absoluteURL(b(this).val()),p,j;if(k){p=a.rte.utils.mediaInfo(a.src.type.val());if(!p){p=a.rte.util.mediaInfo("application/x-shockwave-flash")}j='<object classid="'+p.classid+'" codebase="'+p.codebase+'"><param name="src" value="'+k+'" /><embed quality="high" src="'+k+'" type="'+p.type+'"></object>';a.preview.children("object").remove().end().prepend(j);a.swf=a.preview.children("object").eq(0)}else{if(a.swf){a.swf.remove();a.swf=null}}a.src.width.trigger("change");a.src.height.trigger("change");a.src.align.trigger("change")}).trigger("change")};this.set=function(){a.swf=null;var H=this.rte.utils.absoluteURL(this.src.url.val()),w=parseInt(this.src.width.val())||"",M=parseInt(this.src.height.val())||"",o=this.src.wmode.val(),I=this.src.align.val(),K=I=="left"||I=="right"?I:"",E=this.placeholder?this.placeholder.attr("rel"):"",D,F,J,f=this.src.margin.val(),c;if(!H){if(this.placeholder){this.placeholder.remove();delete this.rte.filter.scripts[E]}}else{i=a.rte.utils.mediaInfo(a.src.type.val());if(!i){i=a.rte.util.mediaInfo("application/x-shockwave-flash")}J=this.rte.filter.videoHostRegExp.test(H)?H.replace(this.rte.filter.videoHostRegExp,"$2"):i.type.replace(/^\w+\/(.+)/,"$1");D={obj:{classid:i.classid[0],codebase:i.codebase,style:{}},params:[{name:"src",value:H}],embed:{src:H,type:i.type,quality:"high",wmode:o,style:{}}};if(w){D.obj.width=w;D.embed.width=w}if(M){D.obj.height=M;D.embed.height=M}if(K){D.obj.style["float"]=K}else{if(I){D.obj.style["vertical-align"]=I}}if(f.css){c={margin:f.css}}else{c={"margin-top":f.top,"margin-right":f.right,"margin-bottom":f.bottom,"margin-left":f.left}}D.obj.style=b.extend({},D.obj.style,c);if(this.placeholder&&E){F=this.rte.filter.scripts[E]||{};D=b.extend(true,F,D);delete D.obj.style.width;delete D.obj.style.height;delete D.embed.style.width;delete D.embed.style.height;this.rte.filter.scripts[E]=D;this.placeholder.removeAttr("class")}else{var G="media"+Math.random().toString().substring(2);this.rte.filter.scripts[G]=D;this.placeholder=b(this.rte.dom.create("img")).attr("rel",G).attr("src",this.rte.filter.url+"pixel.gif");var L=true}this.placeholder.attr("title",this.rte.utils.encode(H)).attr("width",w||150).attr("height",M||100).addClass("elrte-protected elrte-media elrte-media-"+J).css(D.obj.style);if(K){this.placeholder.css("float",K).css("vertical-align","")}else{if(I){this.placeholder.css("float","").css("vertical-align",I)}else{this.placeholder.css("float","").css("vertical-align","")}}if(L){this.rte.window.focus();this.rte.selection.restoreIERange();this.rte.selection.insertNode(this.placeholder.get(0))}}};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.selection.getNode();this.domElem.toggleClass("active",c&&c.nodeName=="IMG"&&b(c).hasClass("elrte-media"))}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.fontname=function(j,k){this.constructor.prototype.constructor.call(this,j,k);var a=this;var h={tpl:'<span style="font-family:%val">%label</span>',select:function(c){a.set(c)},src:{"":this.rte.i18n("Font"),"andale mono,sans-serif":"Andale Mono","arial,helvetica,sans-serif":"Arial","arial black,gadget,sans-serif":"Arial Black","book antiqua,palatino,sans-serif":"Book Antiqua","comic sans ms,cursive":"Comic Sans MS","courier new,courier,monospace":"Courier New","georgia,palatino,serif":"Georgia","helvetica,sans-serif":"Helvetica","impact,sans-serif":"Impact","lucida console,monaco,monospace":"Lucida console","lucida sans unicode,lucida grande,sans-serif":"Lucida grande","tahoma,sans-serif":"Tahoma","times new roman,times,serif":"Times New Roman","trebuchet ms,lucida grande,verdana,sans-serif":"Trebuchet MS","verdana,geneva,sans-serif":"Verdana"}};this.select=this.domElem.elSelect(h);this.command=function(){};this.set=function(c){this.rte.history.add();var f=this.rte.selection.selected({filter:"textContainsNodes"});b.each(f,function(){$this=/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(this.nodeName)?b(this).find("td,th"):b(this);b(this).css("font-family",c).find("[style]").css("font-family","")});this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.selection.getNode();if(c.nodeType!=1){c=c.parentNode}var f=b(c).css("font-family");f=f?f.toString().toLowerCase().replace(/,\s+/g,",").replace(/'|"/g,""):"";this.select.val(h.src[f]?f:"")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.fontsize=function(j,k){this.constructor.prototype.constructor.call(this,j,k);var a=this;var h={labelTpl:"%label",tpl:'<span style="font-size:%val;line-height:1.2em">%label</span>',select:function(c){a.set(c)},src:{"":this.rte.i18n("Font size"),"xx-small":this.rte.i18n("Small (8pt)"),"x-small":this.rte.i18n("Small (10px)"),small:this.rte.i18n("Small (12pt)"),medium:this.rte.i18n("Normal (14pt)"),large:this.rte.i18n("Large (18pt)"),"x-large":this.rte.i18n("Large (24pt)"),"xx-large":this.rte.i18n("Large (36pt)")}};this.select=this.domElem.elSelect(h);this.command=function(){};this.set=function(c){this.rte.history.add();var f=this.rte.selection.selected({filter:"textContainsNodes"});b.each(f,function(){$this=/^(THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(this.nodeName)?b(this).find("td,th"):b(this);$this.css("font-size",c).find("[style]").css("font-size","")});this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.selection.getNode();this.select.val((m=this.rte.dom.attr(c,"style").match(/font-size:\s*([^;]+)/i))?m[1]:"")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.forecolor=function(j,k){var a=this;this.constructor.prototype.constructor.call(this,j,k);var h={"class":"",palettePosition:"outer",color:this.defaultColor,update:function(c){a.indicator.css("background-color",c)},change:function(c){a.set(c)}};this.defaultColor=this.name=="forecolor"?"#000000":"#ffffff";this.picker=this.domElem.elColorPicker(h);this.indicator=b("<div />").addClass("color-indicator").prependTo(this.domElem);this.command=function(){};this.set=function(c){if(!this.rte.selection.collapsed()){this.rte.history.add();var g=this.rte.selection.selected({collapse:false,wrap:"text"}),f=this.name=="forecolor"?"color":"background-color";b.each(g,function(){if(/^(THEAD|TBODY|TFOOT|TR)$/.test(this.nodeName)){b(this).find("td,th").each(function(){b(this).css(f,c).find("*").css(f,"")})}else{b(this).css(f,c).find("*").css(f,"")}});this.rte.ui.update(true)}};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.selection.getNode();this.picker.val(this.rte.utils.rgb2hex(b(c.nodeType!=1?c.parentNode:c).css(this.name=="forecolor"?"color":"background-color"))||this.defaultColor)}};elRTE.prototype.ui.prototype.buttons.hilitecolor=elRTE.prototype.ui.prototype.buttons.forecolor})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.formatblock=function(o,p){this.constructor.prototype.constructor.call(this,o,p);var j=this.rte.browser.msie?function(c){a.val=c;a.constructor.prototype.command.call(a)}:function(c){a.ieCommand(c)};var a=this;var k={labelTpl:"%label",tpls:{"":"%label"},select:function(c){a.formatBlock(c)},src:{span:this.rte.i18n("Format"),h1:this.rte.i18n("Heading 1"),h2:this.rte.i18n("Heading 2"),h3:this.rte.i18n("Heading 3"),h4:this.rte.i18n("Heading 4"),h5:this.rte.i18n("Heading 5"),h6:this.rte.i18n("Heading 6"),p:this.rte.i18n("Paragraph"),address:this.rte.i18n("Address"),pre:this.rte.i18n("Preformatted"),div:this.rte.i18n("Normal (DIV)")}};this.select=this.domElem.elSelect(k);this.command=function(){};this.formatBlock=function(A){function B(t,r){function q(u){b(u).find("h1,h2,h3,h4,h5,h6,p,address,pre").each(function(){b(this).replaceWith(b(this).html())});return u}if(/^(LI|DT|DD|TD|TH|CAPTION)$/.test(t.nodeName)){!a.rte.dom.isEmpty(t)&&a.rte.dom.wrapContents(q(t),r)}else{if(/^(UL|OL|DL|TABLE)$/.test(t.nodeName)){a.rte.dom.wrap(t,r)}else{!a.rte.dom.isEmpty(t)&&b(q(t)).replaceWith(b(a.rte.dom.create(r)).html(b(t).html()))}}}this.rte.history.add();var z=A.toUpperCase(),g,h,c,f=this.rte.selection.collapsed(),v=this.rte.selection.getBookmark(),x=this.rte.selection.selected({collapsed:true,blocks:true,filter:"textContainsNodes",wrap:"inline",tag:"span"});l=x.length,s=b(x[0]).prev(),e=b(x[x.length-1]).next();while(l--){h=x[l];c=b(h);if(z=="DIV"||z=="SPAN"){if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(h.nodeName)){c.replaceWith(b(this.rte.dom.create("div")).html(c.html()||""))}}else{if(/^(THEAD|TBODY|TFOOT|TR)$/.test(h.nodeName)){c.find("td,th").each(function(){B(this,z)})}else{if(h.nodeName!=z){B(h,z)}}}}this.rte.selection.moveToBookmark(v);this.rte.ui.update(true)};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(H[1-6]|P|ADDRESS|PRE)$/);this.select.val(c?c.nodeName.toLowerCase():"span")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.fullscreen=function(h,j){var a=this;this.constructor.prototype.constructor.call(this,h,j);this.active=true;this.editor=h.editor;this.wz=h.workzone;this.height=0;this.delta=0;this._class="el-fullscreen";setTimeout(function(){a.height=a.wz.height();a.delta=a.editor.outerHeight()-a.height},50);function k(){a.wz.height(b(window).height()-a.delta);a.rte.updateHeight()}this.command=function(){var p=b(window),J=this.editor,E=J.parents().filter(function(o,q){return !/^(html|body)$/i.test(q.nodeName)&&b(q).css("position")=="relative"}),g=this.wz,G=this._class,K=J.hasClass(G),F=this.rte,f=this.rte.selection,D=b.browser.mozilla,w,c;function H(){if(D){w=f.getBookmark()}}function I(){if(D){a.wz.children().toggle();a.rte.source.focus();a.wz.children().toggle();f.moveToBookmark(w)}}H();E.css("position",K?"relative":"static");if(K){J.removeClass(G);g.height(this.height);p.unbind("resize",k);this.domElem.removeClass("active")}else{J.addClass(G).removeAttr("style");g.height(p.height()-this.delta).css("width","100%");p.bind("resize",k);this.domElem.addClass("active")}F.updateHeight();F.resizable(K);I()};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.horizontalrule=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.src={width:b('<input type="text" />').attr({name:"width",size:4}).css("text-align","right"),wunit:b("<select />").attr("name","wunit").append(b("<option />").val("%").text("%")).append(b("<option />").val("px").text("px")).val("%"),height:b('<input type="text" />').attr({name:"height",size:4}).css("text-align","right"),bg:b("<div />"),border:b("<div />"),"class":b('<input type="text" />').css("width","100%"),style:b('<input type="text" />').css("width","100%")};this.command=function(){this.src.bg.elColorPicker({palettePosition:"outer","class":"el-colorpicker ui-icon ui-icon-pencil"});var c=this.rte.selection.getEnd();this.hr=c.nodeName=="HR"?b(c):b(g.doc.createElement("hr")).css({width:"100%",height:"1px"});this.src.border.elBorderSelect({styleHeight:73,value:this.hr});var p=this.hr.css("width")||this.hr.attr("width");this.src.width.val(parseInt(p)||100);this.src.wunit.val(p.indexOf("px")!=-1?"px":"%");this.src.height.val(this.rte.utils.toPixels(this.hr.css("height")||this.hr.attr("height"))||1);this.src.bg.val(this.rte.utils.color2Hex(this.hr.css("background-color")));this.src["class"].val(this.rte.dom.attr(this.hr,"class"));this.src.style.val(this.rte.dom.attr(this.hr,"style"));var o={rtl:this.rte.rtl,submit:function(k,j){k.stopPropagation();k.preventDefault();a.set();j.close()},dialog:{title:this.rte.i18n("Horizontal rule")}};var f=new elDialogForm(o);f.append([this.rte.i18n("Width"),b("<span />").append(this.src.width).append(this.src.wunit)],null,true).append([this.rte.i18n("Height"),b("<span />").append(this.src.height).append(" px")],null,true).append([this.rte.i18n("Border"),this.src.border],null,true).append([this.rte.i18n("Background"),this.src.bg],null,true).append([this.rte.i18n("Css class"),this.src["class"]],null,true).append([this.rte.i18n("Css style"),this.src.style],null,true).open()};this.update=function(){this.domElem.removeClass("disabled");if(this.rte.selection.getEnd().nodeName=="HR"){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}};this.set=function(){this.rte.history.add();!this.hr.parentNode&&this.rte.selection.insertNode(this.hr.get(0));var f={noshade:true,style:this.src.style.val()};var k=this.src.border.val();var c={width:(parseInt(this.src.width.val())||100)+this.src.wunit.val(),height:parseInt(this.src.height.val())||1,"background-color":this.src.bg.val(),border:k.width&&k.style?k.width+" "+k.style+" "+k.color:""};this.hr.removeAttr("class").removeAttr("style").removeAttr("width").removeAttr("height").removeAttr("align").attr(f).css(c);if(this.src["class"].val()){this.hr.attr("class",this.src["class"].val())}this.rte.ui.update()}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.image=function(D,C){this.constructor.prototype.constructor.call(this,D,C);var t=this,D=t.rte,z=0,B=0,u=0,A=null,x=function(c){b.each(t.src,function(g,f){b.each(f,function(h,j){if(h=="src"&&c){return}j.val("")})})},v=function(c){b.each(t.src,function(g,f){b.each(f,function(k,r){var q,j,o,h,p;if(k=="width"){q=c.width()}else{if(k=="height"){q=c.height()}else{if(k=="border"){q="";p=c.css("border")||D.utils.parseStyle(c.attr("style")).border||"";if(p){j=p.match(/(\d(px|em|%))/);o=p.match(/(#[a-z0-9]+)/);q={width:j?j[1]:p,style:p,color:D.utils.color2Hex(o?o[1]:p)}}}else{if(k=="margin"){q=c}else{if(k=="align"){q=c.css("float");if(q!="left"&&q!="right"){q=c.css("vertical-align")}}else{q=c.attr(k)||""}}}}}if(g=="events"){q=D.utils.trimEventCallback(q)}r.val(q)})})},w=function(){var c=t.src.main.src.val();x(true);if(!c){t.preview.children("img").remove();t.prevImg=null}else{if(t.prevImg){t.prevImg.removeAttr("src").removeAttr("style").removeAttr("class").removeAttr("id").removeAttr("title").removeAttr("alt").removeAttr("longdesc");b.each(t.src.events,function(f,g){t.prevImg.removeAttr(f)})}else{t.prevImg=b("<img/>").prependTo(t.preview)}t.prevImg.load(function(){t.prevImg.unbind("load");setTimeout(function(){B=t.prevImg.width();u=t.prevImg.height();z=(B/u).toFixed(2);t.src.main.width.val(B);t.src.main.height.val(u)},100)}).attr("src",c)}},a=function(c){var g=parseInt(t.src.main.width.val())||0,f=parseInt(t.src.main.height.val())||0;if(t.prevImg){if(g&&f){if(c.target===t.src.main.width[0]){f=parseInt(g/z)}else{g=parseInt(f*z)}}else{g=B;f=u}t.src.main.height.val(f);t.src.main.width.val(g);t.prevImg.width(g).height(f);t.src.adv.style.val(t.prevImg.attr("style"))}};this.img=null;this.prevImg=null;this.preview=b('<div class="elrte-image-preview"/>').text("Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin");this.init=function(){this.labels={main:"Properies",link:"Link",adv:"Advanced",events:"Events",id:"ID","class":"Css class",style:"Css style",longdesc:"Detail description URL",href:"URL",target:"Open in",title:"Title"};this.src={main:{src:b('<input type="text" />').css("width","100%").change(w),title:b('<input type="text" />').css("width","100%"),alt:b('<input type="text" />').css("width","100%"),width:b('<input type="text" />').attr("size",5).css("text-align","right").change(a),height:b('<input type="text" />').attr("size",5).css("text-align","right").change(a),margin:b("<div />").elPaddingInput({type:"margin",change:function(){var c=t.src.main.margin.val();if(t.prevImg){if(c.css){t.prevImg.css("margin",c.css)}else{t.prevImg.css({"margin-left":c.left,"margin-top":c.top,"margin-right":c.right,"margin-bottom":c.bottom})}}}}),align:b("<select />").css("width","100%").append(b("<option />").val("").text(this.rte.i18n("Not set","dialogs"))).append(b("<option />").val("left").text(this.rte.i18n("Left"))).append(b("<option />").val("right").text(this.rte.i18n("Right"))).append(b("<option />").val("top").text(this.rte.i18n("Top"))).append(b("<option />").val("text-top").text(this.rte.i18n("Text top"))).append(b("<option />").val("middle").text(this.rte.i18n("middle"))).append(b("<option />").val("baseline").text(this.rte.i18n("Baseline"))).append(b("<option />").val("bottom").text(this.rte.i18n("Bottom"))).append(b("<option />").val("text-bottom").text(this.rte.i18n("Text bottom"))).change(function(){var c=b(this).val(),f={"float":"","vertical-align":""};if(t.prevImg){if(c=="left"||c=="right"){f["float"]=c;f["vertical-align"]=""}else{if(c){f["float"]="";f["vertical-align"]=c}}t.prevImg.css(f)}}),border:b("<div />").elBorderSelect({name:"border",change:function(){var c=t.src.main.border.val();if(t.prevImg){t.prevImg.css("border",c.width?c.width+" "+c.style+" "+c.color:"")}}})},adv:{},events:{}};b.each(["id","class","style","longdesc"],function(c,f){t.src.adv[f]=b('<input type="text" style="width:100%" />')});this.src.adv["class"].change(function(){if(t.prevImg){t.prevImg.attr("class",b(this).val())}});this.src.adv.style.change(function(){if(t.prevImg){t.prevImg.attr("style",b(this).val());v(t.prevImg)}});b.each(["onblur","onfocus","onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmouseleave","onkeydown","onkeypress","onkeyup"],function(){t.src.events[this]=b('<input type="text"  style="width:100%"/>')})};this.command=function(){!this.src&&this.init();var j,f={rtl:D.rtl,submit:function(o,k){o.stopPropagation();o.preventDefault();t.set();h.close()},close:function(){A&&D.selection.moveToBookmark(A)},dialog:{autoOpen:false,width:500,position:"top",title:D.i18n("Image"),resizable:true,open:function(){b.fn.resizable&&b(this).parents(".ui-dialog:first").resizable("option","alsoResize",".elrte-image-preview")}}},h=new elDialogForm(f),g=!!D.options.fmOpen,c=g?b('<div class="elrte-image-src-fm"><span class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-folder-open"/></span></div>').append(this.src.main.src.css("width","87%")):this.src.main.src;x();this.preview.children("img").remove();this.prevImg=null;j=D.selection.getEnd();this.img=j.nodeName=="IMG"&&!b(j).is(".elrte-protected")?b(j):b("<img/>");A=D.selection.getBookmark();if(g){c.children(".ui-state-default").click(function(){D.options.fmOpen(function(k){t.src.main.src.val(k).change()})}).hover(function(){b(this).toggleClass("ui-state-hover")})}h.tab("main",this.rte.i18n("Properies")).append([this.rte.i18n("Image URL"),c],"main",true).append([this.rte.i18n("Title"),this.src.main.title],"main",true).append([this.rte.i18n("Alt text"),this.src.main.alt],"main",true).append([this.rte.i18n("Size"),b("<span />").append(this.src.main.width).append(" x ").append(this.src.main.height).append(" px")],"main",true).append([this.rte.i18n("Alignment"),this.src.main.align],"main",true).append([this.rte.i18n("Margins"),this.src.main.margin],"main",true).append([this.rte.i18n("Border"),this.src.main.border],"main",true);h.append(b("<fieldset><legend>"+this.rte.i18n("Preview")+"</legend></fieldset>").append(this.preview),"main");b.each(this.src,function(k,o){if(k=="main"){return}h.tab(k,D.i18n(t.labels[k]));b.each(o,function(q,p){t.src[k][q].val(k=="events"?D.utils.trimEventCallback(t.img.attr(q)):t.img.attr(q)||"");h.append([D.i18n(t.labels[q]||q),t.src[k][q]],k,true)})});h.open();if(this.img.attr("src")){v(this.img);this.prevImg=this.img.clone().prependTo(this.preview);z=(this.img.width()/this.img.height()).toFixed(2);B=parseInt(this.img.width());u=parseInt(this.img.height())}};this.set=function(){var c=this.src.main.src.val(),f;this.rte.history.add();A&&D.selection.moveToBookmark(A);if(!c){f=D.dom.selfOrParentLink(this.img[0]);f&&f.remove();return this.img.remove()}!this.img[0].parentNode&&(this.img=b(this.rte.doc.createElement("img")));this.img.attr("src",c).attr("style",this.src.adv.style.val());b.each(this.src,function(h,g){b.each(g,function(k,j){var p=j.val(),o;switch(k){case"width":t.img.css("width",p);break;case"height":t.img.css("height",p);break;case"align":t.img.css(p=="left"||p=="right"?"float":"vertical-align",p);break;case"margin":if(p.css){t.img.css("margin",p.css)}else{t.img.css({"margin-left":p.left,"margin-top":p.top,"margin-right":p.right,"margin-bottom":p.bottom})}break;case"border":if(!p.width){p=""}else{p="border:"+p.css+";"+b.trim((t.img.attr("style")||"").replace(/border\-[^;]+;?/ig,""));k="style";t.img.attr("style",p);return}break;case"src":case"style":return;default:p?t.img.attr(k,p):t.img.removeAttr(k)}})});!this.img[0].parentNode&&D.selection.insertNode(this.img[0]);this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled");var c=this.rte.selection.getEnd(),f=b(c);if(c.nodeName=="IMG"&&!f.hasClass("elrte-protected")){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.indent=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){this.rte.history.add();var o=this.rte.selection.selected({collapsed:true,blocks:true,wrap:"inline",tag:"p"});function p(j){var r=/(IMG|HR|TABLE|EMBED|OBJECT)/.test(j.nodeName)?"margin-left":"padding-left";var k=a.rte.dom.attr(j,"style").indexOf(r)!=-1?parseInt(b(j).css(r))||0:0;b(j).css(r,k+40+"px")}for(var f=0;f<o.length;f++){if(/^(TABLE|THEAD|TFOOT|TBODY|COL|COLGROUP|TR)$/.test(o[f].nodeName)){b(o[f]).find("td,th").each(function(){p(this)})}else{if(/^LI$/.test(o[f].nodeName)){var c=b(o[f]);b(this.rte.dom.create(o[f].parentNode.nodeName)).append(b(this.rte.dom.create("li")).html(c.html()||"")).appendTo(c.html("&nbsp;"))}else{p(o[f])}}}this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.justifyleft=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.align=this.name=="justifyfull"?"justify":this.name.replace("justify","");this.command=function(){var c=this.rte.selection.selected({collapsed:true,blocks:true,tag:"div"}),h=c.length;h&&this.rte.history.add();while(h--){this.rte.dom.filter(c[h],"textNodes")&&b(c[h]).css("text-align",this.align)}this.rte.ui.update()};this.update=function(){var h=this.rte.selection.getNode(),c=h.nodeName=="BODY"?h:this.rte.dom.selfOrParent(h,"textNodes")||(h.parentNode&&h.parentNode.nodeName=="BODY"?h.parentNode:null);if(c){this.domElem.removeClass("disabled").toggleClass("active",b(c).css("text-align")==this.align)}else{this.domElem.addClass("disabled")}}};elRTE.prototype.ui.prototype.buttons.justifycenter=elRTE.prototype.ui.prototype.buttons.justifyleft;elRTE.prototype.ui.prototype.buttons.justifyright=elRTE.prototype.ui.prototype.buttons.justifyleft;elRTE.prototype.ui.prototype.buttons.justifyfull=elRTE.prototype.ui.prototype.buttons.justifyleft})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.link=function(j,k){this.constructor.prototype.constructor.call(this,j,k);var a=this;this.img=false;this.bm;function h(){a.labels={id:"ID","class":"Css class",style:"Css style",dir:"Script direction",lang:"Language",charset:"Charset",type:"Target MIME type",rel:"Relationship page to target (rel)",rev:"Relationship target to page (rev)",tabindex:"Tab index",accesskey:"Access key"};a.src={main:{href:b('<input type="text" />'),title:b('<input type="text" />'),anchor:b("<select />").attr("name","anchor"),target:b("<select />").append(b("<option />").text(a.rte.i18n("In this window")).val("")).append(b("<option />").text(a.rte.i18n("In new window (_blank)")).val("_blank"))},popup:{use:b('<input type="checkbox" />'),url:b('<input type="text" />').val("http://"),name:b('<input type="text" />'),width:b('<input type="text" />').attr({size:6,title:a.rte.i18n("Width")}).css("text-align","right"),height:b('<input type="text" />').attr({size:6,title:a.rte.i18n("Height")}).css("text-align","right"),left:b('<input type="text" />').attr({size:6,title:a.rte.i18n("Left")}).css("text-align","right"),top:b('<input type="text" />').attr({size:6,title:a.rte.i18n("Top")}).css("text-align","right"),location:b('<input type="checkbox" />'),menubar:b('<input type="checkbox" />'),toolbar:b('<input type="checkbox" />'),scrollbars:b('<input type="checkbox" />'),status:b('<input type="checkbox" />'),resizable:b('<input type="checkbox" />'),dependent:b('<input type="checkbox" />'),retfalse:b('<input type="checkbox" />').attr("checked",true)},adv:{id:b('<input type="text" />'),"class":b('<input type="text" />'),style:b('<input type="text" />'),dir:b("<select />").append(b("<option />").text(a.rte.i18n("Not set")).val("")).append(b("<option />").text(a.rte.i18n("Left to right")).val("ltr")).append(b("<option />").text(a.rte.i18n("Right to left")).val("rtl")),lang:b('<input type="text" />'),charset:b('<input type="text" />'),type:b('<input type="text" />'),rel:b('<input type="text" />'),rev:b('<input type="text" />'),tabindex:b('<input type="text" />'),accesskey:b('<input type="text" />')},events:{}};b.each(["onblur","onfocus","onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmouseleave","onkeydown","onkeypress","onkeyup"],function(){a.src.events[this]=b('<input type="text" />')});b.each(a.src,function(){for(var c in this){var f=this[c].attr("type");if(!f||(f=="text"&&!this[c].attr("size"))){this[c].css("width","100%")}}})}this.command=function(){var f=this.rte.selection.getNode(),g,E,C,A,F,v,D,r,B;!this.src&&h();this.bm=this.rte.selection.getBookmark();function c(o){return o.nodeName=="A"&&o.href}this.link=this.rte.dom.selfOrParentLink(f);if(!this.link){g=b.browser.msie?this.rte.selection.selected():this.rte.selection.selected({wrap:false});if(g.length){for(E=0;E<g.length;E++){if(c(g[E])){this.link=g[E];break}}if(!this.link){this.link=this.rte.dom.parent(g[0],c)||this.rte.dom.parent(g[g.length-1],c)}}}this.link=this.link?b(this.link):b(this.rte.doc.createElement("a"));this.img=f.nodeName=="IMG"?f:null;this.updatePopup();this.src.main.anchor.empty();b('a[href!=""][name]',this.rte.doc).each(function(){var o=b(this).attr("name");a.src.main.anchor.append(b("<option />").val(o).text(o))});if(this.src.main.anchor.children().length){this.src.main.anchor.prepend(b("<option />").val("").text(this.rte.i18n("Select bookmark"))).change(function(){var o=b(this).val();if(o){a.src.main.href.val("#"+o)}})}A={rtl:this.rte.rtl,submit:function(p,o){p.stopPropagation();p.preventDefault();a.set();o.close()},tabs:{show:function(o,p){if(p.index==3){a.updateOnclick()}}},close:function(){a.rte.browser.msie&&a.rte.selection.restoreIERange()},dialog:{width:"auto",width:430,title:this.rte.i18n("Link")}};d=new elDialogForm(A);F=b("<div />").append(b("<label />").append(this.src.popup.location).append(this.rte.i18n("Location bar"))).append(b("<label />").append(this.src.popup.menubar).append(this.rte.i18n("Menu bar"))).append(b("<label />").append(this.src.popup.toolbar).append(this.rte.i18n("Toolbar"))).append(b("<label />").append(this.src.popup.scrollbars).append(this.rte.i18n("Scrollbars")));v=b("<div />").append(b("<label />").append(this.src.popup.status).append(this.rte.i18n("Status bar"))).append(b("<label />").append(this.src.popup.resizable).append(this.rte.i18n("Resizable"))).append(b("<label />").append(this.src.popup.dependent).append(this.rte.i18n("Depedent"))).append(b("<label />").append(this.src.popup.retfalse).append(this.rte.i18n("Add return false")));d.tab("main",this.rte.i18n("Properies")).tab("popup",this.rte.i18n("Popup")).tab("adv",this.rte.i18n("Advanced")).tab("events",this.rte.i18n("Events")).append(b("<label />").append(this.src.popup.use).append(this.rte.i18n("Open link in popup window")),"popup").separator("popup").append([this.rte.i18n("URL"),this.src.popup.url],"popup",true).append([this.rte.i18n("Window name"),this.src.popup.name],"popup",true).append([this.rte.i18n("Window size"),b("<span />").append(this.src.popup.width).append(" x ").append(this.src.popup.height).append(" px")],"popup",true).append([this.rte.i18n("Window position"),b("<span />").append(this.src.popup.left).append(" x ").append(this.src.popup.top).append(" px")],"popup",true).separator("popup").append([F,v],"popup",true);D=this.link.get(0);r=this.rte.dom.attr(D,"href");this.src.main.href.val(r).change(function(){b(this).val(a.rte.utils.absoluteURL(b(this).val()))});if(this.rte.options.fmAllow&&this.rte.options.fmOpen){var B=b("<span />").append(this.src.main.href.css("width","87%")).append(b("<span />").addClass("ui-state-default ui-corner-all").css({"float":"right","margin-right":"3px"}).attr("title",a.rte.i18n("Open file manger")).append(b("<span />").addClass("ui-icon ui-icon-folder-open")).click(function(){a.rte.options.fmOpen(function(o){a.src.main.href.val(o).change()})}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}));d.append([this.rte.i18n("Link URL"),B],"main",true)}else{d.append([this.rte.i18n("Link URL"),this.src.main.href],"main",true)}this.src.main.href.change();d.append([this.rte.i18n("Title"),this.src.main.title.val(this.rte.dom.attr(D,"title"))],"main",true);if(this.src.main.anchor.children().length){d.append([this.rte.i18n("Bookmark"),this.src.main.anchor.val(r)],"main",true)}if(!(this.rte.options.doctype.match(/xhtml/)&&this.rte.options.doctype.match(/strict/))){d.append([this.rte.i18n("Target"),this.src.main.target.val(this.link.attr("target")||"")],"main",true)}for(var f in this.src.adv){this.src.adv[f].val(this.rte.dom.attr(D,f));d.append([this.rte.i18n(this.labels[f]?this.labels[f]:f),this.src.adv[f]],"adv",true)}for(var f in this.src.events){var C=this.rte.utils.trimEventCallback(this.rte.dom.attr(D,f));this.src.events[f].val(C);d.append([this.rte.i18n(this.labels[f]?this.labels[f]:f),this.src.events[f]],"events",true)}this.src.popup.use.change(function(){var o=b(this).attr("checked");b.each(a.src.popup,function(){if(b(this).attr("name")!="use"){if(o){b(this).removeAttr("disabled")}else{b(this).attr("disabled",true)}}})});this.src.popup.use.change();d.open()};this.update=function(){var c=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(c)){this.domElem.removeClass("disabled").addClass("active")}else{if(this.rte.dom.selectionHas(function(f){return f.nodeName=="A"&&f.href})){this.domElem.removeClass("disabled").addClass("active")}else{if(!this.rte.selection.collapsed()||c.nodeName=="IMG"){this.domElem.removeClass("disabled active")}else{this.domElem.addClass("disabled").removeClass("active")}}}};this.updatePopup=function(){var c=""+this.link.attr("onclick");if(c.length>0&&(m=c.match(/window.open\('([^']+)',\s*'([^']*)',\s*'([^']*)'\s*.*\);\s*(return\s+false)?/))){this.src.popup.use.attr("checked","on");this.src.popup.url.val(m[1]);this.src.popup.name.val(m[2]);if(/location=yes/.test(m[3])){this.src.popup.location.attr("checked",true)}if(/menubar=yes/.test(m[3])){this.src.popup.menubar.attr("checked",true)}if(/toolbar=yes/.test(m[3])){this.src.popup.toolbar.attr("checked",true)}if(/scrollbars=yes/.test(m[3])){this.src.popup.scrollbars.attr("checked",true)}if(/status=yes/.test(m[3])){this.src.popup.status.attr("checked",true)}if(/resizable=yes/.test(m[3])){this.src.popup.resizable.attr("checked",true)}if(/dependent=yes/.test(m[3])){this.src.popup.dependent.attr("checked",true)}if((_m=m[3].match(/width=([^,]+)/))){this.src.popup.width.val(_m[1])}if((_m=m[3].match(/height=([^,]+)/))){this.src.popup.height.val(_m[1])}if((_m=m[3].match(/left=([^,]+)/))){this.src.popup.left.val(_m[1])}if((_m=m[3].match(/top=([^,]+)/))){this.src.popup.top.val(_m[1])}if(m[4]){this.src.popup.retfalse.attr("checked",true)}}else{b.each(this.src.popup,function(){var f=b(this);if(f.attr("type")=="text"){f.val(f.attr("name")=="url"?"http://":"")}else{if(f.attr("name")=="retfalse"){this.attr("checked",true)}else{f.removeAttr("checked")}}})}};this.updateOnclick=function(){var r=this.src.popup.url.val();if(this.src.popup.use.attr("checked")&&r){var q="";if(this.src.popup.location.attr("checked")){q+="location=yes,"}if(this.src.popup.menubar.attr("checked")){q+="menubar=yes,"}if(this.src.popup.toolbar.attr("checked")){q+="toolbar=yes,"}if(this.src.popup.scrollbars.attr("checked")){q+="scrollbars=yes,"}if(this.src.popup.status.attr("checked")){q+="status=yes,"}if(this.src.popup.resizable.attr("checked")){q+="resizable=yes,"}if(this.src.popup.dependent.attr("checked")){q+="dependent=yes,"}if(this.src.popup.width.val()){q+="width="+this.src.popup.width.val()+","}if(this.src.popup.height.val()){q+="height="+this.src.popup.height.val()+","}if(this.src.popup.left.val()){q+="left="+this.src.popup.left.val()+","}if(this.src.popup.top.val()){q+="top="+this.src.popup.top.val()+","}if(q.length>0){q=q.substring(0,q.length-1)}var f=this.src.popup.retfalse.attr("checked")?"return false;":"";var c="window.open('"+r+"', '"+b.trim(this.src.popup.name.val())+"', '"+q+"'); "+f;this.src.events.onclick.val(c);if(!this.src.main.href.val()){this.src.main.href.val("#")}}else{var g=this.src.events.onclick.val();g=g.replace(/window\.open\([^\)]+\)\s*;?\s*return\s*false\s*;?/i,"");this.src.events.onclick.val(g)}};this.set=function(){var f,c;this.updateOnclick();this.rte.selection.moveToBookmark(this.bm);this.rte.history.add();f=this.rte.utils.absoluteURL(this.src.main.href.val());if(!f){var t=this.rte.selection.getBookmark();this.rte.dom.unwrap(this.link[0]);this.rte.selection.moveToBookmark(t)}else{if(this.img&&this.img.parentNode){this.link=b(this.rte.dom.create("a")).attr("href",f);this.rte.dom.wrap(this.img,this.link[0])}else{if(!this.link[0].parentNode){c="#--el-editor---"+Math.random();this.rte.doc.execCommand("createLink",false,c);this.link=b('a[href="'+c+'"]',this.rte.doc);this.link.each(function(){var o=b(this);if(!b.trim(o.html())&&!b.trim(o.text())){o.replaceWith(o.text())}})}}this.src.main.href.val(f);for(var u in this.src){if(u!="popup"){for(var r in this.src[u]){if(r!="anchors"){var g=b.trim(this.src[u][r].val());if(g){this.link.attr(r,g)}else{this.link.removeAttr(r)}}}}}this.img&&this.rte.selection.select(this.img)}this.rte.ui.update(true)}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.nbsp=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){this.rte.history.add();this.rte.selection.insertHtml("&nbsp;",true);this.rte.window.focus();this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.outdent=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var c=this.find();if(c.node){this.rte.history.add();b(c.node).css(c.type,(c.val>40?c.val-40:0)+"px");this.rte.ui.update()}};this.find=function(c){function k(q){var j={type:"",val:0};var r;if((r=a.rte.dom.attr(q,"style"))){j.type=r.indexOf("padding-left")!=-1?"padding-left":(r.indexOf("margin-left")!=-1?"margin-left":"");j.val=j.type?parseInt(b(q).css(j.type))||0:0}return j}var c=this.rte.selection.getNode();var f=k(c);if(f.val){f.node=c}else{b.each(this.rte.dom.parents(c,"*"),function(){f=k(this);if(f.val){f.node=this;return f}})}return f};this.update=function(){var c=this.find();if(c.node){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.pagebreak=function(f,a){this.constructor.prototype.constructor.call(this,f,a);b(this.rte.doc.body).bind("mousedown",function(c){if(b(c.target).hasClass("elrte-pagebreak")){c.preventDefault()}});this.command=function(){this.rte.selection.insertHtml('<img src="'+this.rte.filter.url+'pixel.gif" class="elrte-protected elrte-pagebreak"/>',false)};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.pasteformattext=function(g,h){this.constructor.prototype.constructor.call(this,g,h);this.iframe=b(document.createElement("iframe")).addClass("el-rte-paste-input");this.doc=null;var a=this;this.command=function(){this.rte.selection.saveIERange();var p=this,o={submit:function(k,j){k.stopPropagation();k.preventDefault();p.paste();j.close()},dialog:{width:500,title:this.rte.i18n("Paste formatted text")}},c=new elDialogForm(o);c.append(this.iframe).open();this.doc=this.iframe.get(0).contentWindow.document;html=this.rte.options.doctype+'<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';html+="</head><body> <br /> </body></html>";this.doc.open();this.doc.write(html);this.doc.close();if(!this.rte.browser.msie){try{this.doc.designMode="on"}catch(f){}}else{this.doc.body.contentEditable=true}setTimeout(function(){p.iframe[0].contentWindow.focus()},50)};this.paste=function(){b(this.doc.body).find("[class]").removeAttr("class");var c=b.trim(b(this.doc.body).html());if(c){this.rte.history.add();this.rte.selection.restoreIERange();this.rte.selection.insertHtml(this.rte.filter.wysiwyg2wysiwyg(this.rte.filter.proccess("paste",c)));this.rte.ui.update(true)}};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.pastetext=function(g,h){this.constructor.prototype.constructor.call(this,g,h);this.input=b("<textarea />").addClass("el-rte-paste-input");var a=this;this.command=function(){this.rte.browser.msie&&this.rte.selection.saveIERange();var f={submit:function(p,o){p.stopPropagation();p.preventDefault();a.paste();o.close()},dialog:{width:500,title:this.rte.i18n("Paste only text")}};var c=new elDialogForm(f);c.append(this.input).open()};this.paste=function(){var c=b.trim(this.input.val());if(c){this.rte.history.add();this.rte.browser.msie&&this.rte.selection.restoreIERange();this.rte.selection.insertText(c.replace(/\r?\n/g,"<br />"),true);this.rte.ui.update(true)}this.input.val("")};this.update=function(){this.domElem.removeClass("disabled")}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.save=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.active=true;this.command=function(){this.rte.save()};this.update=function(){}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.smiley=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.img=null;this.url=this.rte.filter.url+"smileys/";this.smileys={smile:"smile.png",happy:"happy.png",tongue:"tongue.png",surprised:"surprised.png",waii:"waii.png",wink:"wink.png",evilgrin:"evilgrin.png",grin:"grin.png",unhappy:"unhappy.png"};this.width=120;this.command=function(){var p=this,f=this.url,r,c,q;this.rte.browser.msie&&this.rte.selection.saveIERange();c={dialog:{height:120,width:this.width,title:this.rte.i18n("Smiley"),buttons:{}}};r=new elDialogForm(c);b.each(this.smileys,function(j,k){r.append(b('<img src="'+f+k+'" title="'+j+'" id="'+j+'" class="el-rte-smiley"/>').click(function(){p.set(this.id,r)}))});r.open()};this.update=function(){this.domElem.removeClass("disabled");this.domElem.removeClass("active")};this.set=function(f,c){this.rte.browser.msie&&this.rte.selection.restoreIERange();if(this.smileys[f]){this.img=b(this.rte.doc.createElement("img"));this.img.attr({src:this.url+this.smileys[f],title:f,alt:f});this.rte.selection.insertNode(this.img.get(0));this.rte.ui.update()}c.close()}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.stopfloat=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.find=function(){if(this.rte.selection.collapsed()){var c=this.rte.dom.selfOrParent(this.rte.selection.getEnd(),/^DIV$/);if(c&&(this.rte.dom.attr(c,"clear")||b(c).css("clear")!="none")){return c}}};this.command=function(){var c;if((c=this.find())){var c=b(c);this.rte.history.add();if(!c.children().length&&!b.trim(c.text()).length){c.remove()}else{c.removeAttr("clear").css("clear","")}}else{this.rte.history.add();this.rte.selection.insertNode(b(this.rte.dom.create("div")).css("clear","both").get(0),true)}this.rte.ui.update(true)};this.update=function(){this.domElem.removeClass("disabled");if(this.find()){this.domElem.addClass("active")}else{this.domElem.removeClass("active")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.table=function(j,k){this.constructor.prototype.constructor.call(this,j,k);var a=this;this.src=null;this.labels=null;function h(){a.labels={main:"Properies",adv:"Advanced",events:"Events",id:"ID","class":"Css class",style:"Css style",dir:"Script direction",summary:"Summary",lang:"Language",href:"URL"};a.src={main:{caption:b('<input type="text" />'),rows:b('<input type="text" />').attr("size",5).val(2),cols:b('<input type="text" />').attr("size",5).val(2),width:b('<input type="text" />').attr("size",5),wunit:b("<select />").append(b("<option />").val("%").text("%")).append(b("<option />").val("px").text("px")),height:b('<input type="text" />').attr("size",5),hunit:b("<select />").append(b("<option />").val("%").text("%")).append(b("<option />").val("px").text("px")),align:b("<select />").append(b("<option />").val("").text(a.rte.i18n("Not set"))).append(b("<option />").val("left").text(a.rte.i18n("Left"))).append(b("<option />").val("center").text(a.rte.i18n("Center"))).append(b("<option />").val("right").text(a.rte.i18n("Right"))),spacing:b('<input type="text" />').attr("size",5),padding:b('<input type="text" />').attr("size",5),border:b("<div />"),rules:b("<select />").append(b("<option />").val("none").text(a.rte.i18n("No"))).append(b("<option />").val("all").text(a.rte.i18n("Cells"))).append(b("<option />").val("groups").text(a.rte.i18n("Groups"))).append(b("<option />").val("rows").text(a.rte.i18n("Rows"))).append(b("<option />").val("cols").text(a.rte.i18n("Columns"))),margin:b("<div />"),bg:b("<div />"),bgimg:b('<input type="text" />').css("width","90%")},adv:{id:b('<input type="text" />'),summary:b('<input type="text" />'),"class":b('<input type="text" />'),style:b('<input type="text" />'),dir:b("<select />").append(b("<option />").text(a.rte.i18n("Not set")).val("")).append(b("<option />").text(a.rte.i18n("Left to right")).val("ltr")).append(b("<option />").text(a.rte.i18n("Right to left")).val("rtl")),lang:b('<input type="text" />')},events:{}};b.each(a.src,function(){for(var c in this){this[c].attr("name",c);var f=this[c].get(0).nodeName;if(f=="INPUT"&&c!="bgimg"){this[c].css(this[c].attr("size")?{"text-align":"right"}:{width:"100%"})}else{if(f=="SELECT"&&c!="wunit"&&c!="hunit"){this[c].css("width","100%")}}}});b.each(["onblur","onfocus","onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmouseleave","onkeydown","onkeypress","onkeyup"],function(){a.src.events[this]=b('<input type="text" />').css("width","100%")});a.src.main.align.change(function(){var c=b(this).val();if(c=="center"){a.src.main.margin.val({left:"auto",right:"auto"})}else{var f=a.src.main.margin.val();if(f.left=="auto"&&f.right=="auto"){a.src.main.margin.val({left:"",right:""})}}});a.src.main.bgimg.change(function(){var c=b(this);c.val(a.rte.utils.absoluteURL(c.val()))})}this.command=function(){var f=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TABLE$/);if(this.name=="table"){this.table=b(this.rte.doc.createElement("table"))}else{this.table=f?b(f):b(this.rte.doc.createElement("table"))}!this.src&&h();this.src.main.border.elBorderSelect({styleHeight:117});this.src.main.bg.elColorPicker({palettePosition:"outer","class":"el-colorpicker ui-icon ui-icon-pencil"});this.src.main.margin.elPaddingInput({type:"margin",value:this.table});if(this.table.parents().length){this.src.main.rows.val("").attr("disabled",true);this.src.main.cols.val("").attr("disabled",true)}else{this.src.main.rows.val(2).removeAttr("disabled");this.src.main.cols.val(2).removeAttr("disabled")}var c=this.table.css("width")||this.table.attr("width");this.src.main.width.val(parseInt(c)||"");this.src.main.wunit.val(c.indexOf("px")!=-1?"px":"%");var K=this.table.css("height")||this.table.attr("height");this.src.main.height.val(parseInt(K)||"");this.src.main.hunit.val(K&&K.indexOf("px")!=-1?"px":"%");var w=this.table.css("float");this.src.main.align.val("");if(w=="left"||w=="right"){this.src.main.align.val(w)}else{var N=this.table.css("margin-left");var F=this.table.css("margin-right");if(N=="auto"&&F=="auto"){this.src.main.align.val("center")}}this.src.main.border.val(this.table);this.src.main.rules.val(this.rte.dom.attr(this.table.get(0),"rules"));this.src.main.bg.val(this.table.css("background-color"));var J=(this.table.css("background-image")||"").replace(/url\(([^\)]+)\)/i,"$1");this.src.main.bgimg.val(J!="none"?J:"");var I={rtl:this.rte.rtl,submit:function(p,o){p.stopPropagation();p.preventDefault();a.set();o.close()},dialog:{width:530,title:this.rte.i18n("Table")}};var v=new elDialogForm(I);for(var g in this.src){v.tab(g,this.rte.i18n(this.labels[g]));if(g=="main"){var H=b("<table />").append(b("<tr />").append("<td>"+this.rte.i18n("Rows")+"</td>").append(b("<td />").append(this.src.main.rows))).append(b("<tr />").append("<td>"+this.rte.i18n("Columns")+"</td>").append(b("<td />").append(this.src.main.cols)));var L=b("<table />").append(b("<tr />").append("<td>"+this.rte.i18n("Width")+"</td>").append(b("<td />").append(this.src.main.width).append(this.src.main.wunit))).append(b("<tr />").append("<td>"+this.rte.i18n("Height")+"</td>").append(b("<td />").append(this.src.main.height).append(this.src.main.hunit)));var M=b("<table />").append(b("<tr />").append("<td>"+this.rte.i18n("Spacing")+"</td>").append(b("<td />").append(this.src.main.spacing.val(this.table.attr("cellspacing")||"")))).append(b("<tr />").append("<td>"+this.rte.i18n("Padding")+"</td>").append(b("<td />").append(this.src.main.padding.val(this.table.attr("cellpadding")||""))));v.append([this.rte.i18n("Caption"),this.src.main.caption.val(this.table.find("caption").eq(0).text()||"")],"main",true).separator("main").append([H,L,M],"main",true).separator("main").append([this.rte.i18n("Border"),this.src.main.border],"main",true).append([this.rte.i18n("Inner borders"),this.src.main.rules],"main",true).append([this.rte.i18n("Alignment"),this.src.main.align],"main",true).append([this.rte.i18n("Margins"),this.src.main.margin],"main",true).append([this.rte.i18n("Background"),b("<span />").append(b("<span />").css({"float":"left","margin-right":"3px"}).append(this.src.main.bg)).append(this.src.main.bgimg)],"main",true)}else{for(var G in this.src[g]){var O=this.rte.dom.attr(this.table,G);if(g=="events"){O=this.rte.utils.trimEventCallback(O)}v.append([this.rte.i18n(this.labels[G]?this.labels[G]:G),this.src[g][G].val(O)],g,true)}}}v.open()};this.set=function(){if(!this.table.parents().length){var K=parseInt(this.src.main.rows.val())||0;var r=parseInt(this.src.main.cols.val())||0;if(K<=0||r<=0){return}this.rte.history.add();var c=b(this.rte.doc.createElement("tbody")).appendTo(this.table);for(var Q=0;Q<K;Q++){var g="<tr>";for(var S=0;S<r;S++){g+="<td>&nbsp;</td>"}c.append(g+"</tr>")}}else{this.table.removeAttr("width").removeAttr("height").removeAttr("border").removeAttr("align").removeAttr("bordercolor").removeAttr("bgcolor").removeAttr("cellspacing").removeAttr("cellpadding").removeAttr("frame").removeAttr("rules").removeAttr("style")}var N=b.trim(this.src.main.caption.val());if(N){if(!this.table.children("caption").length){this.table.prepend("<caption />")}this.table.children("caption").text(N)}else{this.table.children("caption").remove()}for(var v in this.src){if(v!="main"){for(var J in this.src[v]){var P=b.trim(this.src[v][J].val());if(P){this.table.attr(J,P)}else{this.table.removeAttr(J)}}}}var w,T,O;if((w=parseInt(this.src.main.spacing.val()))&&w>=0){this.table.attr("cellspacing",w)}if((T=parseInt(this.src.main.padding.val()))&&T>=0){this.table.attr("cellpadding",T)}if((O=this.src.main.rules.val())){this.table.attr("rules",O)}var R=parseInt(this.src.main.width.val())||"",M=parseInt(this.src.main.height.val())||"",Q=b.trim(this.src.main.bgimg.val()),c=this.src.main.border.val(),f=this.src.main.margin.val(),L=this.src.main.align.val();this.table.css({width:R?R+this.src.main.wunit.val():"",height:M?M+this.src.main.hunit.val():"",border:b.trim(c.width+" "+c.style+" "+c.color),"background-color":this.src.main.bg.val(),"background-image":Q?"url("+Q+")":""});if(f.css){this.table.css("margin",f.css)}else{this.table.css({"margin-top":f.top,"margin-right":f.right,"margin-bottom":f.bottom,"margin-left":f.left})}if((L=="left"||L=="right")&&this.table.css("margin-left")!="auto"&&this.table.css("margin-right")!="auto"){this.table.css("float",L)}if(!this.table.attr("style")){this.table.removeAttr("style")}if(!this.table.parents().length){this.rte.selection.insertNode(this.table.get(0),true)}this.rte.ui.update()};this.update=function(){this.domElem.removeClass("disabled");if(this.name=="tableprops"&&!this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.addClass("disabled").removeClass("active")}}};elRTE.prototype.ui.prototype.buttons.tableprops=elRTE.prototype.ui.prototype.buttons.table})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tablerm=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){var c=this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/);if(c){this.rte.history.add();b(c).remove()}this.rte.ui.update(true)};this.update=function(){if(this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tbcellprops=function(j,k){this.constructor.prototype.constructor.call(this,j,k);var a=this;this.src=null;this.labels=null;function h(){a.labels={main:"Properies",adv:"Advanced",events:"Events",id:"ID","class":"Css class",style:"Css style",dir:"Script direction",lang:"Language"};a.src={main:{type:b("<select />").css("width","100%").append(b("<option />").val("td").text(a.rte.i18n("Data"))).append(b("<option />").val("th").text(a.rte.i18n("Header"))),width:b('<input type="text" />').attr("size",4),wunit:b("<select />").append(b("<option />").val("%").text("%")).append(b("<option />").val("px").text("px")),height:b('<input type="text" />').attr("size",4),hunit:b("<select />").append(b("<option />").val("%").text("%")).append(b("<option />").val("px").text("px")),align:b("<select />").css("width","100%").append(b("<option />").val("").text(a.rte.i18n("Not set"))).append(b("<option />").val("left").text(a.rte.i18n("Left"))).append(b("<option />").val("center").text(a.rte.i18n("Center"))).append(b("<option />").val("right").text(a.rte.i18n("Right"))).append(b("<option />").val("justify").text(a.rte.i18n("Justify"))),border:b("<div />"),padding:b("<div />"),bg:b("<div />"),bgimg:b('<input type="text" />').css("width","90%"),apply:b("<select />").css("width","100%").append(b("<option />").val("").text(a.rte.i18n("Current cell"))).append(b("<option />").val("row").text(a.rte.i18n("All cells in row"))).append(b("<option />").val("column").text(a.rte.i18n("All cells in column"))).append(b("<option />").val("table").text(a.rte.i18n("All cells in table")))},adv:{id:b('<input type="text" />'),"class":b('<input type="text" />'),style:b('<input type="text" />'),dir:b("<select />").css("width","100%").append(b("<option />").text(a.rte.i18n("Not set")).val("")).append(b("<option />").text(a.rte.i18n("Left to right")).val("ltr")).append(b("<option />").text(a.rte.i18n("Right to left")).val("rtl")),lang:b('<input type="text" />')},events:{}};b.each(a.src,function(){for(var c in this){this[c].attr("name",c);if(this[c].attr("type")=="text"&&!this[c].attr("size")&&c!="bgimg"){this[c].css("width","100%")}}});b.each(["onblur","onfocus","onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmouseleave","onkeydown","onkeypress","onkeyup"],function(){a.src.events[this]=b('<input type="text" />').css("width","100%")})}this.command=function(){!this.src&&h();this.cell=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);if(!this.cell){return}this.src.main.type.val(this.cell.nodeName.toLowerCase());this.cell=b(this.cell);this.src.main.border.elBorderSelect({styleHeight:117,value:this.cell});this.src.main.bg.elColorPicker({palettePosition:"outer","class":"el-colorpicker ui-icon ui-icon-pencil"});this.src.main.padding.elPaddingInput({value:this.cell});var g=this.cell.css("width")||this.cell.attr("width");this.src.main.width.val(parseInt(g)||"");this.src.main.wunit.val(g.indexOf("px")!=-1?"px":"%");var x=this.cell.css("height")||this.cell.attr("height");this.src.main.height.val(parseInt(x)||"");this.src.main.hunit.val(x.indexOf("px")!=-1?"px":"%");this.src.main.align.val(this.cell.attr("align")||this.cell.css("text-align"));this.src.main.bg.val(this.cell.css("background-color"));var v=this.cell.css("background-image");this.src.main.bgimg.val(v&&v!="none"?v.replace(/url\(([^\)]+)\)/i,"$1"):"");this.src.main.apply.val("");var w={rtl:this.rte.rtl,submit:function(p,o){p.stopPropagation();p.preventDefault();a.set();o.close()},dialog:{width:520,title:this.rte.i18n("Table cell properties")}};var f=new elDialogForm(w);for(var z in this.src){f.tab(z,this.rte.i18n(this.labels[z]));if(z=="main"){f.append([this.rte.i18n("Width"),b("<span />").append(this.src.main.width).append(this.src.main.wunit)],"main",true).append([this.rte.i18n("Height"),b("<span />").append(this.src.main.height).append(this.src.main.hunit)],"main",true).append([this.rte.i18n("Table cell type"),this.src.main.type],"main",true).append([this.rte.i18n("Border"),this.src.main.border],"main",true).append([this.rte.i18n("Alignment"),this.src.main.align],"main",true).append([this.rte.i18n("Paddings"),this.src.main.padding],"main",true).append([this.rte.i18n("Background"),b("<span />").append(b("<span />").css({"float":"left","margin-right":"3px"}).append(this.src.main.bg)).append(this.src.main.bgimg)],"main",true).append([this.rte.i18n("Apply to"),this.src.main.apply],"main",true)}else{for(var A in this.src[z]){var c=this.cell.attr(A)||"";if(z=="events"){c=this.rte.utils.trimEventCallback(c)}f.append([this.rte.i18n(this.labels[A]?this.labels[A]:A),this.src[z][A].val(c)],z,true)}}}f.open()};this.set=function(){var H=this.cell,t=this.src.main.apply.val();switch(this.src.main.apply.val()){case"row":H=this.cell.parent("tr").children("td,th");break;case"column":H=b(this.rte.dom.tableColumn(this.cell.get(0)));break;case"table":H=this.cell.parents("table").find("td,th");break}for(var v in this.src){if(v!="main"){for(var E in this.src[v]){var p=b.trim(this.src[v][E].val());if(p){H.attr(E,p)}else{H.removeAttr(E)}}}}H.removeAttr("width").removeAttr("height").removeAttr("border").removeAttr("align").removeAttr("bordercolor").removeAttr("bgcolor");var c=this.src.main.type.val();var w=parseInt(this.src.main.width.val())||"";var f=parseInt(this.src.main.height.val())||"";var g=b.trim(this.src.main.bgimg.val());var G=this.src.main.border.val();var I={width:w?w+this.src.main.wunit.val():"",height:f?f+this.src.main.hunit.val():"","background-color":this.src.main.bg.val(),"background-image":g?"url("+g+")":"",border:b.trim(G.width+" "+G.style+" "+G.color),"text-align":this.src.main.align.val()||""};var F=this.src.main.padding.val();if(F.css){I.padding=F.css}else{I["padding-top"]=F.top;I["padding-right"]=F.right;I["padding-bottom"]=F.bottom;I["padding-left"]=F.left}H=H.get();b.each(H,function(){var o=this.nodeName.toLowerCase();var x=b(this);if(o!=c){var u={};for(var q in a.src.adv){var A=x.attr(q);if(A){u[q]=A.toString()}}for(var q in a.src.events){var A=x.attr(q);if(A){u[q]=A.toString()}}var r=x.attr("colspan")||1;var z=x.attr("rowspan")||1;if(r>1){u.colspan=r}if(z>1){u.rowspan=z}x.replaceWith(b("<"+c+" />").html(x.html()).attr(u).css(I))}else{x.css(I)}});this.rte.ui.update()};this.update=function(){if(this.rte.dom.parent(this.rte.selection.getNode(),/^TABLE$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tbcellsmerge=function(h,j){this.constructor.prototype.constructor.call(this,h,j);var k=this;function a(){var c=k.rte.dom.selfOrParent(k.rte.selection.getStart(),/^(TD|TH)$/);var f=k.rte.dom.selfOrParent(k.rte.selection.getEnd(),/^(TD|TH)$/);if(c&&f&&c!=f&&b(c).parents("table").get(0)==b(f).parents("table").get(0)){return[c,f]}return null}this.command=function(){var I=a();if(I){var J=this.rte.dom.indexOf(b(I[0]).parent("tr").get(0));var c=this.rte.dom.indexOf(b(I[1]).parent("tr").get(0));var f=Math.min(J,c);var M=Math.max(J,c)-f+1;var G=this.rte.dom.tableColumn(I[0],true,true);var H=this.rte.dom.tableColumn(I[1],true);var C=b.inArray(I[0],G.column);var K=b.inArray(I[1],H.column);var g=G.info.offset[C]<H.info.offset[K]?G:H;var L=G.info.offset[C]>=H.info.offset[K]?G:H;var F=0;var N=null;var E="";this.rte.history.add();var D=b(b(I[0]).parents("table").eq(0).find("tr").get().slice(f,f+M)).each(function(o){var p=E.length;var q=false;b(this).children("td,th").each(function(){var t=b(this);var v=b.inArray(this,g.column);var w=b.inArray(this,L.column);if(v!=-1||w!=-1){q=v!=-1&&w==-1;var x=parseInt(t.attr("colspan")||1);if(o==0){F+=x}if(v!=-1&&o>0){var r=g.info.delta[v];if(r>0){if(t.css("text-align")=="left"){var z=t.clone(true);t.html("&nbsp;")}else{var z=t.clone().html("&nbsp;")}z.removeAttr("colspan").removeAttr("id").insertBefore(this);if(r>1){z.attr("colspan",r)}}}if(w!=-1){var r=L.info.delta[w];if(x-r>1){var u=x-r-1;if(t.css("text-align")=="right"){var z=t.clone(true);t.html("&nbsp;")}else{var z=t.clone().html("&nbsp;")}z.removeAttr("colspan").removeAttr("id").insertAfter(this);if(u>1){z.attr("colspan",u)}}}if(!N){N=t}else{E+=t.html();t.remove()}}else{if(q){if(o==0){F+=parseInt(t.attr("colspan")||1)}E+=t.html();t.remove()}}});E+=p!=E.length?"<br />":""});N.removeAttr("colspan").removeAttr("rowspan").html(N.html()+E);if(F>1){N.attr("colspan",F)}if(M>1){N.attr("rowspan",M)}this.rte.dom.fixTable(b(I[0]).parents("table").get(0))}};this.update=function(){if(a()){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tbcellsplit=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){var B=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);if(B){this.rte.history.add();var A=parseInt(this.rte.dom.attr(B,"colspan"));var z=parseInt(this.rte.dom.attr(B,"rowspan"));if(A>1||z>1){var I=A-1;var H=z-1;var c=this.rte.dom.parent(B,/^TABLE$/);var r=this.rte.dom.tableMatrix(c);if(I){for(var J=0;J<I;J++){b(this.rte.dom.create(B.nodeName)).html("&nbsp;").insertAfter(B)}}if(H){var F=this.rte.dom.indexesOfCell(B,r);var C=F[0];var D=F[1];for(var E=C+1;E<C+H+1;E++){var G;if(!r[E][D].nodeName){if(r[E][D-1].nodeName){G=r[E][D-1]}else{for(var J=D-1;J>=0;J--){if(r[E][J].nodeName){G=r[E][J];break}}}if(G){for(var J=0;J<=I;J++){b(this.rte.dom.create(G.nodeName)).html("&nbsp;").insertAfter(G)}}}}}b(B).removeAttr("colspan").removeAttr("rowspan");this.rte.dom.fixTable(c)}}this.rte.ui.update(true)};this.update=function(){var c=this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/);if(c&&(parseInt(this.rte.dom.attr(c,"colspan"))>1||parseInt(this.rte.dom.attr(c,"rowspan"))>1)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tbcolbefore=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var f=this;var c=this.rte.dom.tableColumn(this.rte.selection.getNode(),false,true);if(c.length){this.rte.history.add();b.each(c,function(){var p=b(this);var q=parseInt(p.attr("colspan")||1);if(q>1){p.attr("colspan",q+1)}else{var r=b(f.rte.dom.create(this.nodeName)).html("&nbsp;");if(f.name=="tbcolbefore"){r.insertBefore(this)}else{r.insertAfter(this)}}});this.rte.ui.update()}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}};elRTE.prototype.ui.prototype.buttons.tbcolafter=elRTE.prototype.ui.prototype.buttons.tbcolbefore})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.tbcolrm=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var t=this.rte.selection.getNode();var u=this.rte.dom.selfOrParent(t,/^(TD|TH)$/);var c=b(u).prev("td,th").get(0);var f=b(u).next("td,th").get(0);var r=this.rte.dom.parent(t,/^TABLE$/);var q=this.rte.dom.tableColumn(t,false,true);if(q.length){this.rte.history.add();b.each(q,function(){var j=b(this);var k=parseInt(j.attr("colspan")||1);if(k>1){j.attr("colspan",k-1)}else{j.remove()}});this.rte.dom.fixTable(r);if(c||f){this.rte.selection.selectContents(c?c:f).collapse(true)}this.rte.ui.update(true)}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^(TD|TH)$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);elRTE.prototype.ui.prototype.buttons.tbrowbefore=function(c,f){this.constructor.prototype.constructor.call(this,c,f);this.command=function(){var B=this.rte.selection.getNode();var I=this.rte.dom.selfOrParent(B,/^(TD|TH)$/);var D=this.rte.dom.selfOrParent(I,/^TR$/);var F=this.rte.dom.tableMatrix(this.rte.dom.selfOrParent(I,/^TABLE$/));if(I&&D&&F){this.rte.history.add();var H=this.name=="tbrowbefore";var a=$(D).prevAll("tr").length;var A=0;var b=[];function z(h,g){while(g>0){g--;if(F[g]&&F[g][h]&&F[g][h].nodeName){return F[g][h]}}}for(var r=0;r<F[a].length;r++){if(F[a][r]&&F[a][r].nodeName){var G=$(F[a][r]);var C=parseInt(G.attr("colspan")||1);if(parseInt(G.attr("rowspan")||1)>1){if(H){A+=C}else{b.push(G)}}else{A+=C}}else{if(F[a][r]=="-"){G=z(r,a);G&&b.push($(G))}}}var E=$(this.rte.dom.create("tr"));for(var r=0;r<A;r++){E.append("<td>&nbsp;</td>")}if(H){E.insertBefore(D)}else{E.insertAfter(D)}$.each(b,function(){$(this).attr("rowspan",parseInt($(this).attr("rowspan")||1)+1)});this.rte.ui.update()}};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TR$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}};elRTE.prototype.ui.prototype.buttons.tbrowafter=elRTE.prototype.ui.prototype.buttons.tbrowbefore;(function(b){elRTE.prototype.ui.prototype.buttons.tbrowrm=function(g,h){this.constructor.prototype.constructor.call(this,g,h);var a=this;this.command=function(){var G=this.rte.selection.getNode(),J=this.rte.dom.selfOrParent(G,/^(TD|TH)$/),H=this.rte.dom.selfOrParent(J,/^TR$/),c=this.rte.dom.selfOrParent(J,/^TABLE$/),D=this.rte.dom.tableMatrix(c);if(J&&H&&D.length){this.rte.history.add();if(D.length==1){b(c).remove();return this.rte.ui.update()}var M=[];var L=b(H).prevAll("tr").length;function r(j,k){while(k>0){k--;if(D[k]&&D[k][j]&&D[k][j].nodeName){return D[k][j]}}}function f(p,j){y=L+1;var k=null;if(D[y]){for(var o=0;o<j;o++){if(D[y][o]&&D[y][o].nodeName){k=D[y][o]}}p=p.remove();if(k){p.insertAfter(k)}else{p.prependTo(b(H).next("tr").eq(0))}}}function C(k){for(var j=0;j<k.length;j++){if(k[j]==J){return j<k.length-1?k[j+1]:k[j-1]}}}for(var N=0;N<D[L].length;N++){var I=null;var F=false;if(D[L][N]&&D[L][N].nodeName){I=D[L][N];F=true}else{if(D[L][N]=="-"&&(I=r(N,L))){F=false}}if(I){I=b(I);var E=parseInt(I.attr("rowspan")||1);if(E>1){I.attr("rowspan",E-1);F&&f(I,N,L)}}}var K=C(this.rte.dom.tableColumn(J));if(K){this.rte.selection.selectContents(K).collapse(true)}b(H).remove()}this.rte.ui.update()};this.update=function(){if(this.rte.dom.selfOrParent(this.rte.selection.getNode(),/^TR$/)){this.domElem.removeClass("disabled")}else{this.domElem.addClass("disabled")}}}})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.undo=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){if(this.name=="undo"&&this.rte.history.canBack()){this.rte.history.back();this.rte.ui.update()}else{if(this.name=="redo"&&this.rte.history.canFwd()){this.rte.history.fwd();this.rte.ui.update()}}};this.update=function(){this.domElem.toggleClass("disabled",this.name=="undo"?!this.rte.history.canBack():!this.rte.history.canFwd())}};elRTE.prototype.ui.prototype.buttons.redo=elRTE.prototype.ui.prototype.buttons.undo})(jQuery);(function(b){elRTE.prototype.ui.prototype.buttons.unlink=function(f,a){this.constructor.prototype.constructor.call(this,f,a);this.command=function(){var c=this.rte.selection.getNode(),r=this.rte.dom.selfOrParentLink(c);function o(g){return g.nodeName=="A"&&g.href}if(!r){var p=b.browser.msie?this.rte.selection.selected():this.rte.selection.selected({wrap:false});if(p.length){for(var q=0;q<p.length;q++){if(o(p[q])){r=p[q];break}}if(!r){r=this.rte.dom.parent(p[0],o)||this.rte.dom.parent(p[p.length-1],o)}}}if(r){this.rte.history.add();this.rte.selection.select(r);this.rte.doc.execCommand("unlink",false,null);this.rte.ui.update(true)}};this.update=function(){var c=this.rte.selection.getNode();if(this.rte.dom.selfOrParentLink(c)){this.domElem.removeClass("disabled").addClass("active")}else{if(this.rte.dom.selectionHas(function(h){return h.nodeName=="A"&&h.href})){this.domElem.removeClass("disabled").addClass("active")}else{this.domElem.addClass("disabled").removeClass("active")}}}}})(jQuery);
/*!
 * Fine Uploader
 *
 * Copyright 2013, Widen Enterprises, Inc. info@fineuploader.com
 *
 * Version: 3.9.0-3
 *
 * Homepage: http://fineuploader.com
 *
 * Repository: git://github.com/Widen/fine-uploader.git
 *
 * Licensed under GNU GPL v3, see LICENSE
 */
;var qq=function(b){return{hide:function(){return b.style.display="none",this},attach:function(a,f){return b.addEventListener?b.addEventListener(a,f,!1):b.attachEvent&&b.attachEvent("on"+a,f),function(){qq(b).detach(a,f)}},detach:function(a,f){return b.removeEventListener?b.removeEventListener(a,f,!1):b.attachEvent&&b.detachEvent("on"+a,f),this},contains:function(a){return a?b===a?!0:b.contains?b.contains(a):!!(8&a.compareDocumentPosition(b)):!1},insertBefore:function(a){return a.parentNode.insertBefore(b,a),this},remove:function(){return b.parentNode.removeChild(b),this},css:function(a){return null!=a.opacity&&"string"!=typeof b.style.opacity&&"undefined"!=typeof b.filters&&(a.filter="alpha(opacity="+Math.round(100*a.opacity)+")"),qq.extend(b.style,a),this},hasClass:function(a){var f=new RegExp("(^| )"+a+"( |$)");return f.test(b.className)},addClass:function(a){return qq(b).hasClass(a)||(b.className+=" "+a),this},removeClass:function(a){var f=new RegExp("(^| )"+a+"( |$)");return b.className=b.className.replace(f," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(a){var g,f=[];return b.querySelectorAll?b.querySelectorAll("."+a):(g=b.getElementsByTagName("*"),qq.each(g,function(h,j){qq(j).hasClass(a)&&f.push(j)}),f)},children:function(){for(var a=[],f=b.firstChild;f;){1===f.nodeType&&a.push(f),f=f.nextSibling}return a},setText:function(a){return b.innerText=a,b.textContent=a,this},clearText:function(){return qq(b).setText("")}}};qq.log=function(f,c){window.console&&(c&&"info"!==c?window.console[c]?window.console[c](f):window.console.log("<"+c+"> "+f):window.console.log(f))},qq.isObject=function(b){return b&&!b.nodeType&&"[object Object]"===Object.prototype.toString.call(b)},qq.isFunction=function(b){return"function"==typeof b},qq.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)},qq.isItemList=function(b){return"[object DataTransferItemList]"===Object.prototype.toString.call(b)},qq.isNodeList=function(b){return"[object NodeList]"===Object.prototype.toString.call(b)||b.item&&b.namedItem},qq.isString=function(b){return"[object String]"===Object.prototype.toString.call(b)},qq.trimStr=function(b){return String.prototype.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},qq.format=function(g){var f=Array.prototype.slice.call(arguments,1),h=g;return qq.each(f,function(j,c){h=h.replace(/{}/,c)}),h},qq.isFile=function(b){return window.File&&"[object File]"===Object.prototype.toString.call(b)},qq.isFileList=function(b){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(b)},qq.isFileOrInput=function(b){return qq.isFile(b)||qq.isInput(b)},qq.isInput=function(b){return window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(b)&&b.type&&"file"===b.type.toLowerCase()?!0:b.tagName&&"input"===b.tagName.toLowerCase()&&b.type&&"file"===b.type.toLowerCase()?!0:!1},qq.isBlob=function(b){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(b)},qq.isXhrUploadSupported=function(){var b=document.createElement("input");return b.type="file",void 0!==b.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest){return new XMLHttpRequest}try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(b){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(b){return b.items&&b.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return !qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.extend=function(g,f,h){return qq.each(f,function(a,c){h&&qq.isObject(c)?(void 0===g[a]&&(g[a]={}),qq.extend(g[a],c,!0)):g[a]=c}),g},qq.override=function(g,f){var j={},h=f(j);return qq.each(h,function(a,c){void 0!==g[a]&&(j[a]=g[a]),g[a]=c}),g},qq.indexOf=function(g,f,j){if(g.indexOf){return g.indexOf(f,j)}j=j||0;var h=g.length;for(0>j&&(j+=h);h>j;j+=1){if(g.hasOwnProperty(j)&&g[j]===f){return j}}return -1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var f=0|16*Math.random(),h="x"==g?f:8|3&f;return h.toString(16)})},qq.ie=function(){return -1!==navigator.userAgent.indexOf("MSIE")},qq.ie7=function(){return -1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie10=function(){return -1!==navigator.userAgent.indexOf("MSIE 10")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.firefox=function(){return -1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return -1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios=function(){return -1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.preventDefault=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1},qq.toElement=function(){var b=document.createElement("div");return function(a){b.innerHTML=a;var f=b.firstChild;return b.removeChild(f),f}}(),qq.each=function(g,f){var j,h;if(g){if(window.Storage&&g.constructor===window.Storage){for(j=0;j<g.length&&(h=f(g.key(j),g.getItem(g.key(j))),h!==!1);j++){}}else{if(qq.isArray(g)||qq.isItemList(g)||qq.isNodeList(g)){for(j=0;j<g.length&&(h=f(j,g[j]),h!==!1);j++){}}else{if(qq.isString(g)){for(j=0;j<g.length&&(h=f(j,g.charAt(j)),h!==!1);j++){}}else{for(j in g){if(Object.prototype.hasOwnProperty.call(g,j)&&(h=f(j,g[j]),h===!1)){break}}}}}}},qq.bind=function(g,f){if(qq.isFunction(g)){var h=Array.prototype.slice.call(arguments,2);return function(){var a=qq.extend([],h);return arguments.length&&(a=a.concat(Array.prototype.slice.call(arguments))),g.apply(f,a)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(h,g,p){var o=[],k="&",j=function(b,q){var f=g?/\[\]$/.test(g)?g:g+"["+q+"]":q;"undefined"!==f&&"undefined"!==q&&o.push("object"==typeof b?qq.obj2url(b,f,!0):"[object Function]"===Object.prototype.toString.call(b)?encodeURIComponent(f)+"="+encodeURIComponent(b()):encodeURIComponent(f)+"="+encodeURIComponent(b))};return !p&&g?(k=/\?/.test(g)?/\?$/.test(g)?"":"&":"?",o.push(g),o.push(qq.obj2url(h))):"[object Array]"===Object.prototype.toString.call(h)&&"undefined"!=typeof h?qq.each(h,function(f,c){j(c,f)}):"undefined"!=typeof h&&null!==h&&"object"==typeof h?qq.each(h,function(f,c){j(c,f)}):o.push(encodeURIComponent(g)+"="+encodeURIComponent(h)),g?o.join(k):o.join(k).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(g,f,h){return f||(f=new FormData),qq.each(g,function(b,c){b=h?h+"["+b+"]":b,qq.isObject(c)?qq.obj2FormData(c,f,b):qq.isFunction(c)?f.append(b,c()):f.append(b,c)}),f},qq.obj2Inputs=function(g,f){var h;return f||(f=document.createElement("form")),qq.obj2FormData(g,{append:function(b,c){h=document.createElement("input"),h.setAttribute("name",b),h.setAttribute("value",c),f.appendChild(h)}}),f},qq.setCookie=function(g,f,k){var j=new Date,h="";k&&(j.setTime(j.getTime()+1000*60*60*24*k),h="; expires="+j.toGMTString()),document.cookie=g+"="+f+h+"; path=/"},qq.getCookie=function(g){var f,j=g+"=",h=document.cookie.split(";");return qq.each(h,function(b,k){for(var c=k;" "==c.charAt(0);){c=c.substring(1,c.length)}return 0===c.indexOf(j)?(f=c.substring(j.length,c.length),!1):void 0}),f},qq.getCookieNames=function(g){var f=document.cookie.split(";"),h=[];return qq.each(f,function(a,j){j=qq.trimStr(j);var c=j.indexOf("=");j.match(g)&&h.push(j.substr(0,c))}),h},qq.deleteCookie=function(b){qq.setCookie(b,"",-1)},qq.areCookiesEnabled=function(){var f=100000*Math.random(),c="qqCookieTest:"+f;return qq.setCookie(c,1),qq.getCookie(c)?(qq.deleteCookie(c),!0):!1},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(f){var c=f.lastIndexOf(".")+1;return c>0?f.substr(c,f.length-c):void 0},qq.DisposeSupport=function(){var b=[];return{dispose:function(){var a;do{a=b.shift(),a&&a()}while(a)},attach:function(){var c=arguments;this.addDisposer(qq(c[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(a){b.push(a)}}},qq.version="3.9.0-3",qq.supportedFeatures=function(){function L(){var g,f=!0;try{g=document.createElement("input"),g.type="file",qq(g).hide(),g.disabled&&(f=!1)}catch(h){f=!1}return f}function K(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function J(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function I(){if(window.XMLHttpRequest){var b=qq.createXhrInstance();return void 0!==b.withCredentials}return !1}function H(){return void 0!==window.XDomainRequest}function G(){return I()?!0:H()}function F(){return void 0!==document.createElement("input").webkitdirectory}var E,D,C,B,A,z,x,w,v,u,t;return E=L(),D=E&&qq.isXhrUploadSupported(),C=D&&K(),B=D&&qq.isFileChunkingSupported(),A=D&&B&&qq.areCookiesEnabled(),z=D&&J(),x=E&&(void 0!==window.postMessage||D),v=I(),w=H(),u=G(),t=F(),{uploading:E,ajaxUploading:D,fileDrop:D,folderDrop:C,chunking:B,resume:A,uploadCustomHeaders:D,uploadNonMultipart:D,itemSizeValidation:D,uploadViaPaste:z,progressBar:D,uploadCors:x,deleteFileCorsXhr:v,deleteFileCorsXdr:w,deleteFileCors:u,canDetermineSize:D,folderSelection:t}}(),qq.Promise=function(){var h,g,p=[],o=[],k=[],j=0;return{then:function(b,a){return 0===j?(b&&p.push(b),a&&o.push(a)):-1===j&&a?a.apply(null,g):b&&b.apply(null,h),this},done:function(a){return 0===j?k.push(a):a.apply(null,void 0===g?h:g),this},success:function(){return j=1,h=arguments,p.length&&qq.each(p,function(a,f){f.apply(null,h)}),k.length&&qq.each(k,function(a,f){f.apply(null,h)}),this},failure:function(){return j=-1,g=arguments,o.length&&qq.each(o,function(b,f){f.apply(null,g)}),k.length&&qq.each(k,function(b,f){f.apply(null,g)}),this}}},qq.isPromise=function(b){return b&&b.then&&b.done},qq.UploadButton=function(h){function g(){var b=document.createElement("input");return b.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,o),j.multiple&&b.setAttribute("multiple",""),j.folders&&qq.supportedFeatures.folderSelection&&b.setAttribute("webkitdirectory",""),j.acceptFiles&&b.setAttribute("accept",j.acceptFiles),b.setAttribute("type","file"),b.setAttribute("name",j.name),qq(b).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),j.element.appendChild(b),k.attach(b,"change",function(){j.onChange(b)}),k.attach(b,"mouseover",function(){qq(j.element).addClass(j.hoverClass)}),k.attach(b,"mouseout",function(){qq(j.element).removeClass(j.hoverClass)}),k.attach(b,"focus",function(){qq(j.element).addClass(j.focusClass)}),k.attach(b,"blur",function(){qq(j.element).removeClass(j.focusClass)}),window.attachEvent&&b.setAttribute("tabIndex","-1"),b}var p,o,k=new qq.DisposeSupport,j={element:null,multiple:!1,acceptFiles:null,folders:!1,name:"qqfile",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};return qq.extend(j,h),o=qq.getUniqueId(),qq(j.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),p=g(),{getInput:function(){return p},getButtonId:function(){return o},setMultiple:function(b){b!==j.multiple&&(b?p.setAttribute("multiple",""):p.removeAttribute("multiple"))},setAcceptFiles:function(b){b!==j.acceptFiles&&p.setAttribute("accept",b)},reset:function(){p.parentNode&&qq(p).remove(),qq(j.element).removeClass(j.focusClass),p=g()}}},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(v){function u(f){if(qq.isArray(f)){var c=[];return qq.each(f,function(b,g){c.push(p[o[g]])}),c}return p[o[f]]}function t(f){if(qq.isArray(f)){var c=[];return qq.each(f,function(b,g){c.push(p[k[g]])}),c}return p[k[f]]}function r(g){var f=[],h=[].concat(g);return qq.each(h,function(b,x){var w=j[x];void 0!==w&&qq.each(w,function(z,A){f.push(p[A])})}),f}var q,p=[],o={},k={},j={};return q={added:function(a){var x=v.getUuid(a),w=v.getName(a),h=v.getSize(a),g=qq.status.SUBMITTING,f=p.push({id:a,name:w,originalName:w,uuid:x,size:h,status:g})-1;o[a]=f,k[x]=f,void 0===j[g]&&(j[g]=[]),j[g].push(f),v.onStatusChange(a,void 0,g)},retrieve:function(b){return qq.isObject(b)&&p.length?void 0!==b.id?u(b.id):void 0!==b.uuid?t(b.uuid):b.status?r(b.status):void 0:qq.extend([],p,!0)},reset:function(){p=[],o={},k={},j={}},setStatus:function(a,x){var w=o[a],g=p[w].status,f=qq.indexOf(j[g],w);j[g].splice(f,1),p[w].status=x,void 0===j[x]&&(j[x]=[]),j[x].push(w),v.onStatusChange(a,g,x)},uuidChanged:function(g,f){var w=o[g],h=p[w].uuid;p[w].uuid=f,k[f]=w,delete k[h]},nameChanged:function(g,f){var h=o[g];p[h].name=f}}},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},qq.basePublicApi={log:function(f,c){!this._options.debug||c&&"info"!==c?c&&"info"!==c&&qq.log("[FineUploader "+qq.version+"] "+f,c):qq.log("[FineUploader "+qq.version+"] "+f)},setParams:function(f,c){null==c?this._options.request.params=f:this._paramsStore.setParams(f,c)},setDeleteFileParams:function(f,c){null==c?this._options.deleteFile.params=f:this._deleteFileParamsStore.setParams(f,c)},setEndpoint:function(f,c){null==c?this._options.request.endpoint=f:this._endpointStore.setEndpoint(f,c)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){var b;if(0===this._storedIds.length){this._itemError("noFilesError")}else{for(;this._storedIds.length;){b=this._storedIds.shift(),this._filesInProgress.push(b),this._handler.upload(b)}}},clearStoredFiles:function(){this._storedIds=[]},retry:function(b){return this._manualRetry(b)},cancel:function(b){this._handler.cancel(b)},cancelAll:function(){var f=[],c=this;qq.extend(f,this._storedIds),qq.each(f,function(b,g){c.cancel(g)}),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],qq.each(this._buttons,function(f,c){c.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(k,j,u){var t,r,q,p=this,o=[];if(k){for(qq.isFileList(k)||(k=[].concat(k)),t=0;t<k.length;t+=1){if(r=k[t],qq.isFileOrInput(r)){if(qq.isInput(r)&&qq.supportedFeatures.ajaxUploading){for(q=0;q<r.files.length;q++){o.push(r.files[q])}}else{o.push(r)}}else{p.log(r+" is not a File or INPUT element!  Ignoring!","warn")}}this.log("Received "+o.length+" files or inputs."),this._prepareItemsForUpload(o,j,u)}},addBlobs:function(h,g,p){if(h){var o=[].concat(h),k=[],j=this;qq.each(o,function(f,c){qq.isBlob(c)&&!qq.isFileOrInput(c)?k.push({blob:c,name:j._options.blobs.defaultName}):qq.isObject(c)&&c.blob&&c.name?k.push(c):j.log("addBlobs: entry at index "+f+" is not a Blob or a BlobData object","error")}),this._prepareItemsForUpload(k,g,p)}else{this.log("undefined or non-array parameter passed into addBlobs","error")}},getUuid:function(b){return this._handler.getUuid(b)},setUuid:function(f,c){return this._handler.setUuid(f,c)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(b){return this._handler.getSize(b)},getName:function(b){return this._handler.getName(b)},setName:function(f,c){this._handler.setName(f,c),this._uploadData.nameChanged(f,c)},getFile:function(b){return this._handler.getFile(b)},deleteFile:function(b){this._onSubmitDelete(b)},setDeleteFileEndpoint:function(f,c){null==c?this._options.deleteFile.endpoint=f:this._deleteFileEndpointStore.setEndpoint(f,c)},doesExist:function(b){return this._handler.isValid(b)},getUploads:function(b){return this._uploadData.retrieve(b)},getButton:function(b){return this._getButton(this._buttonIdsForFileIds[b])}},qq.basePrivateApi={_generateExtraButtonSpecs:function(){var b=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(a,k){var j=k.multiple,h=qq.extend({},b._options.validation,!0),g=qq.extend({},k);void 0===j&&(j=b._options.multiple),g.validation&&qq.extend(h,k.validation,!0),qq.extend(g,{multiple:j,validation:h},!0),b._initExtraButton(g)})},_initExtraButton:function(f){var c=this._createUploadButton({element:f.element,multiple:f.multiple,accept:f.validation.acceptFiles,folders:f.folders});this._extraButtonSpecs[c.getButtonId()]=f},_getButtonId:function(g){var f,h;if(g&&!g.blob&&!qq.isBlob(g)){if(qq.isFile(g)){return g.qqButtonId}if("input"===g.tagName.toLowerCase()&&"file"===g.type.toLowerCase()){return g.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}if(f=g.getElementsByTagName("input"),qq.each(f,function(j,c){return"file"===c.getAttribute("type")?(h=c,!1):void 0}),h){return h.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}}},_annotateWithButtonId:function(f,c){qq.isFile(f)&&(f.qqButtonId=this._getButtonId(c))},_getButton:function(f){var c=this._extraButtonSpecs[f];return c?c.element:f===this._defaultButtonId?this._options.button:void 0},_handleCheckedCallback:function(g){var f=this,h=g.callback();return qq.isPromise(h)?(this.log(g.name+" - waiting for "+g.name+" promise to be fulfilled for "+g.identifier),h.then(function(a){f.log(g.name+" promise success for "+g.identifier),g.onSuccess(a)},function(){g.onFailure?(f.log(g.name+" promise failure for "+g.identifier),g.onFailure()):f.log(g.name+" promise failure for "+g.identifier)})):(h!==!1?g.onSuccess(h):g.onFailure?(this.log(g.name+" - return value was 'false' for "+g.identifier+".  Invoking failure callback."),g.onFailure()):this.log(g.name+" - return value was 'false' for "+g.identifier+".  Will not proceed."),h)},_createUploadButton:function(g){var f=this,k=void 0===g.multiple?this._options.multiple:g.multiple,j=g.accept||this._options.validation.acceptFiles,h=new qq.UploadButton({element:g.element,folders:g.folders,name:this._options.request.inputName,multiple:k&&qq.supportedFeatures.ajaxUploading,acceptFiles:j,onChange:function(b){f._onInputChange(b)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer(function(){h.dispose()}),f._buttons.push(h),h},_createUploadHandler:function(g,f){var j=this,h={debug:this._options.debug,maxConnections:this._options.maxConnections,inputName:this._options.request.inputName,cors:this._options.cors,demoMode:this._options.demoMode,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(k,c){j.log(k,c)},onProgress:function(k,c,p,o){j._onProgress(k,c,p,o),j._options.callbacks.onProgress(k,c,p,o)},onComplete:function(k,c,q,p){var o=j._onComplete(k,c,q,p);qq.isPromise(o)?o.done(function(){j._options.callbacks.onComplete(k,c,q,p)}):j._options.callbacks.onComplete(k,c,q,p)},onCancel:function(k,c){return j._handleCheckedCallback({name:"onCancel",callback:qq.bind(j._options.callbacks.onCancel,j,k,c),onSuccess:qq.bind(j._onCancel,j,k,c),identifier:k})},onUpload:function(k,c){j._onUpload(k,c),j._options.callbacks.onUpload(k,c)},onUploadChunk:function(k,c,o){j._options.callbacks.onUploadChunk(k,c,o)},onResume:function(k,c,o){return j._options.callbacks.onResume(k,c,o)},onAutoRetry:function(){return j._onAutoRetry.apply(j,arguments)},onUuidChanged:function(k,c){j._uploadData.uuidChanged(k,c)}};return qq.each(this._options.request,function(k,c){h[k]=c}),g&&qq.each(g,function(k,c){h[k]=c}),new qq.UploadHandler(h,f)},_createDeleteHandler:function(){var b=this;return new qq.DeleteFileAjaxRequestor({method:this._options.deleteFile.method,maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(a,f){b.log(a,f)},onDelete:function(a){b._onDelete(a),b._options.callbacks.onDelete(a)},onDeleteComplete:function(a,g,f){b._onDeleteComplete(a,g,f),b._options.callbacks.onDeleteComplete(a,g,f)}})},_createPasteHandler:function(){var b=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(a,f){b.log(a,f)},pasteReceived:function(a){b._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(b._options.callbacks.onPasteReceived,b,a),onSuccess:qq.bind(b._handlePasteSuccess,b,a),identifier:"pasted image"})}}})},_createUploadDataTracker:function(){var b=this;return new qq.UploadData({getName:function(a){return b.getName(a)},getUuid:function(a){return b.getUuid(a)},getSize:function(a){return b.getSize(a)},onStatusChange:function(a,g,f){b._onUploadStatusChange(a,g,f),b._options.callbacks.onStatusChange(a,g,f)}})},_onUploadStatusChange:function(){},_handlePasteSuccess:function(g,f){var j=g.type.split("/")[1],h=f;null==h&&(h=this._options.paste.defaultName),h+="."+j,this.addBlobs({name:h,blob:g})},_preventLeaveInProgress:function(){var b=this;this._disposeSupport.attach(window,"beforeunload",function(a){if(b._filesInProgress.length){var a=a||window.event;return a.returnValue=b._options.messages.onLeave,b._options.messages.onLeave}})},_onSubmit:function(b){this._netUploadedOrQueued++,this._options.autoUpload&&this._filesInProgress.push(b)},_onProgress:function(){},_onComplete:function(g,f,j,h){return j.success?(this._netUploaded++,this._uploadData.setStatus(g,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(g,qq.status.UPLOAD_FAILED)),this._removeFromFilesInProgress(g),this._maybeParseAndSendUploadError(g,f,j,h),j.success?!0:!1},_onCancel:function(f){this._netUploadedOrQueued--,this._removeFromFilesInProgress(f),clearTimeout(this._retryTimeouts[f]);var c=qq.indexOf(this._storedIds,f);!this._options.autoUpload&&c>=0&&this._storedIds.splice(c,1),this._uploadData.setStatus(f,qq.status.CANCELED)},_isDeletePossible:function(){return this._options.deleteFile.enabled?this._options.cors.expected?qq.supportedFeatures.deleteFileCorsXhr?!0:qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr?!0:!1:!0:!1},_onSubmitDelete:function(g,f,k){var j,h=this.getUuid(g);return f&&(j=qq.bind(f,this,g,h,k)),this._isDeletePossible()?this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,g),onSuccess:j||qq.bind(this._deleteHandler.sendDelete,this,g,h,k),identifier:g}):(this.log("Delete request ignored for ID "+g+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onDelete:function(b){this._uploadData.setStatus(b,qq.status.DELETING)},_onDeleteComplete:function(g,f,j){var h=this._handler.getName(g);j?(this._uploadData.setStatus(g,qq.status.DELETE_FAILED),this.log("Delete request for '"+h+"' has failed.","error"),void 0===f.withCredentials?this._options.callbacks.onError(g,h,"Delete request failed",f):this._options.callbacks.onError(g,h,"Delete request failed with response code "+f.status,f)):(this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(g),this._uploadData.setStatus(g,qq.status.DELETED),this.log("Delete request for '"+h+"' has succeeded."))},_removeFromFilesInProgress:function(f){var c=qq.indexOf(this._filesInProgress,f);c>=0&&this._filesInProgress.splice(c,1)},_onUpload:function(b){this._uploadData.setStatus(b,qq.status.UPLOADING)},_onInputChange:function(f){var c;if(qq.supportedFeatures.ajaxUploading){for(c=0;c<f.files.length;c++){this._annotateWithButtonId(f.files[c],f)}this.addFiles(f.files)}else{this.addFiles(f)}qq.each(this._buttons,function(h,g){g.reset()})},_onBeforeAutoRetry:function(f,c){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+c+"...")},_onAutoRetry:function(h,g,p,o,k){var j=this;return j._preventRetries[h]=p[j._options.retry.preventRetryResponseProperty],j._shouldAutoRetry(h,g,p)?(j._maybeParseAndSendUploadError.apply(j,arguments),j._options.callbacks.onAutoRetry(h,g,j._autoRetries[h]+1),j._onBeforeAutoRetry(h,g),j._retryTimeouts[h]=setTimeout(function(){j.log("Retrying "+g+"..."),j._autoRetries[h]++,j._uploadData.setStatus(h,qq.status.UPLOAD_RETRYING),k?k(h):j._handler.retry(h)},1000*j._options.retry.autoAttemptDelay),!0):void 0},_shouldAutoRetry:function(b){return !this._preventRetries[b]&&this._options.retry.enableAuto?(void 0===this._autoRetries[b]&&(this._autoRetries[b]=0),this._autoRetries[b]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(g){var f=this._options.validation.itemLimit;if(this._preventRetries[g]){return this.log("Retries are forbidden for id "+g,"warn"),!1}if(this._handler.isValid(g)){var h=this._handler.getName(g);return this._options.callbacks.onManualRetry(g,h)===!1?!1:f>0&&this._netUploadedOrQueued+1>f?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+h+"' (id: "+g+")..."),this._filesInProgress.push(g),!0)}return this.log("'"+g+"' is not a valid file ID","error"),!1},_manualRetry:function(f,c){return this._onBeforeManualRetry(f)?(this._netUploadedOrQueued++,this._uploadData.setStatus(f,qq.status.UPLOAD_RETRYING),c?c(f):this._handler.retry(f),!0):void 0},_maybeParseAndSendUploadError:function(g,f,k,j){if(!k.success){if(j&&200!==j.status&&!k.error){this._options.callbacks.onError(g,f,"XHR returned response code "+j.status,j)}else{var h=k.error?k.error:this._options.text.defaultResponseError;this._options.callbacks.onError(g,f,h,j)}}},_prepareItemsForUpload:function(h,g,p){var o=this._getValidationDescriptors(h),k=this._getButtonId(h[0]),j=this._getButton(k);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,o,j),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,o,h,g,p,j),identifier:"batch validation"})},_upload:function(g,f,k){var j=this._handler.add(g),h=this._handler.getName(j);this._uploadData.added(j),f&&this.setParams(f,j),k&&this.setEndpoint(k,j),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,j,h),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,j,h),onFailure:qq.bind(this._fileOrBlobRejected,this,j,h),identifier:j})},_onSubmitCallbackSuccess:function(f){var c;this._uploadData.setStatus(f,qq.status.SUBMITTED),c=qq.supportedFeatures.ajaxUploading?this._handler.getFile(f).qqButtonId:this._getButtonId(this._handler.getInput(f)),c&&(this._buttonIdsForFileIds[f]=c),this._onSubmit.apply(this,arguments),this._onSubmitted.apply(this,arguments),this._options.callbacks.onSubmitted.apply(this,arguments),this._options.autoUpload?this._handler.upload(f)||this._uploadData.setStatus(f,qq.status.QUEUED):this._storeForLater(f)},_onSubmitted:function(){},_storeForLater:function(b){this._storedIds.push(b)},_onValidateBatchCallbackSuccess:function(k,j,u,t,r){var q,p=this._options.validation.itemLimit,o=this._netUploadedOrQueued+k.length;0===p||p>=o?j.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,k[0],r),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,j,0,u,t),onFailure:qq.bind(this._onValidateCallbackFailure,this,j,0,u,t),identifier:"Item '"+j[0].name+"', size: "+j[0].size}):this._itemError("noFilesError"):(q=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,o).replace(/\{itemLimit\}/g,p),this._batchError(q))},_onValidateCallbackSuccess:function(j,h,r,q){var p=h+1,o=this._getValidationDescriptor(j[h]),k=!1;this._validateFileOrBlobData(j[h],o)&&(k=!0,this._upload(j[h],r,q)),this._maybeProcessNextItemAfterOnValidateCallback(k,j,p,r,q)},_onValidateCallbackFailure:function(g,f,k,j){var h=f+1;this._fileOrBlobRejected(void 0,g[0].name),this._maybeProcessNextItemAfterOnValidateCallback(!1,g,h,k,j)},_maybeProcessNextItemAfterOnValidateCallback:function(h,g,p,o,k){var j=this;g.length>p&&(h||!this._options.validation.stopOnFirstInvalidFile)&&setTimeout(function(){var b=j._getValidationDescriptor(g[p]);j._handleCheckedCallback({name:"onValidate",callback:qq.bind(j._options.callbacks.onValidate,j,g[p]),onSuccess:qq.bind(j._onValidateCallbackSuccess,j,g,p,o,k),onFailure:qq.bind(j._onValidateCallbackFailure,j,g,p,o,k),identifier:"Item '"+b.name+"', size: "+b.size})},0)},_validateFileOrBlobData:function(k,j){var u=j.name,t=j.size,r=this._getButtonId(k),q=this._extraButtonSpecs[r],p=q?q.validation:this._options.validation,o=!0;return qq.isFileOrInput(k)&&!this._isAllowedExtension(p.allowedExtensions,u)?(this._itemError("typeError",u,k),o=!1):0===t?(this._itemError("emptyError",u,k),o=!1):t&&p.sizeLimit&&t>p.sizeLimit?(this._itemError("sizeError",u,k),o=!1):t&&t<p.minSizeLimit&&(this._itemError("minSizeError",u,k),o=!1),o||this._fileOrBlobRejected(void 0,u),o},_fileOrBlobRejected:function(b){void 0!==b&&this._uploadData.setStatus(b,qq.status.REJECTED)},_itemError:function(C,B,A){function z(f,c){v=v.replace(f,c)}var x,w,v=this._options.messages[C],u=[],t=[].concat(B),r=t[0],q=this._getButtonId(A),p=this._extraButtonSpecs[q],o=p?p.validation:this._options.validation;return qq.each(o.allowedExtensions,function(f,c){qq.isString(c)&&u.push(c)}),x=u.join(", ").toLowerCase(),z("{file}",this._options.formatFileName(r)),z("{extensions}",x),z("{sizeLimit}",this._formatSize(o.sizeLimit)),z("{minSizeLimit}",this._formatSize(o.minSizeLimit)),w=v.match(/(\{\w+\})/g),null!==w&&qq.each(w,function(f,c){z(c,t[f])}),this._options.callbacks.onError(null,r,v,void 0),v},_batchError:function(b){this._options.callbacks.onError(null,null,b,void 0)},_isAllowedExtension:function(g,f){var h=!1;return g.length?(qq.each(g,function(b,j){if(qq.isString(j)){var c=new RegExp("\\."+j+"$","i");if(null!=f.match(c)){return h=!0,!1}}}),h):!0},_formatSize:function(f){var c=-1;do{f/=1000,c++}while(f>999);return Math.max(f,0.1).toFixed(1)+this._options.text.sizeSymbols[c]},_wrapCallbacks:function(){var g,f;g=this,f=function(a,o,k){try{return o.apply(g,k)}catch(j){g.log("Caught exception in '"+a+"' callback - "+j.message,"error")}};for(var h in this._options.callbacks){!function(){var b,a;b=h,a=g._options.callbacks[b],g._options.callbacks[b]=function(){return f(b,a,arguments)}}()}},_parseFileOrBlobDataName:function(f){var c;return c=qq.isFileOrInput(f)?f.value?f.value.replace(/.*(\/|\\)/,""):null!==f.fileName&&void 0!==f.fileName?f.fileName:f.name:f.name},_parseFileOrBlobDataSize:function(f){var c;return qq.isFileOrInput(f)?f.value||(c=null!==f.fileSize&&void 0!==f.fileSize?f.fileSize:f.size):c=f.blob.size,c},_getValidationDescriptor:function(g){var f={},j=this._parseFileOrBlobDataName(g),h=this._parseFileOrBlobDataSize(g);return f.name=j,void 0!==h&&(f.size=h),f},_getValidationDescriptors:function(g){var f=this,h=[];return qq.each(g,function(b,c){h.push(f._getValidationDescriptor(c))}),h},_createParamsStore:function(g){var f={},h=this;return{setParams:function(b,k){var j={};qq.extend(j,b),f[k]=j},getParams:function(b){var a={};return null!=b&&f[b]?qq.extend(a,f[b]):qq.extend(a,h._options[g].params),a},remove:function(b){return delete f[b]},reset:function(){f={}}}},_createEndpointStore:function(g){var f={},h=this;return{setEndpoint:function(b,j){f[j]=b},getEndpoint:function(a){return null!=a&&f[a]?f[a]:h._options[g].endpoint},remove:function(b){return delete f[b]},reset:function(){f={}}}},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var g="image/*;capture=camera",f=this._options.camera.button,j=f?this._getButtonId(f):this._defaultButtonId,h=j?this._extraButtonSpecs[j]:this._options;h.multiple=!1,null===h.validation.acceptFiles?h.validation.acceptFiles=g:h.validation.acceptFiles+=","+g,qq.each(this._buttons,function(k,c){return c.getButtonId()===j?(c.setMultiple(h.multiple),c.setAcceptFiles(h.acceptFiles),!1):void 0})}}},qq.FineUploaderBasic=function(b){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize",filenameParam:"qqfilename"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){},onStatusChange:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(c){return void 0!==c&&c.length>33&&(c=c.slice(0,19)+"..."+c.slice(-14)),c},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[]},qq.extend(this._options,b,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler()),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi),qq.uiPublicApi={clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(b){this._dnd.setupExtraDropzone(b)},removeExtraDropzone:function(b){return this._dnd.removeDropzone(b)},getItemByFileId:function(f){for(var c=this._listElement.firstChild;c;){if(c.qqFileId==f){return c}c=c.nextSibling}},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._defaultButtonId=this._createUploadButton({element:this._find(this._element,"button")}).getButtonId()),this._dnd.dispose(),this._dnd=this._setupDragAndDrop(),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()}},qq.uiPrivateApi={_getButton:function(f){var c=this._parent.prototype._getButton.apply(this,arguments);return c||f===this._defaultButtonId&&(c=this._find(this._element,"button")),c},_removeFileItem:function(f){var c=this.getItemByFileId(f);qq(c).remove()},_setupClickAndEditEventHandlers:function(){this._deleteRetryOrCancelClickHandler=this._bindDeleteRetryOrCancelClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var g,f=this,j=this._find(this._element,"dropProcessing"),h=this._options.dragAndDrop.extraDropzones;return g=function(b){b.preventDefault()},this._options.dragAndDrop.disableDefaultDropzone||h.push(this._find(this._options.element,"drop")),new qq.DragAndDrop({dropZoneElements:h,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){qq(j).css({display:"block"})},processingDroppedFilesComplete:function(b){qq(j).hide(),b&&f.addFiles(b)},dropError:function(b,k){f._itemError(b,k)},dropLog:function(b,k){f.log(b,k)}}})},_bindDeleteRetryOrCancelClickEvent:function(){var b=this;return new qq.DeleteRetryOrCancelClickHandler({listElement:this._listElement,classes:this._classes,log:function(a,f){b.log(a,f)},onDeleteFile:function(a){b.deleteFile(a)},onCancel:function(a){b.cancel(a)},onRetry:function(a){var f=b.getItemByFileId(a);qq(f).removeClass(b._classes.retryable),b.retry(a)},onGetName:function(a){return b.getName(a)}})},_isEditFilenameEnabled:function(){return this._options.editFilename.enabled&&!this._options.autoUpload},_filenameEditHandler:function(){var b=this;return{listElement:this._listElement,classes:this._classes,log:function(a,f){b.log(a,f)},onGetUploadStatus:function(a){return b.getUploads({id:a}).status},onGetName:function(a){return b.getName(a)},onSetName:function(a,k){var j=b.getItemByFileId(a),h=qq(b._find(j,"file")),g=b._options.formatFileName(k);h.setText(g),b.setName(a,k)},onGetInput:function(a){return b._find(a,"editFilenameInput")},onEditingStatusChange:function(a,r){var q=b.getItemByFileId(a),p=qq(b._find(q,"editFilenameInput")),o=qq(b._find(q,"file")),k=qq(b._find(q,"editNameIcon")),j=b._classes.editable;r?(p.addClass("qq-editing"),o.hide(),k.removeClass(j)):(p.removeClass("qq-editing"),o.css({display:""}),k.addClass(j)),qq(q).addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(j,h,r){if(this._isEditFilenameEnabled()){var q,p,o=this.getItemByFileId(j),k=this._classes.editable;o&&r!==qq.status.SUBMITTED&&(q=qq(this._find(o,"file")),p=qq(this._find(o,"editNameIcon")),q.removeClass(k),p.removeClass(k))}},_bindFilenameInputFocusInEvent:function(){var b=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(b)},_bindFilenameInputFocusEvent:function(){var b=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(b)},_bindFilenameClickEvent:function(){var b=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(b)},_leaving_document_out:function(b){return(qq.chrome()||qq.safari()&&qq.windows())&&0==b.clientX&&0==b.clientY||qq.firefox()&&!b.relatedTarget},_storeForLater:function(f){this._parent.prototype._storeForLater.apply(this,arguments);var c=this.getItemByFileId(f);qq(this._find(c,"spinner")).hide()},_find:function(g,f){var h=qq(g).getByClass(this._options.classes[f])[0];if(!h){throw new Error("element not found "+f)}return h},_onSubmit:function(f,c){this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(f,c)},_onSubmitted:function(g){if(this._isEditFilenameEnabled()){var f=this.getItemByFileId(g),k=qq(this._find(f,"file")),j=qq(this._find(f,"editNameIcon")),h=this._classes.editable;k.addClass(h),j.addClass(h),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._find(f,"editFilenameInput"))}},_onProgress:function(k,j,u,t){this._parent.prototype._onProgress.apply(this,arguments);var r,q,p,o;r=this.getItemByFileId(k),q=this._find(r,"progressBar"),p=Math.round(100*(u/t)),u===t?(o=this._find(r,"cancel"),qq(o).hide(),qq(q).hide(),qq(this._find(r,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(k)):(this._displayFileSize(k,u,t),qq(q).css({display:"block"})),qq(q).css({width:p+"%"})},_onComplete:function(h,g,p){function o(a){var f=j.getItemByFileId(h);qq(j._find(f,"statusText")).clearText(),qq(f).removeClass(j._classes.retrying),qq(j._find(f,"progressBar")).hide(),(!j._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&qq(j._find(f,"cancel")).hide(),qq(j._find(f,"spinner")).hide(),a.success?(j._isDeletePossible()&&j._showDeleteLink(h),qq(f).addClass(j._classes.success),j._classes.successIcon&&(j._find(f,"finished").style.display="inline-block",qq(f).addClass(j._classes.successIcon))):(qq(f).addClass(j._classes.fail),j._classes.failIcon&&(j._find(f,"finished").style.display="inline-block",qq(f).addClass(j._classes.failIcon)),j._options.retry.showButton&&!j._preventRetries[h]&&qq(f).addClass(j._classes.retryable),j._controlFailureTextDisplay(f,a))}var k=this._parent.prototype._onComplete.apply(this,arguments),j=this;return qq.isPromise(k)?k.done(function(b){o(b)}):o(p),k},_onUpload:function(f){var c=this._parent.prototype._onUpload.apply(this,arguments);return this._showSpinner(f),c},_onCancel:function(b){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(b)},_onBeforeAutoRetry:function(j){var h,r,q,p,o,k;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),h=this.getItemByFileId(j),r=this._find(h,"progressBar"),this._showCancelLink(h),r.style.width=0,qq(r).hide(),this._options.retry.showAutoRetryNote&&(q=this._find(h,"statusText"),p=this._autoRetries[j]+1,o=this._options.retry.maxAutoAttempts,k=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,p),k=k.replace(/\{maxAuto\}/g,o),qq(q).setText(k),1===p&&qq(h).addClass(this._classes.retrying))},_onBeforeManualRetry:function(f){var c=this.getItemByFileId(f);return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._find(c,"progressBar").style.width=0,qq(c).removeClass(this._classes.fail),qq(this._find(c,"statusText")).clearText(),this._showSpinner(f),this._showCancelLink(c),!0):(qq(c).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(f){var c=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,f,c)},_onSubmitDeleteSuccess:function(){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(h,g,p){this._parent.prototype._onDeleteComplete.apply(this,arguments);var o=this.getItemByFileId(h),k=this._find(o,"spinner"),j=this._find(o,"statusText");qq(k).hide(),p?(qq(j).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(h)):this._removeFileItem(h)},_sendDeleteRequest:function(g){var f=this.getItemByFileId(g),j=this._find(f,"deleteButton"),h=this._find(f,"statusText");qq(j).hide(),this._showSpinner(g),qq(h).setText(this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(h){var g,p=this._handler.getName(h),o=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,p),k=(this.getUuid(h),arguments),j=this;g=this._options.showConfirm(o),qq.isPromise(g)?g.then(function(){j._sendDeleteRequest.apply(j,k)}):g!==!1&&j._sendDeleteRequest.apply(j,k)},_addToList:function(g,f){var k=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var j=this._find(k,"cancel");qq(j).remove()}k.qqFileId=g;var h=this._find(k,"file");qq(h).setText(this._options.formatFileName(f)),qq(this._find(k,"size")).hide(),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._options.display.prependFiles?this._prependItem(k):this._listElement.appendChild(k),this._filesInBatchAddedToUi+=1,this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(g)},_prependItem:function(g){var f=this._listElement,h=f.firstChild;this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(h=qq(f).children()[this._filesInBatchAddedToUi-1].nextSibling),f.insertBefore(g,h)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_displayFileSize:function(j,h,r){var q=this.getItemByFileId(j),p=this.getSize(j),o=this._formatSize(p),k=this._find(q,"size");void 0!==h&&void 0!==r&&(o=this._formatProgress(h,r)),qq(k).css({display:"inline"}),qq(k).setText(o)},_formatProgress:function(g,f){function j(k,c){h=h.replace(k,c)}var h=this._options.text.formatProgress;return j("{percent}",Math.round(100*(g/f))),j("{total_size}",this._formatSize(f)),h},_controlFailureTextDisplay:function(j,h){var r,q,p,o,k;r=this._options.failedUploadTextDisplay.mode,q=this._options.failedUploadTextDisplay.maxChars,p=this._options.failedUploadTextDisplay.responseProperty,"custom"===r?(o=h[p],o?o.length>q&&(k=o.substring(0,q)+"..."):(o=this._options.text.failUpload,this.log("'"+p+"' is not a valid property on the server response.","warn")),qq(this._find(j,"statusText")).setText(k||o),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(j,o)):"default"===r?qq(this._find(j,"statusText")).setText(this._options.text.failUpload):"none"!==r&&this.log("failedUploadTextDisplay.mode value of '"+r+"' is not valid","warn")},_showTooltip:function(f,c){f.title=c},_showSpinner:function(g){var f=this.getItemByFileId(g),h=this._find(f,"spinner");h.style.display="inline-block"},_showCancelLink:function(f){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading){var c=this._find(f,"cancel");qq(c).css({display:"inline"})}},_showDeleteLink:function(g){var f=this.getItemByFileId(g),h=this._find(f,"deleteButton");qq(h).css({display:"inline"})},_itemError:function(){var b=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(b)},_batchError:function(b){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(b)},_setupPastePrompt:function(){var b=this;this._options.callbacks.onPasteReceived=function(){var a=b._options.paste.namePromptMessage,f=b._options.paste.defaultName;return b._options.showPrompt(a,f)}},_fileOrBlobRejected:function(){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(b){this._totalFilesInBatch=b.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)}},qq.FineUploader=function(f,c){this._parent=c?qq[c].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span>'+(this._options.editFilename&&this._options.editFilename.enabled?'<span class="qq-edit-filename-icon"></span>':"")+'<span class="qq-upload-file"></span>'+(this._options.editFilename&&this._options.editFilename.enabled?'<input class="qq-edit-filename" tabindex="0" type="text">':"")+'<span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",editFilenameInput:"qq-edit-filename",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,editNameIcon:"qq-edit-filename-icon",editable:"qq-editable",dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},editFilename:{enabled:!1},showMessage:function(b){setTimeout(function(){window.alert(b)},0)},showConfirm:function(b){return window.confirm(b)},showPrompt:function(h,g){return window.prompt(h,g)}},!0),qq.extend(this._options,f,!0),!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._options.button||(this._defaultButtonId=this._createUploadButton({element:this._find(this._element,"button")}).getButtonId()),this._setupClickAndEditEventHandlers(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt(),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.AjaxRequestor=function(U){function T(){return x.method.toUpperCase()}function S(){return qq.indexOf(["GET","POST","HEAD"],T())>=0}function R(){var b=!1;return qq.each(b,function(a,f){return qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],f)<0?(b=!0,!1):void 0}),b}function Q(b){return x.cors.expected&&void 0===b.withCredentials}function P(){var b;return(window.XMLHttpRequest||window.ActiveXObject)&&(b=qq.createXhrInstance(),void 0===b.withCredentials&&(b=new XDomainRequest)),b}function O(g,f){var h=z[g].xhr;return h||f||(h=x.cors.expected?P():qq.createXhrInstance(),z[g].xhr=h),h}function N(g){var f,j=qq.indexOf(A,g),h=x.maxConnections;delete z[g],A.splice(j,1),A.length>=h&&h>j&&(f=A[h-1],K(f))}function M(b,k){var j=O(b),h=T(),g=k===!0;N(b),g?C(h+" request for "+b+" has failed","error"):Q(j)||D(j.status)||(g=!0,C(h+" request for "+b+" has failed - response code "+j.status,"error")),x.onComplete(b,j,g)}function L(g){var f,j=z[g].onDemandParams,h=x.mandatedParams;return x.paramsStore.getParams&&(f=x.paramsStore.getParams(g)),j&&qq.each(j,function(b,k){f=f||{},f[b]=k}),h&&qq.each(h,function(b,k){f=f||{},f[b]=k}),f}function K(b){var p,o=O(b),k=T(),j=L(b),g=z[b].body;x.onSend(b),p=J(b,j),Q(o)?(o.onload=H(b),o.onerror=G(b)):o.onreadystatechange=I(b),o.open(k,p,!0),x.cors.expected&&x.cors.sendCredentials&&!Q(o)&&(o.withCredentials=!0),F(b),C("Sending "+k+" request for "+b),g?o.send(g):B||!j?o.send():j&&x.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?o.send(qq.obj2url(j,"")):j&&x.contentType.toLowerCase().indexOf("application/json")>=0?o.send(JSON.stringify(j)):o.send(j)}function J(g,f){var j=x.endpointStore.getEndpoint(g),h=z[g].addToPath;return void 0!=h&&(j+="/"+h),B&&f?qq.obj2url(f,j):j}function I(b){return function(){4===O(b).readyState&&M(b)}}function H(b){return function(){M(b)}}function G(b){return function(){M(b,!0)}}function F(b){var q=O(b),p=x.customHeaders,o=z[b].additionalHeaders||{},g=T(),c={};Q(q)&&(x.cors.expected&&S()&&!R(p)||(q.setRequestHeader("X-Requested-With","XMLHttpRequest"),q.setRequestHeader("Cache-Control","no-cache"))),!x.contentType||"POST"!==g&&"PUT"!==g||Q(q)||q.setRequestHeader("Content-Type",x.contentType),Q(q)||(qq.extend(c,p),qq.extend(c,o),qq.each(c,function(h,f){q.setRequestHeader(h,f)}))}function E(b){var g=O(b,!0),f=T();return g?(Q(g)?(g.onerror=null,g.onload=null):g.onreadystatechange=null,g.abort(),N(b),C("Cancelled "+f+" for "+b),x.onCancel(b),!0):!1}function D(b){return qq.indexOf(x.successfulResponseCodes[T()],b)>=0}var C,B,A=[],z=[],x={validMethods:["POST"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},successfulResponseCodes:{DELETE:[200,202,204],POST:[200,204]},cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};if(qq.extend(x,U),C=x.log,qq.indexOf(x.validMethods,T())<0){throw new Error("'"+T()+"' is not a supported method for this type of request!")}return B="GET"===T()||"DELETE"===T(),{send:function(h,g,p,o,k){z[h]={addToPath:g,onDemandParams:p,additionalHeaders:o,body:k};var j=A.push(h);j<=x.maxConnections&&K(h)},cancel:function(b){return E(b)},getMethod:function(){return T()}}},qq.UploadHandler=function(x,w){function v(g){var f,j=qq.indexOf(k,g),h=r.maxConnections;j>=0&&(k.splice(j,1),k.length>=h&&h>j&&(f=k[h-1],p.upload(f)))}function u(b){q("Cancelling "+b),r.paramsStore.remove(b),v(b)}function t(){var b=w?qq[w]:qq,c=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";p=new b["UploadHandler"+c](r,v,r.onUuidChanged,q)}var r,q,p,o,k=[];return r={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},filenameParam:"qqfilename",cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParam:"qquuid",totalFileSizeParam:"qqtotalfilesize",chunking:{enabled:!1,partSize:2000000,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){},onUuidChanged:function(){}},qq.extend(r,x),q=r.log,o={add:function(b){return p.add(b)},upload:function(f){var c=k.push(f);return c<=r.maxConnections?(p.upload(f),!0):!1},retry:function(f){var c=qq.indexOf(k,f);return c>=0?p.upload(f,!0):this.upload(f)},cancel:function(f){var c=p.cancel(f);qq.isPromise(c)?c.then(function(){u(f)}):c!==!1&&u(f)},cancelAll:function(){var f=this,c=[];qq.extend(c,k),qq.each(c,function(a,g){f.cancel(g)}),k=[]},getName:function(b){return p.getName(b)},setName:function(f,c){p.setName(f,c)},getSize:function(b){return p.getSize?p.getSize(b):void 0},getFile:function(b){return p.getFile?p.getFile(b):void 0},getInput:function(b){return p.getInput?p.getInput(b):void 0},reset:function(){q("Resetting upload handler"),o.cancelAll(),k=[],p.reset()},expunge:function(b){return p.expunge(b)},getUuid:function(b){return p.getUuid(b)},setUuid:function(f,c){return p.setUuid(f,c)},isValid:function(b){return p.isValid(b)},getResumableFilesData:function(){return p.getResumableFilesData?p.getResumableFilesData():[]},getThirdPartyFileId:function(b){return p.getThirdPartyFileId&&o.isValid(b)?p.getThirdPartyFileId(b):void 0}},t(),o},qq.UploadHandlerXhrApi=function(v,u,t,r,q,p,o){function k(g,f,h){return g.slice?g.slice(f,h):g.mozSlice?g.mozSlice(f,h):g.webkitSlice?g.webkitSlice(f,h):void 0}var j;return qq.extend(v,{createXhr:function(b){var f=qq.createXhrInstance();return u[b].xhr=f,f},getTotalChunks:function(f){if(t){var c=j.getSize(f),g=t.partSize;return Math.ceil(c/g)}},getChunkData:function(a,B){var A=t.partSize,z=j.getSize(a),x=j.getFile(a),w=A*B,h=w+A>=z?z:w+A,c=v.getTotalChunks(a);return{part:B,start:w,end:h,count:c,blob:k(x,w,h),size:h-w}},getChunkDataForCallback:function(b){return{partIndex:b.part,startByte:b.start+1,endByte:b.end,totalParts:b.count}}}),j={add:function(b){var g,f=qq.getUniqueId();if(qq.isFile(b)){g=u.push({file:b})-1}else{if(!qq.isBlob(b.blob)){throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)")}g=u.push({blobData:b})-1}return u[g].uuid=f,g},getName:function(b){if(j.isValid(b)){var h=u[b].file,g=u[b].blobData,f=u[b].newName;return void 0!==f?f:h?null!==h.fileName&&void 0!==h.fileName?h.fileName:h.name:g.name}o(b+" is not a valid item ID.","error")},setName:function(b,f){u[b].newName=f},getSize:function(b){var f=u[b].file||u[b].blobData.blob;return qq.isFileOrInput(f)?null!=f.fileSize?f.fileSize:f.size:f.size},getFile:function(b){return u[b]?u[b].file||u[b].blobData.blob:void 0},isValid:function(b){return void 0!==u[b]},reset:function(){u.length=0},expunge:function(b){var f=u[b].xhr;f&&(f.onreadystatechange=null,f.abort()),delete u[b]},getUuid:function(b){return u[b].uuid},upload:function(f,c){return r(f,c)},cancel:function(f){var c=q(f,j.getName(f));return qq.isPromise(c)?c.then(function(){j.expunge(f)}):c!==!1?(j.expunge(f),!0):!1},setUuid:function(b,f){o("Server requested UUID change from '"+u[b].uuid+"' to '"+f+"'"),u[b].uuid=f,p(b,f)}}},qq.UploadHandlerFormApi=function(J,I,H,G,F,E,D){function C(b){delete t[b],delete I[b],H&&(clearTimeout(r[b]),delete r[b],v.stopReceivingMessages(b));var a=document.getElementById(J.getIframeName(b));a&&(a.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(a).remove())}function B(k,j){var g=k.id,b=z(g),a=I[b].uuid;u[a]=j,t[b]=qq(k).attach("load",function(){I[b].input&&(D("Received iframe load event for CORS upload request (iframe name "+g+")"),r[g]=setTimeout(function(){var c="No valid message received from loaded iframe for iframe name "+g;D(c,"error"),j({error:c})},1000))}),v.receiveMessage(g,function(o){D("Received the following window message: '"+o+"'");var L,K=z(g),q=J.parseJsonResponse(K,o),p=q.uuid;p&&u[p]?(D("Handling response for iframe name "+g),clearTimeout(r[g]),delete r[g],J.detachLoadEvent(g),L=u[p],delete u[p],v.stopReceivingMessages(g),L(q)):p||D("'"+o+"' does not contain a UUID - ignoring.")})}function A(f){var c=qq.toElement('<iframe src="javascript:false;" name="'+f+'" />');return c.setAttribute("id",f),c.style.display="none",document.body.appendChild(c),c}function z(b){return b.split("_")[0]}var x,w=qq.getUniqueId(),v=new qq.WindowReceiveMessage({log:D}),u={},t={},r={};return qq.extend(J,{getIframeName:function(b){return b+"_"+w},createIframe:function(a){var f=J.getIframeName(a);return A(f)},parseJsonResponse:function(g,f){var j;try{j=qq.parseJson(f),void 0!==j.newUuid&&x.setUuid(g,j.newUuid)}catch(h){D("Error when attempting to parse iframe upload response ("+h.message+")","error"),j={}}return j},initFormForUpload:function(k){var j=k.method,M=k.endpoint,L=k.params,K=k.paramsInBody,q=k.targetName,p=qq.toElement('<form method="'+j+'" enctype="multipart/form-data"></form>'),o=M;return K?qq.obj2Inputs(L,p):o=qq.obj2url(L,M),p.setAttribute("action",o),p.setAttribute("target",q),p.style.display="none",document.body.appendChild(p),p},attachLoadEvent:function(f,c){var g;H?B(f,c):t[f.id]=qq(f).attach("load",function(){if(D("Received response for "+f.id),f.parentNode){try{if(f.contentDocument&&f.contentDocument.body&&"false"==f.contentDocument.body.innerHTML){return}}catch(a){D("Error when attempting to access iframe during handling of upload response ("+a.message+")","error"),g={success:!1}}c(g)}})},detachLoadEvent:function(b){void 0!==t[b]&&(t[b](),delete t[b])}}),x={add:function(b){var f=I.push({input:b})-1;return b.setAttribute("name",G),I[f].uuid=qq.getUniqueId(),b.parentNode&&qq(b).remove(),f},getName:function(b){return void 0!==I[b].newName?I[b].newName:x.isValid(b)?I[b].input.value.replace(/.*(\/|\\)/,""):(D(b+" is not a valid item ID.","error"),void 0)},getInput:function(b){return I[b].input},setName:function(b,f){I[b].newName=f},isValid:function(b){return void 0!==I[b]&&void 0!==I[b].input},reset:function(){I.length=0},expunge:function(b){return C(b)},getUuid:function(b){return I[b].uuid},cancel:function(f){var c=F(f,x.getName(f));return qq.isPromise(c)?c.then(function(){x.expunge(f)}):c!==!1?(x.expunge(f),!0):!1},upload:function(){},setUuid:function(b,f){D("Server requested UUID change from '"+I[b].uuid+"' to '"+f+"'"),I[b].uuid=f,E(b,f)}}},qq.UploadHandlerForm=function(A,z,x,w){function v(h,g){var C;try{var B=g.contentDocument||g.contentWindow.document,k=B.body.innerHTML;p("converting iframe's innerHTML to JSON"),p("innerHTML = "+k),k&&k.match(/^<pre/i)&&(k=B.body.firstChild.firstChild.nodeValue),C=o.parseJsonResponse(h,k)}catch(j){p("Error when attempting to parse form upload response ("+j.message+")","error"),C={success:!1}}return C}function u(a,C){var B=A.paramsStore.getParams(a),k=A.demoMode?"GET":"POST",j=A.endpointStore.getEndpoint(a),h=r[a].newName;return B[A.uuidParam]=r[a].uuid,h&&(B[A.filenameParam]=h),o.initFormForUpload({method:k,endpoint:j,params:B,paramsInBody:A.paramsInBody,targetName:C.name})}var t,r=[],q=z,p=w,o={};return t=new qq.UploadHandlerFormApi(o,r,A.cors.expected,A.inputName,A.onCancel,x,p),qq.extend(t,{upload:function(f){var j,h=r[f].input,g=t.getName(f),a=o.createIframe(f);if(!h){throw new Error("file with passed id was not added, or already uploaded or cancelled")}A.onUpload(f,t.getName(f)),j=u(f,a),j.appendChild(h),o.attachLoadEvent(a,function(k){p("iframe loaded");var b=k?k:v(f,a);o.detachLoadEvent(f),A.cors.expected||qq(a).remove(),(b.success||!A.onAutoRetry(f,g,b))&&(A.onComplete(f,g,b),q(f))}),p("Sending upload request for "+f),j.submit(),qq(j).remove()}})},qq.UploadHandlerXhr=function(aE,aD,aC,aB){function aA(a,k,j){var h=Y.getSize(a),g=Y.getName(a);k[aE.chunking.paramNames.partIndex]=j.part,k[aE.chunking.paramNames.partByteOffset]=j.start,k[aE.chunking.paramNames.chunkSize]=j.size,k[aE.chunking.paramNames.totalParts]=j.count,k[aE.totalFileSizeParam]=h,Q&&(k[aE.filenameParam]=g)}function az(a){a[aE.resume.paramNames.resuming]=!0}function ay(A,z,x,w){var v=new FormData,u=aE.demoMode?"GET":"POST",t=aE.endpointStore.getEndpoint(w),r=t,q=Y.getName(w),p=Y.getSize(w),o=V[w].blobData,a=V[w].newName;return A[aE.uuidParam]=V[w].uuid,Q&&(A[aE.totalFileSizeParam]=p,o&&(A[aE.filenameParam]=o.name)),void 0!==a&&(A[aE.filenameParam]=a),aE.paramsInBody||(Q||(A[aE.inputName]=a||q),r=qq.obj2url(A,t)),z.open(u,r,!0),aE.cors.expected&&aE.cors.sendCredentials&&(z.withCredentials=!0),Q?(aE.paramsInBody&&qq.obj2FormData(A,v),v.append(aE.inputName,x),v):x}function ax(a,h){var g=aE.customHeaders,f=V[a].file||V[a].blobData.blob;h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Cache-Control","no-cache"),Q||(h.setRequestHeader("Content-Type","application/octet-stream"),h.setRequestHeader("X-Mime-Type",f.type)),qq.each(g,function(j,c){h.setRequestHeader(j,c)})}function aw(a,k,j){var h=Y.getName(a),g=Y.getSize(a);V[a].attemptingResume=!1,aE.onProgress(a,h,g,g),aE.onComplete(a,h,k,j),V[a]&&delete V[a].xhr,X(a)}function av(f){var q,o,k=V[f].remainingChunkIdxs[0],h=P.getChunkData(f,k),g=P.createXhr(f),a=Y.getSize(f),p=Y.getName(f);void 0===V[f].loaded&&(V[f].loaded=0),S&&V[f].file&&aj(f,h),g.onreadystatechange=ak(f,g),g.upload.onprogress=function(r){if(r.lengthComputable){var j=r.loaded+V[f].loaded,b=au(f,k,r.total);aE.onProgress(f,p,j,b)}},aE.onUploadChunk(f,p,P.getChunkDataForCallback(h)),o=aE.paramsStore.getParams(f),aA(f,o,h),V[f].attemptingResume&&az(o),q=ay(o,g,h.blob,f),ax(f,g),W("Sending chunked upload request for item "+f+": bytes "+(h.start+1)+"-"+h.end+" of "+a),g.send(q)}function au(x,w,v){var u=P.getChunkData(x,w),t=u.size,r=v-t,q=Y.getSize(x),p=u.count,o=V[x].initialRequestOverhead,k=r-o;return V[x].lastRequestOverhead=r,0===w?(V[x].lastChunkIdxProgress=0,V[x].initialRequestOverhead=r,V[x].estTotalRequestsSize=q+p*r):V[x].lastChunkIdxProgress!==w&&(V[x].lastChunkIdxProgress=w,V[x].estTotalRequestsSize+=k),V[x].estTotalRequestsSize}function at(b){return Q?V[b].lastRequestOverhead:0}function ar(g,f,k){var j=V[g].remainingChunkIdxs.shift(),h=P.getChunkData(g,j);V[g].attemptingResume=!1,V[g].loaded+=h.size+at(g),V[g].remainingChunkIdxs.length>0?av(g):(S&&ai(g),aw(g,f,k))}function aq(f,c){return 200!==f.status||!c.success||c.reset}function ap(g,f){var j;try{W(qq.format("Received response status {} with body: {}",f.status,f.responseText)),j=qq.parseJson(f.responseText),void 0!==j.newUuid&&Y.setUuid(g,j.newUuid)}catch(h){W("Error when attempting to parse xhr response text ("+h.message+")","error"),j={}}return j}function ao(b){W("Server has ordered chunking effort to be restarted on next attempt for item ID "+b,"error"),S&&(ai(b),V[b].attemptingResume=!1),V[b].remainingChunkIdxs=[],delete V[b].loaded,delete V[b].estTotalRequestsSize,delete V[b].initialRequestOverhead}function an(b){V[b].attemptingResume=!1,W("Server has declared that it cannot handle resume for item ID "+b+" - starting from the first chunk","error"),ao(b),Y.upload(b,!0)}function am(a,h,g){var f=Y.getName(a);aE.onAutoRetry(a,f,h,g)||aw(a,h,g)}function al(g,f){var h;V[g]&&(W("xhr - server response received for "+g),W("responseText = "+f.responseText),h=ap(g,f),aq(f,h)?(h.reset&&ao(g),V[g].attemptingResume&&h.reset?an(g):am(g,h,f)):T?ar(g,h,f):aw(g,h,f))}function ak(f,c){return function(){4===c.readyState&&al(f,c)}}function aj(v,u){var t=Y.getUuid(v),r=V[v].loaded,q=V[v].initialRequestOverhead,p=V[v].estTotalRequestsSize,o=ag(v),k=t+U+u.part+U+r+U+q+U+p,a=aE.resume.cookiesExpireIn;qq.setCookie(o,k,a)}function ai(f){if(V[f].file){var c=ag(f);qq.deleteCookie(c)}}function ah(v){var u,t,r,q,p,o,k=qq.getCookie(ag(v)),j=Y.getName(v);if(k){if(u=k.split(U),5===u.length){return t=u[0],r=parseInt(u[1],10),q=parseInt(u[2],10),p=parseInt(u[3],10),o=parseInt(u[4],10),{uuid:t,part:r,lastByteSent:q,initialRequestOverhead:p,estTotalRequestsSize:o}}W("Ignoring previously stored resume/chunk cookie for "+j+" - old cookie format","warn")}}function ag(a){var k,j=Y.getName(a),h=Y.getSize(a),g=aE.chunking.partSize;return k="qqfilechunk"+U+encodeURIComponent(j)+U+h+U+g,void 0!==R&&(k+=U+R),k}function af(){return null===aE.resume.id||void 0===aE.resume.id||qq.isFunction(aE.resume.id)||qq.isObject(aE.resume.id)?void 0:aE.resume.id}function ae(g,f){var h;for(h=P.getTotalChunks(g)-1;h>=f;h-=1){V[g].remainingChunkIdxs.unshift(h)}av(g)}function ad(g,f,j,h){j=h.part,V[g].loaded=h.lastByteSent,V[g].estTotalRequestsSize=h.estTotalRequestsSize,V[g].initialRequestOverhead=h.initialRequestOverhead,V[g].attemptingResume=!0,W("Resuming "+f+" at partition index "+j),ae(g,j)}function ac(a,p,o){var k,j=Y.getName(a),h=P.getChunkData(a,p.part);k=aE.onResume(a,j,P.getChunkDataForCallback(h)),qq.isPromise(k)?(W("Waiting for onResume promise to be fulfilled for "+a),k.then(function(){ad(a,j,o,p)},function(){W("onResume promise fulfilled - failure indicated.  Will not resume."),ae(a,o)})):k!==!1?ad(a,j,o,p):(W("onResume callback returned false.  Will not resume."),ae(a,o))}function ab(g,f){var j,h=0;V[g].remainingChunkIdxs&&0!==V[g].remainingChunkIdxs.length?av(g):(V[g].remainingChunkIdxs=[],S&&!f&&V[g].file?(j=ah(g),j?ac(g,j,h):ae(g,h)):ae(g,h))}function aa(a){var o,k,j,h=V[a].file||V[a].blobData.blob,g=Y.getName(a);V[a].loaded=0,o=P.createXhr(a),o.upload.onprogress=function(b){b.lengthComputable&&(V[a].loaded=b.loaded,aE.onProgress(a,g,b.loaded,b.total))},o.onreadystatechange=ak(a,o),k=aE.paramsStore.getParams(a),j=ay(k,o,h,a),ax(a,o),W("Sending upload request for "+a),o.send(j)}function Z(a,g){var f=Y.getName(a);Y.isValid(a)&&(aE.onUpload(a,f),T?ab(a,g):aa(a))}var Y,X=aD,W=aB,V=[],U="|",T=aE.chunking.enabled&&qq.supportedFeatures.chunking,S=aE.resume.enabled&&T&&qq.supportedFeatures.resume,R=af(),Q=aE.forceMultipart||aE.paramsInBody,P={};return Y=new qq.UploadHandlerXhrApi(P,V,T?aE.chunking:null,Z,aE.onCancel,aC,W),qq.override(Y,function(a){return{add:function(b){var g,f=a.add(b);return S&&(g=ah(f),g&&(V[f].uuid=g.uuid)),f},getResumableFilesData:function(){var f=[],g=[];return T&&S?(f=void 0===R?qq.getCookieNames(new RegExp("^qqfilechunk\\"+U+".+\\"+U+"\\d+\\"+U+aE.chunking.partSize+"=")):qq.getCookieNames(new RegExp("^qqfilechunk\\"+U+".+\\"+U+"\\d+\\"+U+aE.chunking.partSize+"\\"+U+R+"=")),qq.each(f,function(h,c){var k=c.split(U),j=qq.getCookie(c).split(U);g.push({name:decodeURIComponent(k[1]),size:k[2],uuid:j[0],partIdx:j[1]})}),g):[]},expunge:function(b){S&&ai(b),a.expunge(b)}}}),Y},qq.PasteSupport=function(h){function g(b){return b.type&&0===b.type.indexOf("image/")}function p(){qq(k.targetElement).attach("paste",function(b){var f=b.clipboardData;f&&qq.each(f.items,function(q,t){if(g(t)){var r=t.getAsFile();k.callbacks.pasteReceived(r)}})})}function o(){j&&j()}var k,j;return k={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}},qq.extend(k,h),p(),{reset:function(){o()}}},qq.DragAndDrop=function(A){function z(f,c){r.callbacks.dropLog("Grabbed "+f.length+" dropped files."),c.dropDisabled(!1),r.callbacks.processingDroppedFilesComplete(f)}function x(f){var c,g=new qq.Promise;return f.isFile?f.file(function(b){p.push(b),g.success()},function(a){r.callbacks.dropLog("Problem parsing '"+f.fullPath+"'.  FileError code "+a.code+".","error"),g.failure()}):f.isDirectory&&(c=f.createReader(),c.readEntries(function(j){var h=j.length;qq.each(j,function(b,k){x(k).done(function(){h-=1,0===h&&g.success()})}),j.length||g.success()},function(a){r.callbacks.dropLog("Problem parsing '"+f.fullPath+"'.  FileError code "+a.code+".","error"),g.failure()})),g}function w(f,c){var h=[],g=new qq.Promise;return r.callbacks.processingDroppedFiles(),c.dropDisabled(!0),f.files.length>1&&!r.allowMultipleItems?(r.callbacks.processingDroppedFilesComplete([]),r.callbacks.dropError("tooManyFilesError",""),c.dropDisabled(!1),g.failure()):(p=[],qq.isFolderDropSupported(f)?qq.each(f.items,function(k,j){var B=j.webkitGetAsEntry();B&&(B.isFile?p.push(j.getAsFile()):h.push(x(B).done(function(){h.pop(),0===h.length&&g.success()})))}):p=f.files,0===h.length&&g.success()),g}function v(b){var f=new qq.UploadDropZone({element:b,onEnter:function(a){qq(b).addClass(r.classes.dropActive),a.stopPropagation()},onLeaveNotDescendants:function(){qq(b).removeClass(r.classes.dropActive)},onDrop:function(a){r.hideDropZonesBeforeEnter&&qq(b).hide(),qq(b).removeClass(r.classes.dropActive),w(a.dataTransfer,f).done(function(){z(p,f)})}});return o.addDisposer(function(){f.dispose()}),r.hideDropZonesBeforeEnter&&qq(b).hide(),q.push(f),f}function u(f){var c;return qq.each(f.dataTransfer.types,function(b,g){return"Files"===g?(c=!0,!1):void 0}),c}function t(){var b=r.dropZoneElements;qq.each(b,function(a,g){var f=v(g);!b.length||qq.ie()&&!qq.ie10()||o.attach(document,"dragenter",function(c){!f.dropDisabled()&&u(c)&&qq.each(b,function(j,h){qq(h).css({display:"block"})})})}),o.attach(document,"dragleave",function(a){r.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(a)&&qq.each(b,function(f,c){qq(c).hide()})}),o.attach(document,"drop",function(a){r.hideDropZonesBeforeEnter&&qq.each(b,function(f,c){qq(c).hide()}),a.preventDefault()})}var r,q=[],p=[],o=new qq.DisposeSupport;return r={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(r,A,!0),t(),{setupExtraDropzone:function(b){r.dropZoneElements.push(b),v(b)},removeDropzone:function(g){var f,h=r.dropZoneElements;for(f in h){if(h[f]===g){return h.splice(f,1)}}},dispose:function(){o.dispose(),qq.each(q,function(f,c){c.dispose()})}}},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(f,c){qq.log("Drag & drop error code '"+f+" with these specifics: '"+c+"'","error")},dropLog:function(f,c){qq.log(f,c)}}},qq.UploadDropZone=function(A){function z(){return qq.safari()||qq.firefox()&&qq.windows()}function x(){p||(z?o.attach(document,"dragover",function(b){b.preventDefault()}):o.attach(document,"dragover",function(b){b.dataTransfer&&(b.dataTransfer.dropEffect="none",b.preventDefault())}),p=!0)}function w(g){if(qq.ie()&&!qq.ie10()){return !1}var f,j=g.dataTransfer,h=qq.safari();return f=qq.ie10()?!0:"none"!==j.effectAllowed,j&&f&&(j.files||!h&&j.types.contains&&j.types.contains("Files"))}function v(b){return void 0!==b&&(q=b),q}function u(){o.attach(r,"dragover",function(f){if(w(f)){var c=qq.ie()?null:f.dataTransfer.effectAllowed;f.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy",f.stopPropagation(),f.preventDefault()}}),o.attach(r,"dragenter",function(b){if(!v()){if(!w(b)){return}t.onEnter(b)}}),o.attach(r,"dragleave",function(f){if(w(f)){t.onLeave(f);var c=document.elementFromPoint(f.clientX,f.clientY);qq(this).contains(c)||t.onLeaveNotDescendants(f)}}),o.attach(r,"drop",function(b){if(!v()){if(!w(b)){return}b.preventDefault(),t.onDrop(b)}})}var t,r,q,p,o=new qq.DisposeSupport;return t={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(t,A),r=t.element,x(),u(),{dropDisabled:function(b){return v(b)},dispose:function(){o.dispose()}}},qq.DeleteFileAjaxRequestor=function(g){function f(){return"POST"===h.method.toUpperCase()?{_method:"DELETE"}:{}}var j,h={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};return qq.extend(h,g),j=new qq.AjaxRequestor({validMethods:["POST","DELETE"],method:h.method,endpointStore:h.endpointStore,paramsStore:h.paramsStore,mandatedParams:f(),maxConnections:h.maxConnections,customHeaders:h.customHeaders,demoMode:h.demoMode,log:h.log,onSend:h.onDelete,onComplete:h.onDeleteComplete,cors:h.cors}),{sendDelete:function(k,c,p){var o=p||{};h.log("Submitting delete file request for "+k),"DELETE"===j.getMethod()?j.send(k,c,o):(o[h.uuidParamName]=c,j.send(k,null,o))}}},qq.WindowReceiveMessage=function(g){var f={log:function(){}},h={};return qq.extend(f,g),{receiveMessage:function(j,c){var k=function(b){c(b.data)};window.postMessage?h[j]=qq(window).attach("message",k):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(j){if(window.postMessage){var c=h[j];c&&c()}}}},qq.UiEventHandler=function(h,g){function p(b){o.attach(b,k.eventType,function(f){f=f||window.event;var c=f.target||f.srcElement;k.onHandled(c,f)})}var o=new qq.DisposeSupport,k={eventType:"click",attachTo:null,onHandled:function(){}},j={addHandler:function(b){p(b)},dispose:function(){o.dispose()}};return qq.extend(g,{getItemFromEventTarget:function(f){for(var c=f.parentNode;void 0===c.qqFileId;){c=c.parentNode}return c},getFileIdFromItem:function(b){return b.qqFileId},getDisposeSupport:function(){return o}}),qq.extend(k,h),k.attachTo&&p(k.attachTo),j},qq.DeleteRetryOrCancelClickHandler=function(g){function f(o,c){if(qq(o).hasClass(h.classes.cancel)||qq(o).hasClass(h.classes.retry)||qq(o).hasClass(h.classes.deleteButton)){var q=j.getItemFromEventTarget(o),p=j.getFileIdFromItem(q);qq.preventDefault(c),h.log(qq.format("Detected valid cancel, retry, or delete click event on file '{}', ID: {}.",h.onGetName(p),p)),k(o,p)}}function k(o,c){qq(o).hasClass(h.classes.deleteButton)?h.onDeleteFile(c):qq(o).hasClass(h.classes.cancel)?h.onCancel(c):h.onRetry(c)}var j={},h={listElement:document,log:function(){},classes:{cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry"},onDeleteFile:function(){},onCancel:function(){},onRetry:function(){},onGetName:function(){}};qq.extend(h,g),h.eventType="click",h.onHandled=f,h.attachTo=h.listElement,qq.extend(this,new qq.UiEventHandler(h,j))},qq.FilenameEditHandler=function(v,u){function t(g){var f=j.onGetName(g),h=f.lastIndexOf(".");return h>0&&(f=f.substr(0,h)),f}function r(f){var c=j.onGetName(f);return qq.getExtension(c)}function q(g,f){var w,h=g.value;void 0!==h&&qq.trimStr(h).length>0&&(w=r(f),void 0!==w&&(h=h+"."+w),j.onSetName(f,h)),j.onEditingStatusChange(f,!1)}function p(b,f){u.getDisposeSupport().attach(b,"blur",function(){q(b,f)})}function o(b,f){u.getDisposeSupport().attach(b,"keyup",function(a){var c=a.keyCode||a.which;13===c&&q(b,f)})}var k,j={listElement:null,log:function(){},classes:{file:"qq-upload-file"},onGetUploadStatus:function(){},onGetName:function(){},onSetName:function(){},onGetInput:function(){},onEditingStatusChange:function(){}};return qq.extend(j,v),j.attachTo=j.listElement,k=qq.extend(this,new qq.UiEventHandler(j,u)),qq.extend(u,{handleFilenameEdit:function(f,c,x,w){var g=j.onGetInput(x);j.onEditingStatusChange(f,!0),g.value=t(f),w&&g.focus(),p(g,f),o(g,f)}}),k},qq.FilenameClickHandler=function(g){function f(k,c){if(qq(k).hasClass(h.classes.file)||qq(k).hasClass(h.classes.editNameIcon)){var q=j.getItemFromEventTarget(k),p=j.getFileIdFromItem(q),o=h.onGetUploadStatus(p);o===qq.status.SUBMITTED&&(h.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",h.onGetName(p),p)),qq.preventDefault(c),j.handleFilenameEdit(p,k,q,!0))}}var j={},h={log:function(){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(){},onGetName:function(){}};return qq.extend(h,g),h.eventType="click",h.onHandled=f,qq.extend(this,new qq.FilenameEditHandler(h,j))},qq.FilenameInputFocusInHandler=function(g,f){function j(b){if(qq(b).hasClass(h.classes.editFilenameInput)){var p=f.getItemFromEventTarget(b),o=f.getFileIdFromItem(p),k=h.onGetUploadStatus(o);k===qq.status.SUBMITTED&&(h.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",h.onGetName(o),o)),f.handleFilenameEdit(o,b,p))}}var h={listElement:null,classes:{editFilenameInput:"qq-edit-filename"},onGetUploadStatus:function(){},log:function(){}};return f||(f={}),h.eventType="focusin",h.onHandled=j,qq.extend(h,g),qq.extend(this,new qq.FilenameEditHandler(h,f))},qq.FilenameInputFocusHandler=function(b){return b.eventType="focus",b.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(b,{}))},qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){return{AWS_PARAM_PREFIX:"x-amz-meta-",getBucket:function(g){var f,h=[/^(?:https?:\/\/)?([a-z0-9.\-]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-]+)/i];return qq.each(h,function(j,b){var a=b.exec(g);return a?(f=a[1],!1):void 0}),f},getPolicy:function(C){var B={},A=[],z=qq.s3.util.getBucket(C.endpoint),x=C.key,w=C.acl,v=C.type,u=new Date,t=C.expectedStatus,r=C.params,q=qq.s3.util.getSuccessRedirectAbsoluteUrl(C.successRedirectUrl),p=C.minFileSize,o=C.maxFileSize;return B.expiration=qq.s3.util.getPolicyExpirationDate(u),A.push({acl:w}),A.push({bucket:z}),v&&A.push({"Content-Type":v}),t&&A.push({success_action_status:t.toString()}),q&&A.push({success_action_redirect:q}),A.push({key:x}),qq.each(r,function(f,c){var h=qq.s3.util.AWS_PARAM_PREFIX+f,g={};g[h]=encodeURIComponent(c),A.push(g)}),B.conditions=A,qq.s3.util.enforceSizeLimits(B,p,o),B},generateAwsParams:function(C,B){var A={},z=C.params,x=new qq.Promise,w=qq.s3.util.getPolicy(C),v=C.type,u=C.key,t=C.accessKey,r=C.acl,q=C.expectedStatus,p=qq.s3.util.getSuccessRedirectAbsoluteUrl(C.successRedirectUrl),o=C.log;return A.key=u,A.AWSAccessKeyId=t,v&&(A["Content-Type"]=v),q&&(A.success_action_status=q),p&&(A.success_action_redirect=p),A.acl=r,qq.each(z,function(f,c){var g=qq.s3.util.AWS_PARAM_PREFIX+f;A[g]=encodeURIComponent(c)}),B(w).then(function(b){A.policy=b.policy,A.signature=b.signature,x.success(A)},function(b){b=b||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",o("Policy signing failed.  "+b,"error"),x.failure(b)}),x},enforceSizeLimits:function(g,f,k){var j=0>f?0:f,h=0>=k?9007199254740992:k;(f>0||k>0)&&g.conditions.push(["content-length-range",j.toString(),h.toString()])},getPolicyExpirationDate:function(f){function c(h){var g=String(h);return 1===g.length&&(g="0"+g),g}return f.setMinutes(f.getMinutes()+5),Date.prototype.toISOString?f.toISOString():f.getUTCFullYear()+"-"+c(f.getUTCMonth()+1)+"-"+c(f.getUTCDate())+"T"+c(f.getUTCHours())+":"+c(f.getUTCMinutes())+":"+c(f.getUTCSeconds())+"."+String((f.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"},parseIframeResponse:function(g){var f=g.contentDocument||g.contentWindow.document,j=f.location.search,h=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(j);return h?{bucket:h[1],key:h[2],etag:h[3]}:void 0},getSuccessRedirectAbsoluteUrl:function(g){if(g){var f,h=document.createElement("div");return qq.ie7()?(h.innerHTML='<a href="'+g+'"></a>',f=h.firstChild,f.href):(f=document.createElement("a"),f.href=g,f.href=f.href,f.href)}},encodeQueryStringParam:function(f){var c=encodeURIComponent(f);return c=c.replace(/[!'()]/g,escape),c=c.replace(/\*/g,"%2A"),c.replace(/%20/g,"+")}}}(),qq.s3.FineUploaderBasic=function(f){var c={request:{accessKey:null,uuidName:"uuid"},objectProperties:{acl:"private",key:"uuid"},signature:{endpoint:null,customHeaders:{}},uploadSuccess:{endpoint:null,params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},resume:{recordsExpireIn:7},cors:{allowXdr:!0}};qq.extend(c,f,!0),qq.FineUploaderBasic.call(this,c),this._uploadSuccessParamsStore=this._createParamsStore("uploadSuccess"),this._failedSuccessRequestCallbacks=[]},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getKey:function(b){return this._handler.getThirdPartyFileId(b)},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[]},setUploadSuccessParams:function(f,c){null==c?this._options.uploadSuccess.params=f:this._uploadSuccessParamsStore.setParams(f,c)},_createUploadHandler:function(){var b={objectProperties:this._options.objectProperties,signature:this._options.signature,iframeSupport:this._options.iframeSupport,getKeyName:qq.bind(this._determineKeyName,this),validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(c){return{getEndpoint:function(a){var f=c.getEndpoint(a);return f.indexOf("http")<0?"http://"+f:f}}}),qq.FineUploaderBasic.prototype._createUploadHandler.call(this,b,"s3")},_determineKeyName:function(j,h){var r=new qq.Promise,q=this._options.objectProperties.key,p=qq.getExtension(h),o=r.failure,k=function(f,c){var g=f;void 0!==c&&(g+="."+c),r.success(g)};switch(q){case"uuid":k(this.getUuid(j),p);break;case"filename":k(h);break;default:qq.isFunction(q)?this._handleKeynameFunction(q,j,k,o):(this.log(q+" is not a valid value for the s3.keyname option!","error"),o())}return r},_handleKeynameFunction:function(j,h,r,q){var p=function(b){r(b)},o=function(){this.log("Failed to retrieve key name for "+h,"error"),q()},k=j(h);qq.isPromise(k)?k.then(p,o):null==k?o():p(k)},_onComplete:function(M,L,K,J){var I,H,G=K.success?!0:!1,F=this,E=arguments,D=this.getKey(M),C=this._options.uploadSuccess.endpoint,B=this._options.uploadSuccess.customHeaders,A=this._options.cors,z=this.getUuid(M),x=qq.s3.util.getBucket(this._endpointStore.getEndpoint(M)),w=new qq.Promise,v=this._uploadSuccessParamsStore.getParams(M),u=function(a){delete F._failedSuccessRequestCallbacks[M],qq.extend(K,a),qq.FineUploaderBasic.prototype._onComplete.apply(F,E),w.success(a)},t=function(b){var a=I;qq.extend(K,b),K&&K.reset&&(a=null),a?F._failedSuccessRequestCallbacks[M]=a:delete F._failedSuccessRequestCallbacks[M],F._onAutoRetry(M,L,K,J,a)||(qq.FineUploaderBasic.prototype._onComplete.apply(F,E),w.failure(b))};return G&&C?(H=new qq.s3.UploadSuccessAjaxRequester({endpoint:C,customHeaders:B,cors:A,log:qq.bind(this.log,this)}),qq.extend(v,{key:D,uuid:z,name:L,bucket:x},!0),I=qq.bind(function(){H.sendSuccessRequest(M,v).then(u,t)},F),I(),w):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(f){var c=this._failedSuccessRequestCallbacks[f];return qq.FineUploaderBasic.prototype._manualRetry.call(this,f,c)},_onSubmitDelete:function(g,f){var h={key:this.getKey(g),bucket:qq.s3.util.getBucket(this._endpointStore.getEndpoint(g))};qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,g,f,h)}}),qq.s3.FineUploader=function(f){var c={failedUploadTextDisplay:{mode:"custom"}};qq.extend(c,f,!0),qq.FineUploader.call(this,c,"s3"),qq.supportedFeatures.ajaxUploading||void 0!==c.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")},qq.extend(qq.s3.FineUploader.prototype,qq.s3.FineUploaderBasic.prototype),qq.extend(qq.s3.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.s3.FineUploader.prototype,qq.uiPrivateApi),qq.extend(qq.s3.FineUploader.prototype,{_onComplete:function(g){var f=qq.FineUploader.prototype._onComplete.apply(this,arguments),j=this.getItemByFileId(g),h=this._find(j,"progressBar");return qq.isPromise(f)&&(qq(h).hide(),qq(this._find(j,"statusText")).setText(this._options.text.waitingForResponse)),f}}),qq.s3.SignatureAjaxRequestor=function(g){function f(z,x,w){var v,u,t=x.responseText,r=j[z],q=r.expectingPolicy,p=r.promise;if(delete j[z],t){try{u=qq.parseJson(t)}catch(o){h.log("Error attempting to parse signature response: "+o,"error")}}u&&u.invalid?(w=!0,v="Invalid policy document or request headers!"):u?q&&!u.policy?(w=!0,v="Response does not include the base64 encoded policy!"):u.signature||(w=!0,v="Response does not include the signature!"):(w=!0,v="Received an empty or invalid response from the server!"),w?(v&&h.log(v,"error"),p.failure(v)):p.success(u)}var k,j={},h={expectingPolicy:!1,method:"POST",signatureSpec:{endpoint:null,customHeaders:{}},maxConnections:3,paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){}};return qq.extend(h,g,!0),k=new qq.AjaxRequestor({method:h.method,contentType:"application/json; charset=utf-8",endpointStore:{getEndpoint:function(){return h.signatureSpec.endpoint}},paramsStore:h.paramsStore,maxConnections:h.maxConnections,customHeaders:h.signatureSpec.customHeaders,log:h.log,onComplete:f,cors:h.cors,successfulResponseCodes:{POST:[200]}}),{getSignature:function(o,c){var q=c,p=new qq.Promise;return h.log("Submitting S3 signature request for "+o),k.send(o,null,q),j[o]={promise:p,expectingPolicy:h.expectingPolicy},p}}},qq.s3.UploadSuccessAjaxRequester=function(g){function f(x,w,v){var u,t=j[x],r=w.responseText,q={success:!0},p={success:!1};delete j[x],h.log(qq.format("Received the following response body to an AWS upload success request for id {}: {}",x,r));try{u=qq.parseJson(r),v||u&&(u.error||u.success===!1)?(h.log("Upload success request was rejected by the server.","error"),t.failure(qq.extend(u,p))):(h.log("Upload success was acknowledged by the server."),t.success(qq.extend(u,q)))}catch(o){v?(h.log(qq.format("Your server indicated failure in its AWS upload success request response for id {}!",x),"error"),t.failure(p)):(h.log("Upload success was acknowledged by the server."),t.success(q))}}var k,j=[],h={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){}};return qq.extend(h,g),k=new qq.AjaxRequestor({method:h.method,endpointStore:{getEndpoint:function(){return h.endpoint}},paramsStore:h.paramsStore,maxConnections:h.maxConnections,customHeaders:h.customHeaders,log:h.log,onComplete:f,cors:h.cors,successfulResponseCodes:{POST:[200]}}),{sendSuccessRequest:function(o,c){var p=new qq.Promise;return h.log("Submitting upload success request/notification for "+o),k.send(o,null,c),j[o]=p,p}}},qq.s3.InitiateMultipartAjaxRequester=function(k){function j(f){var c,x=qq.s3.util.getBucket(o.endpointStore.getEndpoint(f)),w={},v=new qq.Promise,h=o.getKey(f);return w["x-amz-date"]=(new Date).toUTCString(),w["Content-Type"]=o.getContentType(f),w["x-amz-acl"]=o.acl,w[qq.s3.util.AWS_PARAM_PREFIX+o.filenameParam]=encodeURIComponent(o.getName(f)),qq.each(o.paramsStore.getParams(f),function(z,g){w[qq.s3.util.AWS_PARAM_PREFIX+z]=encodeURIComponent(g)}),c={headers:u(w,x,h)},q.getSignature(f,c).then(function(b){w.Authorization="AWS "+o.accessKey+":"+b.signature,v.success(w)},v.failure),v}function u(g,f,w){var v=[],h="";return qq.each(g,function(b){"Content-Type"!==b&&v.push(b)}),v.sort(),qq.each(v,function(a,x){h+=x+":"+g[x]+"\n"}),"POST\n\n"+g["Content-Type"]+"\n\n"+h+"/"+f+"/"+w+"?uploads"}function t(E,D,C){var B,A,z,x,w,v=p[E],h=new DOMParser,g=h.parseFromString(D.responseText,"application/xml");delete p[E],C?(w=D.status,A=g.getElementsByTagName("Message"),A.length>0&&(x=A[0].textContent)):(B=g.getElementsByTagName("UploadId"),B.length>0?z=B[0].textContent:x="Upload ID missing from request"),void 0===z?(x?o.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",E,x),"error"):o.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",E,w),"error"),v.failure("Problem initiating upload request with Amazon.",D)):(o.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",E,z)),v.success(z,D))}var r,q,p={},o={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,accessKey:null,acl:"private",maxConnections:3,getContentType:function(){},getKey:function(){},getName:function(){},log:function(){}};return qq.extend(o,k),q=new qq.s3.SignatureAjaxRequestor({signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),r=new qq.AjaxRequestor({method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,log:o.log,onComplete:t,successfulResponseCodes:{POST:[200]}}),{send:function(b){var g=new qq.Promise,f=o.getKey(b)+"?uploads";return j(b).then(function(a){o.log("Submitting S3 initiate multipart upload request for "+b),p[b]=g,r.send(b,f,null,a)},g.failure),g}}},qq.s3.CompleteMultipartAjaxRequester=function(x){function w(g,c){var z,j={},h=new qq.Promise;return j["x-amz-date"]=(new Date).toUTCString(),z={headers:v(g,c,j["x-amz-date"])},p.getSignature(g,z).then(function(b){j.Authorization="AWS "+k.accessKey+":"+b.signature,h.success(j)},h.failure),h}function v(j,h,C){var B=k.endpointStore.getEndpoint(j),A=qq.s3.util.getBucket(B),z=t(j,h);return"POST\n\napplication/xml; charset=UTF-8\n\nx-amz-date:"+C+"\n/"+A+"/"+z}function u(H,G,F){var E=o[H],D=new DOMParser,C=k.endpointStore.getEndpoint(H),B=qq.s3.util.getBucket(C),A=(k.getKey(H),D.parseFromString(G.responseText,"application/xml")),z=A.getElementsByTagName("Bucket"),j=A.getElementsByTagName("Key");delete o[H],k.log(qq.format("Complete response status {}, body = {}",G.status,G.responseText)),F?k.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",H,G.status),"error"):z.length&&j.length?z[0].textContent!==B&&(F=!0,k.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",H),"error")):(F=!0,k.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",H),"error")),F?E.failure("Problem asking Amazon to combine the parts!",G):E.success(G)}function t(f,c){return qq.format("{}?uploadId={}",k.getKey(f),c)}function r(f){var c=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return qq.each(f,function(G,F){var E=F.part,D=F.etag,C=c.createElement("Part"),B=c.createElement("PartNumber"),A=c.createTextNode(E),z=c.createTextNode(D),b=c.createElement("ETag");b.appendChild(z),B.appendChild(A),C.appendChild(B),C.appendChild(b),qq(c).children()[0].appendChild(C)}),(new XMLSerializer).serializeToString(c)}var q,p,o={},k={method:"POST",endpointStore:null,signatureSpec:null,accessKey:null,maxConnections:3,getKey:function(){},log:function(){}};return qq.extend(k,x),p=new qq.s3.SignatureAjaxRequestor({signatureSpec:k.signatureSpec,cors:k.cors,log:k.log}),q=new qq.AjaxRequestor({method:k.method,contentType:"application/xml; charset=UTF-8",endpointStore:k.endpointStore,maxConnections:k.maxConnections,log:k.log,onComplete:u,successfulResponseCodes:{POST:[200]}}),{send:function(b,j,g){var f=new qq.Promise;return w(b,j).then(function(a){var c=r(g);k.log("Submitting S3 complete multipart upload request for "+b),o[b]=f,q.send(b,t(b,j),null,a,c)},f.failure),f}}},qq.s3.AbortMultipartAjaxRequester=function(k){function j(g,c){var w,v={},h=new qq.Promise;return v["x-amz-date"]=(new Date).toUTCString(),w={headers:u(g,c,v["x-amz-date"])},p.getSignature(g,w).then(function(b){v.Authorization="AWS "+o.accessKey+":"+b.signature,h.success(v)},h.failure),h}function u(v,h,A){var z=o.endpointStore.getEndpoint(v),x=qq.s3.util.getBucket(z),w=r(v,h);return"DELETE\n\n\n\nx-amz-date:"+A+"\n/"+x+"/"+w}function t(v,h,B){var A,z=new DOMParser,x=z.parseFromString(h.responseText,"application/xml"),w=x.getElementsByTagName("Error");o.log(qq.format("Abort response status {}, body = {}",h.status,h.responseText)),B?o.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",v,h.status),"error"):w.length?(B=!0,A=x.getElementsByTagName("Message")[0].textContent,o.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",v,A),"error")):o.log(qq.format("Abort MPU request succeeded for file ID {}.",v))}function r(f,c){return qq.format("{}?uploadId={}",o.getKey(f),c)}var q,p,o={method:"DELETE",endpointStore:null,signatureSpec:null,accessKey:null,maxConnections:3,getKey:function(){},log:function(){}};return qq.extend(o,k),p=new qq.s3.SignatureAjaxRequestor({signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),q=new qq.AjaxRequestor({validMethods:["DELETE"],method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,log:o.log,onComplete:t,successfulResponseCodes:{DELETE:[204]}}),{send:function(b,g){var f=r(b,g);j(b,g).then(function(a){o.log("Submitting S3 Abort multipart upload request for "+b),q.send(b,f,null,a)})}}},qq.s3.UploadHandlerXhr=function(a4,a3,a2,a1){function a0(b){return encodeURIComponent(aZ(b))}function aZ(b){return aq[b].key}function aY(f,c){aq[f].key=c}function aX(f){var c=ar.getFile(f);aq[f].type=c.type,aa.createXhr(f),aG(f)?(void 0===aq[f].loaded&&(aq[f].loaded=0),aF(f)):(aq[f].loaded=0,aQ(f))}function aW(f){var c=aq[f].xhr;return function(){4===c.readyState&&(aq[f].chunking.enabled?at(f):aU(f))}}function aV(b){return"EntityTooSmall"===b||"InvalidPart"===b||"InvalidPartOrder"===b||"NoSuchUpload"===b}function aU(u,t,r){var q=r||aq[u].xhr,p=ar.getName(u),o=ar.getSize(u),j=aT(u,r),b=t||aT(u),a=null!=t||j.success!==!0;a&&aV(j.code)&&(a1("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),aL(u),delete aq[u].loaded,delete aq[u].chunking),a&&a4.onAutoRetry(u,p,b,q)||(a1(qq.format("Upload attempt for file ID {} to S3 is complete",u)),a||(b.success=!0),ao(u,p,o,o),an(u,p,b,q),aq[u]&&delete aq[u].xhr,j.success&&aL(u),delete aq[u].loaded,delete aq[u].chunking,a3(u))}function aT(j,h){var q,p=h||aq[j].xhr,o={};try{a1(qq.format("Received response status {} with body: {}",p.status,p.responseText)),p.status===ap?o.success=!0:(q=aS(p.responseText),q&&(o.error=q.message,o.code=q.code))}catch(k){a1("Error when attempting to parse xhr response text ("+k.message+")","error")}return o}function aS(j){var h,r,q=new DOMParser,p=q.parseFromString(j,"application/xml"),o=p.getElementsByTagName("Error"),k={};return o.length?(h=p.getElementsByTagName("Code"),r=p.getElementsByTagName("Message"),r.length&&(k.message=r[0].textContent),h.length&&(k.code=h[0].textContent),k):void 0}function aR(f){var c=ar.getName(f);ar.isValid(f)&&(aN(f),void 0!==aZ(f)?(am(f,c),aX(f)):al(f,c).then(function(a){aY(f,a),am(f,c),aX(f)}))}function aQ(g){var f=aq[g].xhr,j=ar.getName(g),h=ar.getFile(g);f.upload.onprogress=function(a){a.lengthComputable&&(aq[g].loaded=a.loaded,ao(g,j,a.loaded,a.total))},f.onreadystatechange=aW(g),aO(g,h).then(function(a){a1("Sending upload request for "+g),f.send(a)})}function aP(f){var c=aj.getParams(f);return c[ak]=ar.getName(f),qq.s3.util.generateAwsParams({endpoint:ai.getEndpoint(f),params:c,type:aq[f].type,key:aZ(f),accessKey:ah,acl:ag,expectedStatus:ap,minFileSize:af.minSizeLimit,maxFileSize:af.maxSizeLimit,log:a1},qq.bind(aD.getSignature,this,f))}function aO(j,h){var r=new FormData,q=ai.getEndpoint(j),p=q,o=aq[j].xhr,k=new qq.Promise;return aP(j).then(function(b){o.open("POST",p,!0),qq.obj2FormData(b,r),r.append("file",h),k.success(r)},function(a){k.failure(a),aU(j,{error:a})}),k}function aN(g){var f,h;ac&&void 0===aZ(g)&&(f=aH(g),h=localStorage.getItem(f),h&&(a1(qq.format("Identified file with ID {} and name of {} as resumable.",g,ar.getName(g))),h=JSON.parse(h),aq[g].uuid=h.uuid,aY(g,h.key),aq[g].loaded=h.loaded,aq[g].chunking=h.chunking))}function aM(g){var f,h;ac&&(f=aH(g),h={name:ar.getName(g),size:ar.getSize(g),uuid:ar.getUuid(g),key:aZ(g),loaded:aq[g].loaded,chunking:aq[g].chunking,lastUpdated:Date.now()},localStorage.setItem(f,JSON.stringify(h)))}function aL(f){var c;return ac&&(c=aH(f),c&&localStorage.getItem(c))?(localStorage.removeItem(c),!0):!1}function aK(b){ac&&qq.each(localStorage,function(a,g){if(0===a.indexOf("qqs3resume-")){var f=JSON.parse(g);b(a,f)}})}function aJ(){var b=[];return aK(function(a,f){b.push({name:f.name,size:f.size,uuid:f.uuid,partIdx:f.chunking.lastSent+1,key:f.key})}),b}function aI(){var a=a4.resume.recordsExpireIn;aK(function(b,g){var f=new Date(g.lastUpdated);f.setDate(f.getDate()+a),f.getTime()<=Date.now()&&(a1("Removing expired resume record with key "+b),localStorage.removeItem(b))})}function aH(a){var p=ar.getName(a),o=ar.getSize(a),k=a4.chunking.partSize,j=a4.endpointStore.getEndpoint(a),h=qq.s3.util.getBucket(j);return qq.format("qqs3resume-{}-{}-{}-{}",p,o,k,h)}function aG(f){var c;return aq[f].chunking||(aq[f].chunking={},c=aa.getTotalChunks(f),c>1?(aq[f].chunking.enabled=!0,aq[f].chunking.parts=c):aq[f].chunking.enabled=!1),aq[f].chunking.enabled}function aF(b){au(b).then(function(){ay(b)},function(a,f){aU(b,{error:a},f)})}function aC(b){return aq[b].chunking.lastSent>=0?aq[b].chunking.lastSent+1:0}function aA(g){var f=aC(g)+1,h=aq[g].chunking.uploadId;return qq.format("?partNumber={}&uploadId={}",f,h)}function az(a){var j=a4.endpointStore.getEndpoint(a),h=aA(a),g=a0(a);return qq.format("{}/{}{}",j,g,h)}function ay(g){var f=aq[g].chunking.parts,h=aC(g);f>h?aw(g):ax(g)}function ax(g){var f=aq[g].chunking.uploadId,h=aq[g].chunking.etags;a5.send(g,f,h).then(function(a){aU(g,null,a)},function(a,j){aU(g,{error:a},j)})}function aw(a){var t=aC(a),r=ar.getName(a),q=aq[a].xhr,p=az(a),o=ar.getSize(a),k=aa.getChunkData(a,t);av(a).then(function(b){a4.onUploadChunk(a,r,aa.getChunkDataForCallback(k)),q.upload.onprogress=function(g){if(g.lengthComputable){var f=g.loaded+aq[a].loaded;a4.onProgress(a,r,f,o)}},q.onreadystatechange=aW(a),q.open("PUT",p,!0),qq.each(b,function(f,c){q.setRequestHeader(f,c)}),a1(qq.format("Sending part {} of {} for file ID {} - {} ({} bytes)",k.part+1,k.count,a,r,k.size)),q.send(k.blob)},function(){aU(a,{error:"Problem signing the chunk!"},q)})}function av(w){var v,u={},t=a4.endpointStore.getEndpoint(w),r=qq.s3.util.getBucket(t),q=a0(w),p=(new Date).toUTCString(),o=aA(w),a=new qq.Promise;return u["x-amz-date"]=p,v={headers:"PUT\n\n\n\nx-amz-date:"+p+"\n/"+r+"/"+q+o},a6.getSignature(w,v).then(function(c){u.Authorization="AWS "+a4.accessKey+":"+c.signature,a.success(u)},a.failure),a}function au(b){return aq[b].chunking.uploadId?(new qq.Promise).success(aq[b].chunking.uploadId):aB.send(b).then(function(a){aq[b].chunking.uploadId=a})}function at(j){var h,q=aC(j),p=aq[j].xhr,o=aT(j),k=aa.getChunkData(j,q);o.success?(aq[j].chunking.lastSent=q,h=p.getResponseHeader("ETag"),aq[j].chunking.etags||(aq[j].chunking.etags=[]),aq[j].chunking.etags.push({part:q+1,etag:h}),aq[j].loaded+=k.size,aM(j),ay(j)):(o.error&&a1(o.error,"error"),aU(j))}var ar,aq=[],ap=200,ao=a4.onProgress,an=a4.onComplete,am=a4.onUpload,al=a4.getKeyName,ak=a4.filenameParam,aj=a4.paramsStore,ai=a4.endpointStore,ah=a4.accessKey,ag=a4.objectProperties.acl,af=a4.validation,ae=a4.signature,ad=a4.chunking.enabled&&qq.supportedFeatures.chunking,ac=a4.resume.enabled&&ad&&qq.supportedFeatures.resume&&void 0!==window.localStorage,aa={},aD=new qq.s3.SignatureAjaxRequestor({expectingPolicy:!0,signatureSpec:ae,cors:a4.cors,log:a1}),a6=new qq.s3.SignatureAjaxRequestor({signatureSpec:ae,cors:a4.cors,log:a1}),aB=new qq.s3.InitiateMultipartAjaxRequester({filenameParam:ak,endpointStore:ai,paramsStore:aj,signatureSpec:ae,accessKey:a4.accessKey,acl:ag,cors:a4.cors,log:a1,getContentType:function(b){return ar.getFile(b).type},getKey:function(b){return a0(b)},getName:function(b){return ar.getName(b)}}),a5=new qq.s3.CompleteMultipartAjaxRequester({endpointStore:ai,signatureSpec:ae,accessKey:a4.accessKey,cors:a4.cors,log:a1,getKey:function(b){return a0(b)}}),aE=new qq.s3.AbortMultipartAjaxRequester({endpointStore:ai,signatureSpec:ae,accessKey:a4.accessKey,cors:a4.cors,log:a1,getKey:function(b){return a0(b)}});return ar=new qq.UploadHandlerXhrApi(aa,aq,ad?a4.chunking:null,aR,a4.onCancel,a2,a1),aI(),qq.override(ar,function(b){return{add:function(a){var f=b.add(a);return ac&&aN(f),f},getResumableFilesData:function(){return aJ()},expunge:function(a){var g=aq[a].chunking&&aq[a].chunking.uploadId,f=aL(a);void 0!==g&&f&&aE.send(a,g),b.expunge(a)},getThirdPartyFileId:function(c){return aZ(c)}}})},qq.s3.UploadHandlerForm=function(X,W,V,U){function T(a,r){var q=X.endpointStore.getEndpoint(a),p=qq.s3.util.getBucket(q);try{var o=r.contentDocument||r.contentWindow.document;o.body.innerHTML;var k=qq.s3.util.parseIframeResponse(r);if(k.bucket===p&&k.key===qq.s3.util.encodeQueryStringParam(N[a].key)){return !0}M("Response from AWS included an unexpected bucket or key name.","error")}catch(j){M("Error when attempting to parse form upload response ("+j.message+")","error")}return !1}function S(f){var c=H.getParams(f);return c[I]=O.getName(f),qq.s3.util.generateAwsParams({endpoint:G.getEndpoint(f),params:c,key:N[f].key,accessKey:F,acl:E,minFileSize:D.minSizeLimit,maxFileSize:D.maxSizeLimit,successRedirectUrl:B,log:M},qq.bind(A.getSignature,this,f))}function R(a,p){var o=new qq.Promise,k=X.demoMode?"GET":"POST",j=X.endpointStore.getEndpoint(a),f=O.getName(a);return S(a).then(function(g){var c=z.initFormForUpload({method:k,endpoint:j,params:g,paramsInBody:!0,targetName:p.name});o.success(c)},function(b){o.failure(b),P(a,p,f,{error:b})}),o}function Q(g){var f=O.getName(g),j=z.createIframe(g),h=N[g].input;R(g,j).then(function(a){K(g,f),a.appendChild(h),z.attachLoadEvent(j,function(b){M("iframe loaded"),b?b.success===!1&&M("Amazon likely rejected the upload request","error"):(b={},b.success=T(g,j),b.success===!1&&M("A success response was received by Amazon, but it was invalid in some way.","error")),P(g,j,f,b)}),M("Sending upload request for "+g),a.submit(),qq(a).remove()})}function P(h,g,b,a){z.detachLoadEvent(h),qq(g).remove(),(a.success||!X.onAutoRetry(h,b,a))&&(L(h,b,a),W(h))}var O,N=[],W=W,M=U,L=X.onComplete,K=X.onUpload,J=X.getKeyName,I=X.filenameParam,H=X.paramsStore,G=X.endpointStore,F=X.accessKey,E=X.objectProperties.acl,D=X.validation,C=X.signature,B=X.iframeSupport.localBlankPagePath,A=new qq.s3.SignatureAjaxRequestor({signatureSpec:C,cors:X.cors,log:M}),z={};if(void 0===B){throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!")}return O=new qq.UploadHandlerFormApi(z,N,!1,"file",X.onCancel,V,M),qq.extend(O,{upload:function(g){var f=N[g].input,h=O.getName(g);if(!f){throw new Error("file with passed id was not added, or already uploaded or cancelled")}O.isValid(g)&&(N[g].key?Q(g):J(g,h).then(function(a){N[g].key=a,Q(g)}))},getThirdPartyFileId:function(b){return N[b].key}}),O},function(b){b.fn.fineUploaderS3=function(a){return"object"==typeof a&&(a.endpointType="s3"),b.fn.fineUploader.apply(this,arguments)}}(jQuery),function(C){function B(f){if(f){var c=u(f),g=A(c);x(g),v(c,g)}return p}function A(g){var f=w("uploaderType"),h=w("endpointType");return f?(f=f.charAt(0).toUpperCase()+f.slice(1).toLowerCase(),h?new qq[h]["FineUploader"+f](g):new qq["FineUploader"+f](g)):h?new qq[h].FineUploader(g):new qq.FineUploader(g)}function z(g,f){var h=p.data("fineuploader");return f?(void 0===h&&(h={}),h[g]=f,p.data("fineuploader",h),void 0):void 0===h?null:h[g]}function x(b){return z("uploader",b)}function w(f,c){return z(f,c)}function v(a,g){var f=a.callbacks={};C.each(g._options.callbacks,function(h,D){var k,j;k=/^on(\w+)/.exec(h)[1],k=k.substring(0,1).toLowerCase()+k.substring(1),j=p,f[h]=function(){var c,G,F=Array.prototype.slice.call(arguments),E=[];return C.each(F,function(I,H){E.push(q(H))}),c=D.apply(this,F),G=j.triggerHandler(k,E),c||G}}),g._options.callbacks=f}function u(a,h){var g,f;return g=void 0===h?"basic"!==a.uploaderType?{element:p[0]}:{}:h,C.each(a,function(j,k){C.inArray(j,o)>=0?w(j,k):k instanceof C?g[j]=k[0]:C.isPlainObject(k)?(g[j]={},u(k,g[j])):C.isArray(k)?(f=[],C.each(k,function(D,F){var E={};F instanceof C?C.merge(f,F):C.isPlainObject(F)?(u(F,E),f.push(E)):f.push(F)}),g[j]=f):g[j]=k}),void 0===h?g:void 0}function t(a){return"string"===C.type(a)&&!a.match(/^_/)&&void 0!==x()[a]}function r(g){var f,j=[],h=Array.prototype.slice.call(arguments,1);return u(h,j),f=x()[g].apply(x(),j),q(f)}function q(a){var f=a;return null==a||"object"!=typeof a||1!==a.nodeType&&9!==a.nodeType||!a.cloneNode||(f=C(a)),f}var p,o=["uploaderType","endpointType"];C.fn.fineUploader=function(j){var h=this,b=arguments,a=[];return this.each(function(f,c){if(p=C(c),x()&&t(j)){if(a.push(r.apply(h,b)),1===h.length){return !1}}else{"object"!=typeof j&&j?C.error("Method "+j+" does not exist on jQuery.fineUploader"):B.apply(h,b)}}),1===a.length?a[0]:a.length>1?a:this}}(jQuery),function(x){function w(f){f||(f={}),f.dropZoneElements=[o];var c=r(f);return t(c),u(new qq.DragAndDrop(c)),o}function v(g,f){var h=o.data(k);return f?(void 0===h&&(h={}),h[g]=f,o.data(k,h),void 0):void 0===h?null:h[g]}function u(b){return v("dndInstance",b)}function t(a){var f=a.callbacks={};new qq.FineUploaderBasic,x.each(new qq.DragAndDrop.callbacks,function(g){var c,h=g;c=o,f[g]=function(){var b=Array.prototype.slice.call(arguments),j=c.triggerHandler(h,b);return j}})}function r(a,h){var g,f;return g=void 0===h?{}:h,x.each(a,function(j,z){z instanceof x?g[j]=z[0]:x.isPlainObject(z)?(g[j]={},r(z,g[j])):x.isArray(z)?(f=[],x.each(z,function(A,B){B instanceof x?x.merge(f,B):f.push(B)}),g[j]=f):g[j]=z}),void 0===h?g:void 0}function q(a){return"string"===x.type(a)&&"dispose"===a&&void 0!==u()[a]}function p(g){var f=[],h=Array.prototype.slice.call(arguments,1);return r(h,f),u()[g].apply(u(),f)}var o,k="fineUploaderDnd";x.fn.fineUploaderDnd=function(h){var g=this,b=arguments,a=[];return this.each(function(f,c){if(o=x(c),u()&&q(h)){if(a.push(p.apply(g,b)),1===g.length){return !1}}else{"object"!=typeof h&&h?x.error("Method "+h+" does not exist in Fine Uploader's DnD module."):w.apply(g,b)}}),1===a.length?a[0]:a.length>1?a:this}}(jQuery);
/*! 2013-09-18 */
;
/*!jQuery Knob*/
(function(f){var b={},a=Math.max,c=Math.min;b.c={};b.c.d=f(document);b.c.t=function(g){return g.originalEvent.touches.length-1};b.o=function(){var g=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.run=function(){var h=function(p,o){var j;for(j in o){g.o[j]=o[j]}g.init();g._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=f.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:true,readOnly:this.$.data("readonly"),cursor:(this.$.data("cursor")===true&&30)||this.$.data("cursor")||0,thickness:this.$.data("thickness")||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||this.$.data("fgcolor")||"#87CEEB",inline:false,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null},this.o);if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(j){var o=f(this);g.i[j]=o;g.v[j]=o.val();o.bind("change",function(){var k={};k[j]=o.val();g.val(k)})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.$.val();(this.v=="")&&(this.v=this.o.min);this.$.bind("change",function(){g.val(g._validate(g.$.val()))})}(!this.o.displayInput)&&this.$.hide();this.$c=f('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>');this.c=this.$c[0].getContext("2d");this.$.wrap(f('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c);if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",h).parent().bind("configure",h);this._listen()._configure()._xy().init();this.isInit=true;this._draw();return this};this._draw=function(){var h=true,j=document.createElement("canvas");j.width=g.o.width;j.height=g.o.height;g.g=j.getContext("2d");g.clear();g.dH&&(h=g.dH());(h!==false)&&g.draw();g.c.drawImage(j,0,0);j=null};this._touch=function(h){var j=function(o){var k=g.xy2val(o.originalEvent.touches[g.t].pageX,o.originalEvent.touches[g.t].pageY);if(k==g.cv){return}if(g.cH&&(g.cH(k)===false)){return}g.change(g._validate(k));g._draw()};this.t=b.c.t(h);j(h);b.c.d.bind("touchmove.k",j).bind("touchend.k",function(){b.c.d.unbind("touchmove.k touchend.k");if(g.rH&&(g.rH(g.cv)===false)){return}g.val(g.cv)});return this};this._mouse=function(j){var h=function(o){var k=g.xy2val(o.pageX,o.pageY);if(k==g.cv){return}if(g.cH&&(g.cH(k)===false)){return}g.change(g._validate(k));g._draw()};h(j);b.c.d.bind("mousemove.k",h).bind("keyup.k",function(k){if(k.keyCode===27){b.c.d.unbind("mouseup.k mousemove.k keyup.k");if(g.eH&&(g.eH()===false)){return}g.cancel()}}).bind("mouseup.k",function(k){b.c.d.unbind("mousemove.k mouseup.k keyup.k");if(g.rH&&(g.rH(g.cv)===false)){return}g.val(g.cv)});return this};this._xy=function(){var h=this.$c.offset();this.x=h.left;this.y=h.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(h){h.preventDefault();g._xy()._mouse(h)}).bind("touchstart",function(h){h.preventDefault();g._xy()._touch(h)});this.listen()}else{this.$.attr("readonly","readonly")}return this};this._configure=function(){if(this.o.draw){this.dH=this.o.draw}if(this.o.change){this.cH=this.o.change}if(this.o.cancel){this.eH=this.o.cancel}if(this.o.release){this.rH=this.o.release}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(h){return(~~(((h<0)?-0.5:0.5)+(h/this.o.step)))*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(h){};this.val=function(h){};this.xy2val=function(h,j){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(o,j){var k;o=o.substring(1,7);k=[parseInt(o.substring(0,2),16),parseInt(o.substring(2,4),16),parseInt(o.substring(4,6),16)];return"rgba("+k[0]+","+k[1]+","+k[2]+","+j+")"};this.copy=function(k,j){for(var h in k){j[h]=k[h]}}};b.Dial=function(){b.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=f.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(g){if(null!=g){this.cv=this.o.stopper?a(c(g,this.o.max),this.o.min):g;this.v=this.cv;this.$.val(this.v);this._draw()}else{return this.v}};this.xy2val=function(g,k){var h,j;h=Math.atan2(g-(this.x+this.w2),-(k-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&(h<0)&&(h>-0.5)){h=0}else{if(h<0){h+=this.PI2}}j=~~(0.5+(h*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(j=a(c(j,this.o.max),this.o.min));return j};this.listen=function(){var h=this,p=function(w){w.preventDefault();var u=w.originalEvent,r=u.detail||u.wheelDeltaX,q=u.detail||u.wheelDeltaY,t=parseInt(h.$.val())+(r>0||q>0?h.o.step:r<0||q<0?-h.o.step:0);if(h.cH&&(h.cH(t)===false)){return}h.val(t)},k,o,g=1,j={37:-h.o.step,38:h.o.step,39:h.o.step,40:-h.o.step};this.$.bind("keydown",function(t){var r=t.keyCode;if(r>=96&&r<=105){r=t.keyCode=r-48}k=parseInt(String.fromCharCode(r));if(isNaN(k)){(r!==13)&&(r!==8)&&(r!==9)&&(r!==189)&&t.preventDefault();if(f.inArray(r,[37,38,39,40])>-1){t.preventDefault();var q=parseInt(h.$.val())+j[r]*g;h.o.stopper&&(q=a(c(q,h.o.max),h.o.min));h.change(q);h._draw();o=window.setTimeout(function(){g*=2},30)}}}).bind("keyup",function(q){if(isNaN(k)){if(o){window.clearTimeout(o);o=null;g=1;h.val(h.$.val())}}else{(h.$.val()>h.o.max&&h.$.val(h.o.max))||(h.$.val()<h.o.min&&h.$.val(h.o.min))}});this.$c.bind("mousewheel DOMMouseScroll",p);this.$.bind("mousewheel DOMMouseScroll",p)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.o.width/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var g=a(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:((this.o.width/2+4)>>0)+"px",height:((this.o.width/3)>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":((this.o.width/3)>>0)+"px","margin-left":"-"+((this.o.width*3/4+2)>>0)+"px",border:0,background:"none",font:"bold "+((this.o.width/g)>>0)+"px Arial","text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(g){this.cv=g;this.$.val(g)};this.angle=function(g){return(g-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var q=this.g,h=this.angle(this.cv),j=this.startAngle,k=j+h,g,o,p=1;q.lineWidth=this.lineWidth;q.lineCap=this.lineCap;this.o.cursor&&(j=k-this.cursorExt)&&(k=k+this.cursorExt);q.beginPath();q.strokeStyle=this.o.bgColor;q.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,true);q.stroke();if(this.o.displayPrevious){o=this.startAngle+this.angle(this.v);g=this.startAngle;this.o.cursor&&(g=o-this.cursorExt)&&(o=o+this.cursorExt);q.beginPath();q.strokeStyle=this.pColor;q.arc(this.xy,this.xy,this.radius,g,o,false);q.stroke();p=(this.cv==this.v)}q.beginPath();q.strokeStyle=p?this.o.fgColor:this.fgColor;q.arc(this.xy,this.xy,this.radius,j,k,false);q.stroke()};this.cancel=function(){this.val(this.v)}};f.fn.dial=f.fn.knob=function(g){return this.each(function(){var h=new b.Dial();h.o=g;h.$=f(this);h.run()}).parent()}})(jQuery);(function(b){b.color={};b.color.make=function(f,g,j,h){var c={};c.r=f||0;c.g=g||0;c.b=j||0;c.a=h!=null?h:1;c.add=function(k,o){for(var p=0;p<k.length;++p){c[k.charAt(p)]+=o}return c.normalize()};c.scale=function(k,o){for(var p=0;p<k.length;++p){c[k.charAt(p)]*=o}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function k(p,o,q){return o<p?p:(o>q?q:o)}c.r=k(0,parseInt(c.r),255);c.g=k(0,parseInt(c.g),255);c.b=k(0,parseInt(c.b),255);c.a=k(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(f,g){var c;do{c=f.css(g).toLowerCase();if(c!=""&&c!="transparent"){break}f=f.parent()}while(!b.nodeName(f.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var f,h=b.color.make;if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return h(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10))}if(f=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return h(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10),parseFloat(f[4]))}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return h(parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55)}if(f=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return h(parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55,parseFloat(f[4]))}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return h(parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16))}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return h(parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16))}var g=b.trim(c).toLowerCase();if(g=="transparent"){return h(255,255,255,0)}else{f=a[g]||[0,0,0];return h(f[0],f[1],f[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(g){var f=Object.prototype.hasOwnProperty;g(function(){g("head").prepend(["<style id='flot-default-styles'>",".flot-tick-label {font-size:smaller;color:#545454;}","</style>"].join(""))});function a(k,j){var p=j.children("."+k)[0];if(p==null){p=document.createElement("canvas");p.className=k;g(p).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(j);if(!p.getContext){if(window.G_vmlCanvasManager){p=window.G_vmlCanvasManager.initElement(p)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=p;var o=this.context=p.getContext("2d");var h=window.devicePixelRatio||1,q=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=h/q;this.resize(j.width(),j.height());this.text={};this._textCache={}}a.prototype.resize=function(o,h){if(o<=0||h<=0){throw new Error("Invalid dimensions for plot, width = "+o+", height = "+h)}var k=this.element,j=this.context,p=this.pixelRatio;if(this.width!=o){k.width=o*p;k.style.width=o+"px";this.width=o}if(this.height!=h){k.height=h*p;k.style.height=h+"px";this.height=h}j.restore();j.save();j.scale(p,p)};a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};a.prototype.render=function(){var h=this._textCache;for(var q in h){if(f.call(h,q)){var p=this.getTextLayer(q),j=h[q];p.hide();for(var o in j){if(f.call(j,o)){var t=j[o];for(var k in t){if(f.call(t,k)){var r=t[k];if(r.active){if(!r.rendered){p.append(r.element);r.rendered=true}}else{delete t[k];if(r.rendered){r.element.detach()}}}}}}p.show()}}};a.prototype.getTextLayer=function(j){var h=this.text[j];if(h==null){h=this.text[j]=g("<div></div>").addClass("flot-text "+j).css({position:"absolute",top:0,left:0,bottom:0,right:0}).insertAfter(this.element)}return h};a.prototype.getTextInfo=function(r,u,o,p){var t,h,j,k;u=""+u;if(typeof o==="object"){t=o.style+" "+o.variant+" "+o.weight+" "+o.size+"px "+o.family}else{t=o}h=this._textCache[r];if(h==null){h=this._textCache[r]={}}j=h[t];if(j==null){j=h[t]={}}k=j[u];if(k==null){var q=g("<div></div>").html(u).css({position:"absolute",top:-9999}).appendTo(this.getTextLayer(r));if(typeof o==="object"){q.css({font:t,color:o.color})}else{if(typeof o==="string"){q.addClass(o)}}k=j[u]={active:false,rendered:false,element:q,width:q.outerWidth(true),height:q.outerHeight(true)};q.detach()}return k};a.prototype.addText=function(p,t,q,u,j,k,o,r){var h=this.getTextInfo(p,u,j,k);h.active=true;if(o=="center"){t-=h.width/2}else{if(o=="right"){t-=h.width}}if(r=="middle"){q-=h.height/2}else{if(r=="bottom"){q-=h.height}}h.element.css({top:parseInt(q,10),left:parseInt(t,10)})};a.prototype.removeText=function(p,t,h,r){if(t==null){var j=this._textCache[p];if(j!=null){for(var o in j){if(f.call(j,o)){var q=j[o];for(var k in q){if(f.call(q,k)){q[k].active=false}}}}}}else{this.getTextInfo(p,t,h,r).active=false}};function c(Y,I,K,j){var B=[],T={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},ak=null,au=null,av=null,L=null,aE=null,ax=[],ae=[],R={left:0,right:0,top:0,bottom:0},q=0,al=0,w={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},k=this;k.setData=S;k.setupGrid=W;k.draw=aC;k.getPlaceholder=function(){return Y};k.getCanvas=function(){return ak.element};k.getPlotOffset=function(){return R};k.width=function(){return q};k.height=function(){return al};k.offset=function(){var aG=av.offset();aG.left+=R.left;aG.top+=R.top;return aG};k.getData=function(){return B};k.getAxes=function(){var aH={},aG;g.each(ax.concat(ae),function(aI,aJ){if(aJ){aH[aJ.direction+(aJ.n!=1?aJ.n:"")+"axis"]=aJ}});return aH};k.getXAxes=function(){return ax};k.getYAxes=function(){return ae};k.c2p=ag;k.p2c=Z;k.getOptions=function(){return T};k.highlight=aw;k.unhighlight=ap;k.triggerRedrawOverlay=af;k.pointOffset=function(aG){return{left:parseInt(ax[F(aG,"x")-1].p2c(+aG.x)+R.left,10),top:parseInt(ae[F(aG,"y")-1].p2c(+aG.y)+R.top,10)}};k.shutdown=v;k.resize=function(){var aH=Y.width(),aG=Y.height();ak.resize(aH,aG);au.resize(aH,aG)};k.hooks=w;P(k);ai(K);aF();S(I);W();aC();aA();function N(aI,aG){aG=[k].concat(aG);for(var aH=0;aH<aI.length;++aH){aI[aH].apply(this,aG)}}function P(){var aH={Canvas:a};for(var aG=0;aG<j.length;++aG){var aI=j[aG];aI.init(k,aH);if(aI.options){g.extend(true,T,aI.options)}}}function ai(aI){g.extend(true,T,aI);if(T.xaxis.color==null){T.xaxis.color=g.color.parse(T.grid.color).scale("a",0.22).toString()}if(T.yaxis.color==null){T.yaxis.color=g.color.parse(T.grid.color).scale("a",0.22).toString()}if(T.xaxis.tickColor==null){T.xaxis.tickColor=T.grid.tickColor||T.xaxis.color}if(T.yaxis.tickColor==null){T.yaxis.tickColor=T.grid.tickColor||T.yaxis.color}if(T.grid.borderColor==null){T.grid.borderColor=T.grid.color}if(T.grid.tickColor==null){T.grid.tickColor=g.color.parse(T.grid.color).scale("a",0.22).toString()}var aG,aL,aJ,aH={style:Y.css("font-style"),size:Math.round(0.8*(+Y.css("font-size").replace("px","")||13)),variant:Y.css("font-variant"),weight:Y.css("font-weight"),family:Y.css("font-family")};aJ=T.xaxes.length||1;for(aG=0;aG<aJ;++aG){aL=g.extend(true,{},T.xaxis,T.xaxes[aG]);T.xaxes[aG]=aL;if(aL.font){aL.font=g.extend({},aH,aL.font);if(!aL.font.color){aL.font.color=aL.color}}}aJ=T.yaxes.length||1;for(aG=0;aG<aJ;++aG){aL=g.extend(true,{},T.yaxis,T.yaxes[aG]);T.yaxes[aG]=aL;if(aL.font){aL.font=g.extend({},aH,aL.font);if(!aL.font.color){aL.font.color=aL.color}}}if(T.xaxis.noTicks&&T.xaxis.ticks==null){T.xaxis.ticks=T.xaxis.noTicks}if(T.yaxis.noTicks&&T.yaxis.ticks==null){T.yaxis.ticks=T.yaxis.noTicks}if(T.x2axis){T.xaxes[1]=g.extend(true,{},T.xaxis,T.x2axis);T.xaxes[1].position="top"}if(T.y2axis){T.yaxes[1]=g.extend(true,{},T.yaxis,T.y2axis);T.yaxes[1].position="right"}if(T.grid.coloredAreas){T.grid.markings=T.grid.coloredAreas}if(T.grid.coloredAreasColor){T.grid.markingsColor=T.grid.coloredAreasColor}if(T.lines){g.extend(true,T.series.lines,T.lines)}if(T.points){g.extend(true,T.series.points,T.points)}if(T.bars){g.extend(true,T.series.bars,T.bars)}if(T.shadowSize!=null){T.series.shadowSize=T.shadowSize}if(T.highlightColor!=null){T.series.highlightColor=T.highlightColor}for(aG=0;aG<T.xaxes.length;++aG){U(ax,aG+1).options=T.xaxes[aG]}for(aG=0;aG<T.yaxes.length;++aG){U(ae,aG+1).options=T.yaxes[aG]}for(var aK in w){if(T.hooks[aK]&&T.hooks[aK].length){w[aK]=w[aK].concat(T.hooks[aK])}}N(w.processOptions,[T])}function S(aG){B=x(aG);G();aa()}function x(aJ){var aH=[];for(var aG=0;aG<aJ.length;++aG){var aI=g.extend(true,{},T.series);if(aJ[aG].data!=null){aI.data=aJ[aG].data;delete aJ[aG].data;g.extend(true,aI,aJ[aG]);aJ[aG].data=aI.data}else{aI.data=aJ[aG]}aH.push(aI)}return aH}function F(aH,aI){var aG=aH[aI+"axis"];if(typeof aG=="object"){aG=aG.n}if(typeof aG!="number"){aG=1}return aG}function p(){return g.grep(ax.concat(ae),function(aG){return aG})}function ag(aJ){var aH={},aG,aI;for(aG=0;aG<ax.length;++aG){aI=ax[aG];if(aI&&aI.used){aH["x"+aI.n]=aI.c2p(aJ.left)}}for(aG=0;aG<ae.length;++aG){aI=ae[aG];if(aI&&aI.used){aH["y"+aI.n]=aI.c2p(aJ.top)}}if(aH.x1!==undefined){aH.x=aH.x1}if(aH.y1!==undefined){aH.y=aH.y1}return aH}function Z(aK){var aI={},aH,aJ,aG;for(aH=0;aH<ax.length;++aH){aJ=ax[aH];if(aJ&&aJ.used){aG="x"+aJ.n;if(aK[aG]==null&&aJ.n==1){aG="x"}if(aK[aG]!=null){aI.left=aJ.p2c(aK[aG]);break}}}for(aH=0;aH<ae.length;++aH){aJ=ae[aH];if(aJ&&aJ.used){aG="y"+aJ.n;if(aK[aG]==null&&aJ.n==1){aG="y"}if(aK[aG]!=null){aI.top=aJ.p2c(aK[aG]);break}}}return aI}function U(aH,aG){if(!aH[aG-1]){aH[aG-1]={n:aG,direction:aH==ax?"x":"y",options:g.extend(true,{},aH==ax?T.xaxis:T.yaxis)}}return aH[aG-1]}function G(){var aR=B.length,aI=-1,aJ;for(aJ=0;aJ<B.length;++aJ){var aO=B[aJ].color;if(aO!=null){aR--;if(typeof aO=="number"&&aO>aI){aI=aO}}}if(aR<=aI){aR=aI+1}var aN,aG=[],aM=T.colors,aL=aM.length,aH=0;for(aJ=0;aJ<aR;aJ++){aN=g.color.parse(aM[aJ%aL]||"#666");if(aJ%aL==0&&aJ){if(aH>=0){if(aH<0.5){aH=-aH-0.2}else{aH=0}}else{aH=-aH}}aG[aJ]=aN.scale("rgb",1+aH)}var aK=0,aS;for(aJ=0;aJ<B.length;++aJ){aS=B[aJ];if(aS.color==null){aS.color=aG[aK].toString();++aK}else{if(typeof aS.color=="number"){aS.color=aG[aS.color].toString()}}if(aS.lines.show==null){var aQ,aP=true;for(aQ in aS){if(aS[aQ]&&aS[aQ].show){aP=false;break}}if(aP){aS.lines.show=true}}if(aS.lines.zero==null){aS.lines.zero=!!aS.lines.fill}aS.xaxis=U(ax,F(aS,"x"));aS.yaxis=U(ae,F(aS,"y"))}}function aa(){var aU=Number.POSITIVE_INFINITY,aO=Number.NEGATIVE_INFINITY,aG=Number.MAX_VALUE,a1,aZ,aY,aT,aI,aP,a0,aV,aN,aM,aH,a7,a4,aR,a6,a3;function aK(ba,a9,a8){if(a9<ba.datamin&&a9!=-aG){ba.datamin=a9}if(a8>ba.datamax&&a8!=aG){ba.datamax=a8}}g.each(p(),function(a8,a9){a9.datamin=aU;a9.datamax=aO;a9.used=false});for(a1=0;a1<B.length;++a1){aP=B[a1];aP.datapoints={points:[]};N(w.processRawData,[aP,aP.data,aP.datapoints])}for(a1=0;a1<B.length;++a1){aP=B[a1];a6=aP.data;a3=aP.datapoints.format;if(!a3){a3=[];a3.push({x:true,number:true,required:true});a3.push({y:true,number:true,required:true});if(aP.bars.show||(aP.lines.show&&aP.lines.fill)){var aW=!!((aP.bars.show&&aP.bars.zero)||(aP.lines.show&&aP.lines.zero));a3.push({y:true,number:true,required:false,defaultValue:0,autoscale:aW});if(aP.bars.horizontal){delete a3[a3.length-1].y;a3[a3.length-1].x=true}}aP.datapoints.format=a3}if(aP.datapoints.pointsize!=null){continue}aP.datapoints.pointsize=a3.length;aV=aP.datapoints.pointsize;a0=aP.datapoints.points;var aL=aP.lines.show&&aP.lines.steps;aP.xaxis.used=aP.yaxis.used=true;for(aZ=aY=0;aZ<a6.length;++aZ,aY+=aV){aR=a6[aZ];var aJ=aR==null;if(!aJ){for(aT=0;aT<aV;++aT){a7=aR[aT];a4=a3[aT];if(a4){if(a4.number&&a7!=null){a7=+a7;if(isNaN(a7)){a7=null}else{if(a7==Infinity){a7=aG}else{if(a7==-Infinity){a7=-aG}}}}if(a7==null){if(a4.required){aJ=true}if(a4.defaultValue!=null){a7=a4.defaultValue}}}a0[aY+aT]=a7}}if(aJ){for(aT=0;aT<aV;++aT){a7=a0[aY+aT];if(a7!=null){a4=a3[aT];if(a4.x){aK(aP.xaxis,a7,a7)}if(a4.y){aK(aP.yaxis,a7,a7)}}a0[aY+aT]=null}}else{if(aL&&aY>0&&a0[aY-aV]!=null&&a0[aY-aV]!=a0[aY]&&a0[aY-aV+1]!=a0[aY+1]){for(aT=0;aT<aV;++aT){a0[aY+aV+aT]=a0[aY+aT]}a0[aY+1]=a0[aY-aV+1];aY+=aV}}}}for(a1=0;a1<B.length;++a1){aP=B[a1];N(w.processDatapoints,[aP,aP.datapoints])}for(a1=0;a1<B.length;++a1){aP=B[a1];a0=aP.datapoints.points,aV=aP.datapoints.pointsize;a3=aP.datapoints.format;var aQ=aU,aX=aU,aS=aO,a2=aO;for(aZ=0;aZ<a0.length;aZ+=aV){if(a0[aZ]==null){continue}for(aT=0;aT<aV;++aT){a7=a0[aZ+aT];a4=a3[aT];if(!a4||a4.autoscale===false||a7==aG||a7==-aG){continue}if(a4.x){if(a7<aQ){aQ=a7}if(a7>aS){aS=a7}}if(a4.y){if(a7<aX){aX=a7}if(a7>a2){a2=a7}}}}if(aP.bars.show){var a5;switch(aP.bars.align){case"left":a5=0;break;case"right":a5=-aP.bars.barWidth;break;case"center":a5=-aP.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aP.bars.align)}if(aP.bars.horizontal){aX+=a5;a2+=a5+aP.bars.barWidth}else{aQ+=a5;aS+=a5+aP.bars.barWidth}}aK(aP.xaxis,aQ,aS);aK(aP.yaxis,aX,a2)}g.each(p(),function(a8,a9){if(a9.datamin==aU){a9.datamin=null}if(a9.datamax==aO){a9.datamax=null}})}function aF(){Y.css("padding",0).children(":not(.flot-base,.flot-overlay)").remove();if(Y.css("position")=="static"){Y.css("position","relative")}ak=new a("flot-base",Y);au=new a("flot-overlay",Y);L=ak.context;aE=au.context;av=g(au.element).unbind();var aG=Y.data("plot");if(aG){aG.shutdown();au.clear()}Y.data("plot",k)}function aA(){if(T.grid.hoverable){av.mousemove(h);av.bind("mouseleave",X)}if(T.grid.clickable){av.click(Q)}N(w.bindEvents,[av])}function v(){if(r){clearTimeout(r)}av.unbind("mousemove",h);av.unbind("mouseleave",X);av.unbind("click",Q);N(w.shutdown,[av])}function u(aL){function aH(aM){return aM}var aK,aG,aI=aL.options.transform||aH,aJ=aL.options.inverseTransform;if(aL.direction=="x"){aK=aL.scale=q/Math.abs(aI(aL.max)-aI(aL.min));aG=Math.min(aI(aL.max),aI(aL.min))}else{aK=aL.scale=al/Math.abs(aI(aL.max)-aI(aL.min));aK=-aK;aG=Math.max(aI(aL.max),aI(aL.min))}if(aI==aH){aL.p2c=function(aM){return(aM-aG)*aK}}else{aL.p2c=function(aM){return(aI(aM)-aG)*aK}}if(!aJ){aL.c2p=function(aM){return aG+aM/aK}}else{aL.c2p=function(aM){return aJ(aG+aM/aK)}}}function ah(aJ){var aG=aJ.options,aO=aJ.ticks||[],aP=aG.labelWidth||0,aN=aG.labelHeight||0,aL=aJ.direction+"Axis "+aJ.direction+aJ.n+"Axis",aM="flot-"+aJ.direction+"-axis flot-"+aJ.direction+aJ.n+"-axis "+aL,aI=aG.font||"flot-tick-label tickLabel";for(var aK=0;aK<aO.length;++aK){var aQ=aO[aK];if(!aQ.label){continue}var aH=ak.getTextInfo(aM,aQ.label,aI);if(aG.labelWidth==null){aP=Math.max(aP,aH.width)}if(aG.labelHeight==null){aN=Math.max(aN,aH.height)}}aJ.labelWidth=Math.ceil(aP);aJ.labelHeight=Math.ceil(aN)}function M(aI){var aH=aI.labelWidth,aQ=aI.labelHeight,aM=aI.options.position,aK=aI.options.tickLength,aL=T.grid.axisMargin,aO=T.grid.labelMargin,aP=aI.direction=="x"?ax:ae,aJ,aR;var aG=g.grep(aP,function(aS){return aS&&aS.options.position==aM&&aS.reserveSpace});if(g.inArray(aI,aG)==aG.length-1){aL=0}if(aK==null){var aN=g.grep(aP,function(aS){return aS&&aS.reserveSpace});aR=g.inArray(aI,aN)==0;if(aR){aK="full"}else{aK=5}}if(!isNaN(+aK)){aO+=+aK}if(aI.direction=="x"){aQ+=aO;if(aM=="bottom"){R.bottom+=aQ+aL;aI.box={top:ak.height-R.bottom,height:aQ}}else{aI.box={top:R.top+aL,height:aQ};R.top+=aQ+aL}}else{aH+=aO;if(aM=="left"){aI.box={left:R.left+aL,width:aH};R.left+=aH+aL}else{R.right+=aH+aL;aI.box={left:ak.width-R.right,width:aH}}}aI.position=aM;aI.tickLength=aK;aI.box.padding=aO;aI.innermost=aR}function aj(aG){if(aG.direction=="x"){aG.box.left=R.left-aG.labelWidth/2;aG.box.width=ak.width-R.left-R.right+aG.labelWidth}else{aG.box.top=R.top-aG.labelHeight/2;aG.box.height=ak.height-R.bottom-R.top+aG.labelHeight}}function J(){var aI=T.grid.minBorderMargin,aJ={x:0,y:0},aG,aH;if(aI==null){aI=0;for(aG=0;aG<B.length;++aG){aI=Math.max(aI,2*(B[aG].points.radius+B[aG].points.lineWidth/2))}}aJ.x=aJ.y=Math.ceil(aI);g.each(p(),function(aL,aM){var aK=aM.direction;if(aM.reserveSpace){aJ[aK]=Math.ceil(Math.max(aJ[aK],(aK=="x"?aM.labelWidth:aM.labelHeight)/2))}});R.left=Math.max(aJ.x,R.left);R.right=Math.max(aJ.x,R.right);R.top=Math.max(aJ.y,R.top);R.bottom=Math.max(aJ.y,R.bottom)}function W(){var aI,aK=p(),aL=T.grid.show;for(var aH in R){var aJ=T.grid.margin||0;R[aH]=typeof aJ=="number"?aJ:aJ[aH]||0}N(w.processOffset,[R]);for(var aH in R){if(typeof(T.grid.borderWidth)=="object"){R[aH]+=aL?T.grid.borderWidth[aH]:0}else{R[aH]+=aL?T.grid.borderWidth:0}}g.each(aK,function(aM,aN){aN.show=aN.options.show;if(aN.show==null){aN.show=aN.used}aN.reserveSpace=aN.show||aN.options.reserveSpace;t(aN)});if(aL){var aG=g.grep(aK,function(aM){return aM.reserveSpace});g.each(aG,function(aM,aN){az(aN);ad(aN);C(aN,aN.ticks);ah(aN)});for(aI=aG.length-1;aI>=0;--aI){M(aG[aI])}J();g.each(aG,function(aM,aN){aj(aN)})}q=ak.width-R.left-R.right;al=ak.height-R.bottom-R.top;g.each(aK,function(aM,aN){u(aN)});if(aL){aB()}aD()}function t(aJ){var aK=aJ.options,aI=+(aK.min!=null?aK.min:aJ.datamin),aG=+(aK.max!=null?aK.max:aJ.datamax),aM=aG-aI;if(aM==0){var aH=aG==0?1:0.01;if(aK.min==null){aI-=aH}if(aK.max==null||aK.min!=null){aG+=aH}}else{var aL=aK.autoscaleMargin;if(aL!=null){if(aK.min==null){aI-=aM*aL;if(aI<0&&aJ.datamin!=null&&aJ.datamin>=0){aI=0}}if(aK.max==null){aG+=aM*aL;if(aG>0&&aJ.datamax!=null&&aJ.datamax<=0){aG=0}}}}aJ.min=aI;aJ.max=aG}function az(aK){var aM=aK.options;var aJ;if(typeof aM.ticks=="number"&&aM.ticks>0){aJ=aM.ticks}else{aJ=0.3*Math.sqrt(aK.direction=="x"?ak.width:ak.height)}aK.delta=(aK.max-aK.min)/aJ;if(aM.mode=="time"&&!aK.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aK.tickGenerator){aK.tickGenerator=function(aR){var aP=aM.tickDecimals,aT=-Math.floor(Math.log(aR.delta)/Math.LN10);if(aP!=null&&aT>aP){aT=aP}var aN=Math.pow(10,-aT),aO=aR.delta/aN,aX,aV=[],aQ,aU=0,aW=Number.NaN,aS;if(aO<1.5){aX=1}else{if(aO<3){aX=2;if(aO>2.25&&(aP==null||aT+1<=aP)){aX=2.5;++aT}}else{if(aO<7.5){aX=5}else{aX=10}}}aX*=aN;if(aM.minTickSize!=null&&aX<aM.minTickSize){aX=aM.minTickSize}aR.tickDecimals=Math.max(0,aP!=null?aP:aT);aR.tickSize=aM.tickSize||aX;aQ=b(aR.min,aR.tickSize);do{aS=aW;aW=aQ+aU*aR.tickSize;aV.push(aW);++aU}while(aW<aR.max&&aW!=aS);return aV};aK.tickFormatter=function(aS,aQ){var aP=aQ.tickDecimals?Math.pow(10,aQ.tickDecimals):1;var aR=""+Math.round(aS*aP)/aP;if(aQ.tickDecimals!=null){var aO=aR.indexOf(".");var aN=aO==-1?0:aR.length-aO-1;if(aN<aQ.tickDecimals){return(aN?aR:aR+".")+(""+aP).substr(1,aQ.tickDecimals-aN)}}return aR}}if(g.isFunction(aM.tickFormatter)){aK.tickFormatter=function(aN,aO){return""+aM.tickFormatter(aN,aO)}}if(aM.alignTicksWithAxis!=null){var aH=(aK.direction=="x"?ax:ae)[aM.alignTicksWithAxis-1];if(aH&&aH.used&&aH!=aK){var aG=aK.tickGenerator(aK);if(aG.length>0){if(aM.min==null){aK.min=Math.min(aK.min,aG[0])}if(aM.max==null&&aG.length>1){aK.max=Math.max(aK.max,aG[aG.length-1])}}aK.tickGenerator=function(aP){var aQ=[],aN,aO;for(aO=0;aO<aH.ticks.length;++aO){aN=(aH.ticks[aO].v-aH.min)/(aH.max-aH.min);aN=aP.min+aN*(aP.max-aP.min);aQ.push(aN)}return aQ};if(!aK.mode&&aM.tickDecimals==null){var aI=Math.max(0,-Math.floor(Math.log(aK.delta)/Math.LN10)+1),aL=aK.tickGenerator(aK);if(!(aL.length>1&&/\..*0$/.test((aL[1]-aL[0]).toFixed(aI)))){aK.tickDecimals=aI}}}}}function ad(aK){var aM=aK.options.ticks,aL=[];if(aM==null||(typeof aM=="number"&&aM>0)){aL=aK.tickGenerator(aK)}else{if(aM){if(g.isFunction(aM)){aL=aM(aK)}else{aL=aM}}}var aJ,aG;aK.ticks=[];for(aJ=0;aJ<aL.length;++aJ){var aH=null;var aI=aL[aJ];if(typeof aI=="object"){aG=+aI[0];if(aI.length>1){aH=aI[1]}}else{aG=+aI}if(aH==null){aH=aK.tickFormatter(aG,aK)}if(!isNaN(aG)){aK.ticks.push({v:aG,label:aH})}}}function C(aG,aH){if(aG.options.autoscaleMargin&&aH.length>0){if(aG.options.min==null){aG.min=Math.min(aG.min,aH[0].v)}if(aG.options.max==null&&aH.length>1){aG.max=Math.max(aG.max,aH[aH.length-1].v)}}}function aC(){ak.clear();N(w.drawBackground,[L]);var aH=T.grid;if(aH.show&&aH.backgroundColor){z()}if(aH.show&&!aH.aboveData){E()}for(var aG=0;aG<B.length;++aG){N(w.drawSeries,[L,B[aG]]);ar(B[aG])}N(w.draw,[L]);if(aH.show&&aH.aboveData){E()}ak.render()}function A(aG,aK){var aH,aM,aN,aO,aL=p();for(var aJ=0;aJ<aL.length;++aJ){aH=aL[aJ];if(aH.direction==aK){aO=aK+aH.n+"axis";if(!aG[aO]&&aH.n==1){aO=aK+"axis"}if(aG[aO]){aM=aG[aO].from;aN=aG[aO].to;break}}}if(!aG[aO]){aH=aK=="x"?ax[0]:ae[0];aM=aG[aK+"1"];aN=aG[aK+"2"]}if(aM!=null&&aN!=null&&aM>aN){var aI=aM;aM=aN;aN=aI}return{from:aM,to:aN,axis:aH}}function z(){L.save();L.translate(R.left,R.top);L.fillStyle=D(T.grid.backgroundColor,al,0,"rgba(255, 255, 255, 0)");L.fillRect(0,0,q,al);L.restore()}function E(){var aK,aQ,aS,aO;L.save();L.translate(R.left,R.top);var aM=T.grid.markings;if(aM){if(g.isFunction(aM)){aQ=k.getAxes();aQ.xmin=aQ.xaxis.min;aQ.xmax=aQ.xaxis.max;aQ.ymin=aQ.yaxis.min;aQ.ymax=aQ.yaxis.max;aM=aM(aQ)}for(aK=0;aK<aM.length;++aK){var aI=aM[aK],aH=A(aI,"x"),aN=A(aI,"y");if(aH.from==null){aH.from=aH.axis.min}if(aH.to==null){aH.to=aH.axis.max}if(aN.from==null){aN.from=aN.axis.min}if(aN.to==null){aN.to=aN.axis.max}if(aH.to<aH.axis.min||aH.from>aH.axis.max||aN.to<aN.axis.min||aN.from>aN.axis.max){continue}aH.from=Math.max(aH.from,aH.axis.min);aH.to=Math.min(aH.to,aH.axis.max);aN.from=Math.max(aN.from,aN.axis.min);aN.to=Math.min(aN.to,aN.axis.max);if(aH.from==aH.to&&aN.from==aN.to){continue}aH.from=aH.axis.p2c(aH.from);aH.to=aH.axis.p2c(aH.to);aN.from=aN.axis.p2c(aN.from);aN.to=aN.axis.p2c(aN.to);if(aH.from==aH.to||aN.from==aN.to){L.beginPath();L.strokeStyle=aI.color||T.grid.markingsColor;L.lineWidth=aI.lineWidth||T.grid.markingsLineWidth;L.moveTo(aH.from,aN.from);L.lineTo(aH.to,aN.to);L.stroke()}else{L.fillStyle=aI.color||T.grid.markingsColor;L.fillRect(aH.from,aN.to,aH.to-aH.from,aN.from-aN.to)}}}aQ=p();aS=T.grid.borderWidth;for(var aJ=0;aJ<aQ.length;++aJ){var aG=aQ[aJ],aL=aG.box,aW=aG.tickLength,aT,aR,aV,aP;if(!aG.show||aG.ticks.length==0){continue}L.lineWidth=1;if(aG.direction=="x"){aT=0;if(aW=="full"){aR=(aG.position=="top"?0:al)}else{aR=aL.top-R.top+(aG.position=="top"?aL.height:0)}}else{aR=0;if(aW=="full"){aT=(aG.position=="left"?0:q)}else{aT=aL.left-R.left+(aG.position=="left"?aL.width:0)}}if(!aG.innermost){L.strokeStyle=aG.options.color;L.beginPath();aV=aP=0;if(aG.direction=="x"){aV=q+1}else{aP=al+1}if(L.lineWidth==1){if(aG.direction=="x"){aR=Math.floor(aR)+0.5}else{aT=Math.floor(aT)+0.5}}L.moveTo(aT,aR);L.lineTo(aT+aV,aR+aP);L.stroke()}L.strokeStyle=aG.options.tickColor;L.beginPath();for(aK=0;aK<aG.ticks.length;++aK){var aU=aG.ticks[aK].v;aV=aP=0;if(isNaN(aU)||aU<aG.min||aU>aG.max||(aW=="full"&&((typeof aS=="object"&&aS[aG.position]>0)||aS>0)&&(aU==aG.min||aU==aG.max))){continue}if(aG.direction=="x"){aT=aG.p2c(aU);aP=aW=="full"?-al:aW;if(aG.position=="top"){aP=-aP}}else{aR=aG.p2c(aU);aV=aW=="full"?-q:aW;if(aG.position=="left"){aV=-aV}}if(L.lineWidth==1){if(aG.direction=="x"){aT=Math.floor(aT)+0.5}else{aR=Math.floor(aR)+0.5}}L.moveTo(aT,aR);L.lineTo(aT+aV,aR+aP)}L.stroke()}if(aS){aO=T.grid.borderColor;if(typeof aS=="object"||typeof aO=="object"){if(typeof aS!=="object"){aS={top:aS,right:aS,bottom:aS,left:aS}}if(typeof aO!=="object"){aO={top:aO,right:aO,bottom:aO,left:aO}}if(aS.top>0){L.strokeStyle=aO.top;L.lineWidth=aS.top;L.beginPath();L.moveTo(0-aS.left,0-aS.top/2);L.lineTo(q,0-aS.top/2);L.stroke()}if(aS.right>0){L.strokeStyle=aO.right;L.lineWidth=aS.right;L.beginPath();L.moveTo(q+aS.right/2,0-aS.top);L.lineTo(q+aS.right/2,al);L.stroke()}if(aS.bottom>0){L.strokeStyle=aO.bottom;L.lineWidth=aS.bottom;L.beginPath();L.moveTo(q+aS.right,al+aS.bottom/2);L.lineTo(0,al+aS.bottom/2);L.stroke()}if(aS.left>0){L.strokeStyle=aO.left;L.lineWidth=aS.left;L.beginPath();L.moveTo(0-aS.left/2,al+aS.bottom);L.lineTo(0-aS.left/2,0);L.stroke()}}else{L.lineWidth=aS;L.strokeStyle=T.grid.borderColor;L.strokeRect(-aS/2,-aS/2,q+aS,al+aS)}}L.restore()}function aB(){g.each(p(),function(aR,aH){if(!aH.show||aH.ticks.length==0){return}var aK=aH.box,aJ=aH.direction+"Axis "+aH.direction+aH.n+"Axis",aN="flot-"+aH.direction+"-axis flot-"+aH.direction+aH.n+"-axis "+aJ,aG=aH.options.font||"flot-tick-label tickLabel",aL,aQ,aO,aM,aP;ak.removeText(aN);for(var aI=0;aI<aH.ticks.length;++aI){aL=aH.ticks[aI];if(!aL.label||aL.v<aH.min||aL.v>aH.max){continue}if(aH.direction=="x"){aM="center";aQ=R.left+aH.p2c(aL.v);if(aH.position=="bottom"){aO=aK.top+aK.padding}else{aO=aK.top+aK.height-aK.padding;aP="bottom"}}else{aP="middle";aO=R.top+aH.p2c(aL.v);if(aH.position=="left"){aQ=aK.left+aK.width-aK.padding;aM="right"}else{aQ=aK.left+aK.padding}}ak.addText(aN,aQ,aO,aL.label,aG,null,aM,aP)}})}function ar(aG){if(aG.lines.show){O(aG)}if(aG.bars.show){ab(aG)}if(aG.points.show){ac(aG)}}function O(aJ){function aI(aU,aV,aN,aZ,aY){var a0=aU.points,aO=aU.pointsize,aS=null,aR=null;L.beginPath();for(var aT=aO;aT<a0.length;aT+=aO){var aQ=a0[aT-aO],aX=a0[aT-aO+1],aP=a0[aT],aW=a0[aT+1];if(aQ==null||aP==null){continue}if(aX<=aW&&aX<aY.min){if(aW<aY.min){continue}aQ=(aY.min-aX)/(aW-aX)*(aP-aQ)+aQ;aX=aY.min}else{if(aW<=aX&&aW<aY.min){if(aX<aY.min){continue}aP=(aY.min-aX)/(aW-aX)*(aP-aQ)+aQ;aW=aY.min}}if(aX>=aW&&aX>aY.max){if(aW>aY.max){continue}aQ=(aY.max-aX)/(aW-aX)*(aP-aQ)+aQ;aX=aY.max}else{if(aW>=aX&&aW>aY.max){if(aX>aY.max){continue}aP=(aY.max-aX)/(aW-aX)*(aP-aQ)+aQ;aW=aY.max}}if(aQ<=aP&&aQ<aZ.min){if(aP<aZ.min){continue}aX=(aZ.min-aQ)/(aP-aQ)*(aW-aX)+aX;aQ=aZ.min}else{if(aP<=aQ&&aP<aZ.min){if(aQ<aZ.min){continue}aW=(aZ.min-aQ)/(aP-aQ)*(aW-aX)+aX;aP=aZ.min}}if(aQ>=aP&&aQ>aZ.max){if(aP>aZ.max){continue}aX=(aZ.max-aQ)/(aP-aQ)*(aW-aX)+aX;aQ=aZ.max}else{if(aP>=aQ&&aP>aZ.max){if(aQ>aZ.max){continue}aW=(aZ.max-aQ)/(aP-aQ)*(aW-aX)+aX;aP=aZ.max}}if(aQ!=aS||aX!=aR){L.moveTo(aZ.p2c(aQ)+aV,aY.p2c(aX)+aN)}aS=aP;aR=aW;L.lineTo(aZ.p2c(aP)+aV,aY.p2c(aW)+aN)}L.stroke()}function aK(aN,aV,aU){var a1=aN.points,a0=aN.pointsize,aS=Math.min(Math.max(0,aU.min),aU.max),a2=0,aZ,aY=false,aR=1,aQ=0,aW=0;while(true){if(a0>0&&a2>a1.length+a0){break}a2+=a0;var a4=a1[a2-a0],aP=a1[a2-a0+aR],a3=a1[a2],aO=a1[a2+aR];if(aY){if(a0>0&&a4!=null&&a3==null){aW=a2;a0=-a0;aR=2;continue}if(a0<0&&a2==aQ+a0){L.fill();aY=false;a0=-a0;aR=1;a2=aQ=aW+a0;continue}}if(a4==null||a3==null){continue}if(a4<=a3&&a4<aV.min){if(a3<aV.min){continue}aP=(aV.min-a4)/(a3-a4)*(aO-aP)+aP;a4=aV.min}else{if(a3<=a4&&a3<aV.min){if(a4<aV.min){continue}aO=(aV.min-a4)/(a3-a4)*(aO-aP)+aP;a3=aV.min}}if(a4>=a3&&a4>aV.max){if(a3>aV.max){continue}aP=(aV.max-a4)/(a3-a4)*(aO-aP)+aP;a4=aV.max}else{if(a3>=a4&&a3>aV.max){if(a4>aV.max){continue}aO=(aV.max-a4)/(a3-a4)*(aO-aP)+aP;a3=aV.max}}if(!aY){L.beginPath();L.moveTo(aV.p2c(a4),aU.p2c(aS));aY=true}if(aP>=aU.max&&aO>=aU.max){L.lineTo(aV.p2c(a4),aU.p2c(aU.max));L.lineTo(aV.p2c(a3),aU.p2c(aU.max));continue}else{if(aP<=aU.min&&aO<=aU.min){L.lineTo(aV.p2c(a4),aU.p2c(aU.min));L.lineTo(aV.p2c(a3),aU.p2c(aU.min));continue}}var aT=a4,aX=a3;if(aP<=aO&&aP<aU.min&&aO>=aU.min){a4=(aU.min-aP)/(aO-aP)*(a3-a4)+a4;aP=aU.min}else{if(aO<=aP&&aO<aU.min&&aP>=aU.min){a3=(aU.min-aP)/(aO-aP)*(a3-a4)+a4;aO=aU.min}}if(aP>=aO&&aP>aU.max&&aO<=aU.max){a4=(aU.max-aP)/(aO-aP)*(a3-a4)+a4;aP=aU.max}else{if(aO>=aP&&aO>aU.max&&aP<=aU.max){a3=(aU.max-aP)/(aO-aP)*(a3-a4)+a4;aO=aU.max}}if(a4!=aT){L.lineTo(aV.p2c(aT),aU.p2c(aP))}L.lineTo(aV.p2c(a4),aU.p2c(aP));L.lineTo(aV.p2c(a3),aU.p2c(aO));if(a3!=aX){L.lineTo(aV.p2c(a3),aU.p2c(aO));L.lineTo(aV.p2c(aX),aU.p2c(aO))}}}L.save();L.translate(R.left,R.top);L.lineJoin="round";var aL=aJ.lines.lineWidth,aG=aJ.shadowSize;if(aL>0&&aG>0){L.lineWidth=aG;L.strokeStyle="rgba(0,0,0,0.1)";var aM=Math.PI/18;aI(aJ.datapoints,Math.sin(aM)*(aL/2+aG/2),Math.cos(aM)*(aL/2+aG/2),aJ.xaxis,aJ.yaxis);L.lineWidth=aG/2;aI(aJ.datapoints,Math.sin(aM)*(aL/2+aG/4),Math.cos(aM)*(aL/2+aG/4),aJ.xaxis,aJ.yaxis)}L.lineWidth=aL;L.strokeStyle=aJ.color;var aH=H(aJ.lines,aJ.color,0,al);if(aH){L.fillStyle=aH;aK(aJ.datapoints,aJ.xaxis,aJ.yaxis)}if(aL>0){aI(aJ.datapoints,0,0,aJ.xaxis,aJ.yaxis)}L.restore()}function ac(aJ){function aM(aS,aR,aZ,aP,aX,aY,aV,aO){var aW=aS.points,aN=aS.pointsize;for(var aQ=0;aQ<aW.length;aQ+=aN){var aU=aW[aQ],aT=aW[aQ+1];if(aU==null||aU<aY.min||aU>aY.max||aT<aV.min||aT>aV.max){continue}L.beginPath();aU=aY.p2c(aU);aT=aV.p2c(aT)+aP;if(aO=="circle"){L.arc(aU,aT,aR,0,aX?Math.PI:Math.PI*2,false)}else{aO(L,aU,aT,aR,aX)}L.closePath();if(aZ){L.fillStyle=aZ;L.fill()}L.stroke()}}L.save();L.translate(R.left,R.top);var aL=aJ.points.lineWidth,aH=aJ.shadowSize,aG=aJ.points.radius,aK=aJ.points.symbol;if(aL==0){aL=0.0001}if(aL>0&&aH>0){var aI=aH/2;L.lineWidth=aI;L.strokeStyle="rgba(0,0,0,0.1)";aM(aJ.datapoints,aG,null,aI+aI/2,true,aJ.xaxis,aJ.yaxis,aK);L.strokeStyle="rgba(0,0,0,0.2)";aM(aJ.datapoints,aG,null,aI/2,true,aJ.xaxis,aJ.yaxis,aK)}L.lineWidth=aL;L.strokeStyle=aJ.color;aM(aJ.datapoints,aG,H(aJ.points,aJ.color),0,false,aJ.xaxis,aJ.yaxis,aK);L.restore()}function at(aS,aR,a0,aN,aV,aK,aI,aQ,aP,aZ,aW,aH){var aJ,aY,aO,aU,aL,aG,aT,aM,aX;if(aW){aM=aG=aT=true;aL=false;aJ=a0;aY=aS;aU=aR+aN;aO=aR+aV;if(aY<aJ){aX=aY;aY=aJ;aJ=aX;aL=true;aG=false}}else{aL=aG=aT=true;aM=false;aJ=aS+aN;aY=aS+aV;aO=a0;aU=aR;if(aU<aO){aX=aU;aU=aO;aO=aX;aM=true;aT=false}}if(aY<aQ.min||aJ>aQ.max||aU<aP.min||aO>aP.max){return}if(aJ<aQ.min){aJ=aQ.min;aL=false}if(aY>aQ.max){aY=aQ.max;aG=false}if(aO<aP.min){aO=aP.min;aM=false}if(aU>aP.max){aU=aP.max;aT=false}aJ=aQ.p2c(aJ);aO=aP.p2c(aO);aY=aQ.p2c(aY);aU=aP.p2c(aU);if(aI){aZ.beginPath();aZ.moveTo(aJ,aO);aZ.lineTo(aJ,aU);aZ.lineTo(aY,aU);aZ.lineTo(aY,aO);aZ.fillStyle=aI(aO,aU);aZ.fill()}if(aH>0&&(aL||aG||aT||aM)){aZ.beginPath();aZ.moveTo(aJ,aO+aK);if(aL){aZ.lineTo(aJ,aU+aK)}else{aZ.moveTo(aJ,aU+aK)}if(aT){aZ.lineTo(aY,aU+aK)}else{aZ.moveTo(aY,aU+aK)}if(aG){aZ.lineTo(aY,aO+aK)}else{aZ.moveTo(aY,aO+aK)}if(aM){aZ.lineTo(aJ,aO+aK)}else{aZ.moveTo(aJ,aO+aK)}aZ.stroke()}}function ab(aI){function aH(aO,aN,aQ,aL,aP,aS,aR){var aT=aO.points,aK=aO.pointsize;for(var aM=0;aM<aT.length;aM+=aK){if(aT[aM]==null){continue}at(aT[aM],aT[aM+1],aT[aM+2],aN,aQ,aL,aP,aS,aR,L,aI.bars.horizontal,aI.bars.lineWidth)}}L.save();L.translate(R.left,R.top);L.lineWidth=aI.bars.lineWidth;L.strokeStyle=aI.color;var aG;switch(aI.bars.align){case"left":aG=0;break;case"right":aG=-aI.bars.barWidth;break;case"center":aG=-aI.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aI.bars.align)}var aJ=aI.bars.fill?function(aK,aL){return H(aI.bars,aI.color,aK,aL)}:null;aH(aI.datapoints,aG,aG+aI.bars.barWidth,0,aJ,aI.xaxis,aI.yaxis);L.restore()}function H(aI,aG,aH,aK){var aJ=aI.fill;if(!aJ){return null}if(aI.fillColor){return D(aI.fillColor,aH,aK,aG)}var aL=g.color.parse(aG);aL.a=typeof aJ=="number"?aJ:0.4;aL.normalize();return aL.toString()}function aD(){Y.find(".legend").remove();if(!T.legend.show){return}var aO=[],aL=[],aM=false,aV=T.legend.labelFormatter,aU,aQ;for(var aK=0;aK<B.length;++aK){aU=B[aK];if(aU.label){aQ=aV?aV(aU.label,aU):aU.label;if(aQ){aL.push({label:aQ,color:aU.color})}}}if(T.legend.sorted){if(g.isFunction(T.legend.sorted)){aL.sort(T.legend.sorted)}else{if(T.legend.sorted=="reverse"){aL.reverse()}else{var aJ=T.legend.sorted!="descending";aL.sort(function(aX,aW){return aX.label==aW.label?0:((aX.label<aW.label)!=aJ?1:-1)})}}}for(var aK=0;aK<aL.length;++aK){var aS=aL[aK];if(aK%T.legend.noColumns==0){if(aM){aO.push("</tr>")}aO.push("<tr>");aM=true}aO.push('<td class="legendColorBox"><div style="border:1px solid '+T.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aS.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aS.label+"</td>")}if(aM){aO.push("</tr>")}if(aO.length==0){return}var aT='<table style="font-size:smaller;color:'+T.grid.color+'">'+aO.join("")+"</table>";if(T.legend.container!=null){g(T.legend.container).html(aT)}else{var aP="",aH=T.legend.position,aI=T.legend.margin;if(aI[0]==null){aI=[aI,aI]}if(aH.charAt(0)=="n"){aP+="top:"+(aI[1]+R.top)+"px;"}else{if(aH.charAt(0)=="s"){aP+="bottom:"+(aI[1]+R.bottom)+"px;"}}if(aH.charAt(1)=="e"){aP+="right:"+(aI[0]+R.right)+"px;"}else{if(aH.charAt(1)=="w"){aP+="left:"+(aI[0]+R.left)+"px;"}}var aR=g('<div class="legend">'+aT.replace('style="','style="position:absolute;'+aP+";")+"</div>").appendTo(Y);if(T.legend.backgroundOpacity!=0){var aN=T.legend.backgroundColor;if(aN==null){aN=T.grid.backgroundColor;if(aN&&typeof aN=="string"){aN=g.color.parse(aN)}else{aN=g.color.extract(aR,"background-color")}aN.a=1;aN=aN.toString()}var aG=aR.children();g('<div style="position:absolute;width:'+aG.width()+"px;height:"+aG.height()+"px;"+aP+"background-color:"+aN+';"> </div>').prependTo(aR).css("opacity",T.legend.backgroundOpacity)}}}var ao=[],r=null;function ay(aN,aL,aI){var aT=T.grid.mouseActiveRadius,a5=aT*aT+1,a3=null,aW=false,a1,aZ,aY;for(a1=B.length-1;a1>=0;--a1){if(!aI(B[a1])){continue}var aU=B[a1],aM=aU.xaxis,aK=aU.yaxis,a0=aU.datapoints.points,aV=aM.c2p(aN),aS=aK.c2p(aL),aH=aT/aM.scale,aG=aT/aK.scale;aY=aU.datapoints.pointsize;if(aM.options.inverseTransform){aH=Number.MAX_VALUE}if(aK.options.inverseTransform){aG=Number.MAX_VALUE}if(aU.lines.show||aU.points.show){for(aZ=0;aZ<a0.length;aZ+=aY){var aP=a0[aZ],aO=a0[aZ+1];if(aP==null){continue}if(aP-aV>aH||aP-aV<-aH||aO-aS>aG||aO-aS<-aG){continue}var aR=Math.abs(aM.p2c(aP)-aN),aQ=Math.abs(aK.p2c(aO)-aL),aX=aR*aR+aQ*aQ;if(aX<a5){a5=aX;a3=[a1,aZ/aY]}}}if(aU.bars.show&&!a3){var aJ=aU.bars.align=="left"?0:-aU.bars.barWidth/2,a2=aJ+aU.bars.barWidth;for(aZ=0;aZ<a0.length;aZ+=aY){var aP=a0[aZ],aO=a0[aZ+1],a4=a0[aZ+2];if(aP==null){continue}if(B[a1].bars.horizontal?(aV<=Math.max(a4,aP)&&aV>=Math.min(a4,aP)&&aS>=aO+aJ&&aS<=aO+a2):(aV>=aP+aJ&&aV<=aP+a2&&aS>=Math.min(a4,aO)&&aS<=Math.max(a4,aO))){a3=[a1,aZ/aY]}}}}if(a3){a1=a3[0];aZ=a3[1];aY=B[a1].datapoints.pointsize;return{datapoint:B[a1].datapoints.points.slice(aZ*aY,(aZ+1)*aY),dataIndex:aZ,series:B[a1],seriesIndex:a1}}return null}function h(aG){if(T.grid.hoverable){o("plothover",aG,function(aH){return aH.hoverable!=false})}}function X(aG){if(T.grid.hoverable){o("plothover",aG,function(aH){return false})}}function Q(aG){o("plotclick",aG,function(aH){return aH.clickable!=false})}function o(aH,aG,aI){var aJ=av.offset(),aM=aG.pageX-aJ.left-R.left,aK=aG.pageY-aJ.top-R.top,aO=ag({left:aM,top:aK});aO.pageX=aG.pageX;aO.pageY=aG.pageY;var aP=ay(aM,aK,aI);if(aP){aP.pageX=parseInt(aP.series.xaxis.p2c(aP.datapoint[0])+aJ.left+R.left,10);aP.pageY=parseInt(aP.series.yaxis.p2c(aP.datapoint[1])+aJ.top+R.top,10)}if(T.grid.autoHighlight){for(var aL=0;aL<ao.length;++aL){var aN=ao[aL];if(aN.auto==aH&&!(aP&&aN.series==aP.series&&aN.point[0]==aP.datapoint[0]&&aN.point[1]==aP.datapoint[1])){ap(aN.series,aN.point)}}if(aP){aw(aP.series,aP.datapoint,aH)}}Y.trigger(aH,[aO,aP])}function af(){var aG=T.interaction.redrawOverlayInterval;if(aG==-1){an();return}if(!r){r=setTimeout(an,aG)}}function an(){r=null;aE.save();au.clear();aE.translate(R.left,R.top);var aH,aG;for(aH=0;aH<ao.length;++aH){aG=ao[aH];if(aG.series.bars.show){aq(aG.series,aG.point)}else{am(aG.series,aG.point)}}aE.restore();N(w.drawOverlay,[aE])}function aw(aI,aG,aK){if(typeof aI=="number"){aI=B[aI]}if(typeof aG=="number"){var aJ=aI.datapoints.pointsize;aG=aI.datapoints.points.slice(aJ*aG,aJ*(aG+1))}var aH=V(aI,aG);if(aH==-1){ao.push({series:aI,point:aG,auto:aK});af()}else{if(!aK){ao[aH].auto=false}}}function ap(aI,aG){if(aI==null&&aG==null){ao=[];af();return}if(typeof aI=="number"){aI=B[aI]}if(typeof aG=="number"){var aJ=aI.datapoints.pointsize;aG=aI.datapoints.points.slice(aJ*aG,aJ*(aG+1))}var aH=V(aI,aG);if(aH!=-1){ao.splice(aH,1);af()}}function V(aI,aJ){for(var aG=0;aG<ao.length;++aG){var aH=ao[aG];if(aH.series==aI&&aH.point[0]==aJ[0]&&aH.point[1]==aJ[1]){return aG}}return -1}function am(aG,aM){var aK=aM[0],aI=aM[1],aN=aG.xaxis,aL=aG.yaxis,aO=(typeof aG.highlightColor==="string")?aG.highlightColor:g.color.parse(aG.color).scale("a",0.5).toString();if(aK<aN.min||aK>aN.max||aI<aL.min||aI>aL.max){return}var aJ=aG.points.radius+aG.points.lineWidth/2;aE.lineWidth=aJ;aE.strokeStyle=aO;var aH=1.5*aJ;aK=aN.p2c(aK);aI=aL.p2c(aI);aE.beginPath();if(aG.points.symbol=="circle"){aE.arc(aK,aI,aH,0,2*Math.PI,false)}else{aG.points.symbol(aE,aK,aI,aH,false)}aE.closePath();aE.stroke()}function aq(aJ,aG){var aK=(typeof aJ.highlightColor==="string")?aJ.highlightColor:g.color.parse(aJ.color).scale("a",0.5).toString(),aI=aK,aH=aJ.bars.align=="left"?0:-aJ.bars.barWidth/2;aE.lineWidth=aJ.bars.lineWidth;aE.strokeStyle=aK;at(aG[0],aG[1],aG[2]||0,aH,aH+aJ.bars.barWidth,0,function(){return aI},aJ.xaxis,aJ.yaxis,aE,aJ.bars.horizontal,aJ.bars.lineWidth)}function D(aO,aG,aM,aH){if(typeof aO=="string"){return aO}else{var aN=L.createLinearGradient(0,aM,0,aG);for(var aJ=0,aI=aO.colors.length;aJ<aI;++aJ){var aK=aO.colors[aJ];if(typeof aK!="string"){var aL=g.color.parse(aH);if(aK.brightness!=null){aL=aL.scale("rgb",aK.brightness)}if(aK.opacity!=null){aL.a*=aK.opacity}aK=aL.toString()}aN.addColorStop(aJ/(aI-1),aK)}return aN}}}g.plot=function(o,j,h){var k=new c(g(o),j,h,g.plot.plugins);return k};g.plot.version="0.8.0-beta";g.plot.plugins=[];g.fn.plot=function(j,h){return this.each(function(){g.plot(this,j,h)})};function b(j,h){return h*Math.floor(j/h)}})(jQuery);(function(q,t,z){var B=q([]),w=q.resize=q.extend(q.resize,{}),r,o="setTimeout",p="resize",x=p+"-special-event",A="delay",v="throttleWindow";w[A]=250;w[v]=true;q.event.special[p]={setup:function(){if(!w[v]&&this[o]){return false}var a=q(this);B=B.add(a);q.data(this,x,{w:a.width(),h:a.height()});if(B.length===1){u()}},teardown:function(){if(!w[v]&&this[o]){return false}var a=q(this);B=B.not(a);a.removeData(x);if(!B.length){clearTimeout(r)}},add:function(b){if(!w[v]&&this[o]){return false}var c;function a(f,k,j){var h=q(this),g=q.data(this,x);g.w=k!==z?k:h.width();g.h=j!==z?j:h.height();c.apply(this,arguments)}if(q.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function u(){r=t[o](function(){B.each(function(){var f=q(this),a=f.width(),b=f.height(),c=q.data(this,x);if(a!==c.w||b!==c.h){f.trigger(p,[c.w=a,c.h=b])}});u()},w[A])}})(jQuery,this);(function(b){var a={};function c(h){function g(){var k=h.getPlaceholder();if(k.width()==0||k.height()==0){return}h.resize();h.setupGrid();h.draw()}function j(o,k){o.getPlaceholder().resize(g)}function f(o,k){o.getPlaceholder().unbind("resize",g)}h.hooks.bindEvents.push(j);h.hooks.shutdown.push(f)}b.plot.plugins.push({init:c,options:a,name:"resize",version:"1.0"})})(jQuery);(function(b){var a={series:{stack:null}};function c(h){function f(p,o){var k=null;for(var j=0;j<o.length;++j){if(p==o[j]){break}if(o[j].stack==p.stack){k=o[j]}}return k}function g(H,z,k){if(z.stack==null||z.stack===false){return}var t=f(z,H.getData());if(!t){return}var E=k.pointsize,K=k.points,o=t.datapoints.pointsize,C=t.datapoints.points,w=[],B,A,p,O,N,v,x=z.lines.show,L=z.bars.horizontal,r=E>2&&(L?k.format[2].x:k.format[2].y),q=x&&z.lines.steps,J=true,u=L?1:0,M=L?0:1,I=0,G=0,F,D;while(true){if(I>=K.length){break}F=w.length;if(K[I]==null){for(D=0;D<E;++D){w.push(K[I+D])}I+=E}else{if(G>=C.length){if(!x){for(D=0;D<E;++D){w.push(K[I+D])}}I+=E}else{if(C[G]==null){for(D=0;D<E;++D){w.push(null)}J=true;G+=o}else{B=K[I+u];A=K[I+M];O=C[G+u];N=C[G+M];v=0;if(B==O){for(D=0;D<E;++D){w.push(K[I+D])}w[F+M]+=N;v=N;I+=E;G+=o}else{if(B>O){if(x&&I>0&&K[I-E]!=null){p=A+(K[I-E+M]-A)*(O-B)/(K[I-E+u]-B);w.push(O);w.push(p+N);for(D=2;D<E;++D){w.push(K[I+D])}v=N}G+=o}else{if(J&&x){I+=E;continue}for(D=0;D<E;++D){w.push(K[I+D])}if(x&&G>0&&C[G-o]!=null){v=N+(C[G-o+M]-N)*(B-O)/(C[G-o+u]-O)}w[F+M]+=v;I+=E}}J=false;if(F!=w.length&&r){w[F+2]+=v}}}}if(q&&F!=w.length&&F>0&&w[F]!=null&&w[F]!=w[F-E]&&w[F+1]!=w[F-E+1]){for(D=0;D<E;++D){w[F+E+D]=w[F+D]}w[F+1]=w[F-E+1]}}k.points=w}h.hooks.processDatapoints.push(g)}b.plot.plugins.push({init:c,options:a,name:"stack",version:"1.2"})})(jQuery);!function(f){function h(){return new Date(Date.UTC.apply(Date,arguments))}function b(){var j=new Date();return h(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate())}var a=function(k,j){var o=this;this.element=f(k);this.language=j.language||this.element.data("date-language")||"en";this.language=this.language in g?this.language:this.language.split("-")[0];this.language=this.language in g?this.language:"en";this.isRTL=g[this.language].rtl||false;this.format=c.parseFormat(j.format||this.element.data("date-format")||g[this.language].format||"mm/dd/yyyy");this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this._attachEvents();this.forceParse=true;if("forceParse" in j){this.forceParse=j.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}this.picker=f(c.template).appendTo(this.isInline?this.element:"body").on({click:f.proxy(this.click,this),mousedown:f.proxy(this.mousedown,this)});if(this.isInline){this.picker.addClass("datepicker-inline")}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.isRTL){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}f(document).on("mousedown",function(p){if(f(p.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length===0){o.hide()}});this.autoclose=false;if("autoclose" in j){this.autoclose=j.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in j){this.keyboardNavigation=j.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.viewMode=this.startViewMode=0;switch(j.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1;break}this.todayBtn=(j.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(j.todayHighlight||this.element.data("date-today-highlight")||false);this.calendarWeeks=false;if("calendarWeeks" in j){this.calendarWeeks=j.calendarWeeks}else{if("dateCalendarWeeks" in this.element.data()){this.calendarWeeks=this.element.data("date-calendar-weeks")}}if(this.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(p,q){return parseInt(q)+1})}this.weekStart=((j.weekStart||this.element.data("date-weekstart")||g[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(j.startDate||this.element.data("date-startdate"));this.setEndDate(j.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(j.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};a.prototype={constructor:a,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{keyup:f.proxy(this.update,this),keydown:f.proxy(this.keydown,this),click:f.proxy(this.show,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:f.proxy(this.show,this),keyup:f.proxy(this.update,this),keydown:f.proxy(this.keydown,this)}],[this.component,{click:f.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:f.proxy(this.show,this)}]]}}}for(var j=0,k,o;j<this._events.length;j++){k=this._events[j][0];o=this._events[j][1];k.on(o)}},_detachEvents:function(){for(var j=0,k,o;j<this._events.length;j++){k=this._events[j][0];o=this._events[j][1];k.off(o)}this._events=[]},show:function(j){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.update();this.place();f(window).on("resize",f.proxy(this.place,this));if(j){j.stopPropagation();j.preventDefault()}this.element.trigger({type:"show",date:this.date})},hide:function(j){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide();f(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){f(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.element.data().datepicker},getDate:function(){var j=this.getUTCDate();return new Date(j.getTime()+(j.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(j){this.setUTCDate(new Date(j.getTime()-(j.getTimezoneOffset()*60000)))},setUTCDate:function(j){this.date=j;this.setValue()},setValue:function(){var j=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(j)}this.element.data("date",j)}else{this.element.val(j)}},getFormattedDate:function(j){if(j===undefined){j=this.format}return c.formatDate(this.date,j,this.language)},setStartDate:function(j){this.startDate=j||-Infinity;if(this.startDate!==-Infinity){this.startDate=c.parseDate(this.startDate,this.format,this.language)}this.update();this.updateNavArrows()},setEndDate:function(j){this.endDate=j||Infinity;if(this.endDate!==Infinity){this.endDate=c.parseDate(this.endDate,this.format,this.language)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(j){this.daysOfWeekDisabled=j||[];if(!f.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=f.map(this.daysOfWeekDisabled,function(k){return parseInt(k,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var o=parseInt(this.element.parents().filter(function(){return f(this).css("z-index")!="auto"}).first().css("z-index"))+10;var k=this.component?this.component.offset():this.element.offset();var j=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:k.top+j,left:k.left,zIndex:o})},update:function(){var j,k=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){j=arguments[0];k=true}else{j=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val()}this.date=c.parseDate(j,this.format,this.language);if(k){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var k=this.weekStart,o="<tr>";if(this.calendarWeeks){var j='<th class="cw">&nbsp;</th>';o+=j;this.picker.find(".datepicker-days thead tr:first-child").prepend(j)}while(k<this.weekStart+7){o+='<th class="dow">'+g[this.language].daysMin[(k++)%7]+"</th>"}o+="</tr>";this.picker.find(".datepicker-days thead").append(o)},fillMonths:function(){var k="",j=0;while(j<12){k+='<span class="month">'+g[this.language].monthsShort[j++]+"</span>"}this.picker.find(".datepicker-months td").html(k)},fill:function(){var F=new Date(this.viewDate),v=F.getUTCFullYear(),G=F.getUTCMonth(),z=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,D=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,r=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,A=this.endDate!==Infinity?this.endDate.getUTCMonth():Infinity,t=this.date&&this.date.valueOf(),E=new Date();this.picker.find(".datepicker-days thead th.switch").text(g[this.language].months[G]+" "+v);this.picker.find("tfoot th.today").text(g[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var I=h(v,G-1,28,0,0,0,0),C=c.getDaysInMonth(I.getUTCFullYear(),I.getUTCMonth());I.setUTCDate(C);I.setUTCDate(C-(I.getUTCDay()-this.weekStart+7)%7);var j=new Date(I);j.setUTCDate(j.getUTCDate()+42);j=j.valueOf();var u=[];var x;while(I.valueOf()<j){if(I.getUTCDay()==this.weekStart){u.push("<tr>");if(this.calendarWeeks){var k=new Date(+I+(this.weekStart-I.getUTCDay()-7)%7*86400000),p=new Date(+k+(7+4-k.getUTCDay())%7*86400000),o=new Date(+(o=h(p.getUTCFullYear(),0,1))+(7+4-o.getUTCDay())%7*86400000),w=(p-o)/86400000/7+1;u.push('<td class="cw">'+w+"</td>")}}x="";if(I.getUTCFullYear()<v||(I.getUTCFullYear()==v&&I.getUTCMonth()<G)){x+=" old"}else{if(I.getUTCFullYear()>v||(I.getUTCFullYear()==v&&I.getUTCMonth()>G)){x+=" new"}}if(this.todayHighlight&&I.getUTCFullYear()==E.getFullYear()&&I.getUTCMonth()==E.getMonth()&&I.getUTCDate()==E.getDate()){x+=" today"}if(t&&I.valueOf()==t){x+=" active"}if(I.valueOf()<this.startDate||I.valueOf()>this.endDate||f.inArray(I.getUTCDay(),this.daysOfWeekDisabled)!==-1){x+=" disabled"}u.push('<td class="day'+x+'">'+I.getUTCDate()+"</td>");if(I.getUTCDay()==this.weekEnd){u.push("</tr>")}I.setUTCDate(I.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(u.join(""));var J=this.date&&this.date.getUTCFullYear();var q=this.picker.find(".datepicker-months").find("th:eq(1)").text(v).end().find("span").removeClass("active");if(J&&J==v){q.eq(this.date.getUTCMonth()).addClass("active")}if(v<z||v>r){q.addClass("disabled")}if(v==z){q.slice(0,D).addClass("disabled")}if(v==r){q.slice(A+1).addClass("disabled")}u="";v=parseInt(v/10,10)*10;var H=this.picker.find(".datepicker-years").find("th:eq(1)").text(v+"-"+(v+9)).end().find("td");v-=1;for(var B=-1;B<11;B++){u+='<span class="year'+(B==-1||B==10?" old":"")+(J==v?" active":"")+(v<z||v>r?" disabled":"")+'">'+v+"</span>";v+=1}H.html(u)},updateNavArrows:function(){var o=new Date(this.viewDate),j=o.getUTCFullYear(),k=o.getUTCMonth();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(t){t.stopPropagation();t.preventDefault();var r=f(t.target).closest("span, td, th");if(r.length==1){switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=c.modes[this.viewMode].navStep*(r[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o);break}this.fill();break;case"today":var k=new Date();k=h(k.getFullYear(),k.getMonth(),k.getDate(),0,0,0);this.showMode(-2);var u=this.todayBtn=="linked"?null:"view";this._setDate(k,u);break}break;case"span":if(!r.is(".disabled")){this.viewDate.setUTCDate(1);if(r.is(".month")){var q=r.parent().find("span").index(r);this.viewDate.setUTCMonth(q);this.element.trigger({type:"changeMonth",date:this.viewDate})}else{var p=parseInt(r.text(),10)||0;this.viewDate.setUTCFullYear(p);this.element.trigger({type:"changeYear",date:this.viewDate})}this.showMode(-1);this.fill()}break;case"td":if(r.is(".day")&&!r.is(".disabled")){var j=parseInt(r.text(),10)||1;var p=this.viewDate.getUTCFullYear(),q=this.viewDate.getUTCMonth();if(r.is(".old")){if(q===0){q=11;p-=1}else{q-=1}}else{if(r.is(".new")){if(q==11){q=0;p+=1}else{q+=1}}}this._setDate(h(p,q,j,0,0,0,0))}break}}},_setDate:function(j,o){if(!o||o=="date"){this.date=j}if(!o||o=="view"){this.viewDate=j}this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date});var k;if(this.isInput){k=this.element}else{if(this.component){k=this.element.find("input")}}if(k){k.change();if(this.autoclose&&(!o||o=="date")){this.hide()}}},moveMonth:function(j,k){if(!k){return j}var q=new Date(j.valueOf()),v=q.getUTCDate(),r=q.getUTCMonth(),p=Math.abs(k),u,t;k=k>0?1:-1;if(p==1){t=k==-1?function(){return q.getUTCMonth()==r}:function(){return q.getUTCMonth()!=u};u=r+k;q.setUTCMonth(u);if(u<0||u>11){u=(u+12)%12}}else{for(var o=0;o<p;o++){q=this.moveMonth(q,k)}u=q.getUTCMonth();q.setUTCDate(v);t=function(){return u!=q.getUTCMonth()}}while(t()){q.setUTCDate(--v);q.setUTCMonth(u)}return q},moveYear:function(k,j){return this.moveMonth(k,j*12)},dateWithinRange:function(j){return j>=this.startDate&&j<=this.endDate},keydown:function(u){if(this.picker.is(":not(:visible)")){if(u.keyCode==27){this.show()}return}var p=false,o,k,t,j,r;switch(u.keyCode){case 27:this.hide();u.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}o=u.keyCode==37?-1:1;if(u.ctrlKey){j=this.moveYear(this.date,o);r=this.moveYear(this.viewDate,o)}else{if(u.shiftKey){j=this.moveMonth(this.date,o);r=this.moveMonth(this.viewDate,o)}else{j=new Date(this.date);j.setUTCDate(this.date.getUTCDate()+o);r=new Date(this.viewDate);r.setUTCDate(this.viewDate.getUTCDate()+o)}}if(this.dateWithinRange(j)){this.date=j;this.viewDate=r;this.setValue();this.update();u.preventDefault();p=true}break;case 38:case 40:if(!this.keyboardNavigation){break}o=u.keyCode==38?-1:1;if(u.ctrlKey){j=this.moveYear(this.date,o);r=this.moveYear(this.viewDate,o)}else{if(u.shiftKey){j=this.moveMonth(this.date,o);r=this.moveMonth(this.viewDate,o)}else{j=new Date(this.date);j.setUTCDate(this.date.getUTCDate()+o*7);r=new Date(this.viewDate);r.setUTCDate(this.viewDate.getUTCDate()+o*7)}}if(this.dateWithinRange(j)){this.date=j;this.viewDate=r;this.setValue();this.update();u.preventDefault();p=true}break;case 13:this.hide();u.preventDefault();break;case 9:this.hide();break}if(p){this.element.trigger({type:"changeDate",date:this.date});var q;if(this.isInput){q=this.element}else{if(this.component){q=this.element.find("input")}}if(q){q.change()}}},showMode:function(j){if(j){this.viewMode=Math.max(0,Math.min(2,this.viewMode+j))}this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};f.fn.datepicker=function(k){var j=Array.apply(null,arguments);j.shift();return this.each(function(){var q=f(this),p=q.data("datepicker"),o=typeof k=="object"&&k;if(!p){q.data("datepicker",(p=new a(this,f.extend({},f.fn.datepicker.defaults,o))))}if(typeof k=="string"&&typeof p[k]=="function"){p[k].apply(p,j)}})};f.fn.datepicker.defaults={};f.fn.datepicker.Constructor=a;var g=f.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}};var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(j){return(((j%4===0)&&(j%100!==0))||(j%400===0))},getDaysInMonth:function(j,k){return[31,(c.isLeapYear(j)?29:28),31,30,31,30,31,31,30,31,30,31][k]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(o){var j=o.replace(this.validParts,"\0").split("\0"),k=o.match(this.validParts);if(!j||!j.length||!k||k.length===0){throw new Error("Invalid date format.")}return{separators:j,parts:k}},parseDate:function(p,A,t){if(p instanceof Date){return p}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(p)){var C=/([\-+]\d+)([dmwy])/,r=p.match(/([\-+]\d+)([dmwy])/g),j,q;p=new Date();for(var u=0;u<r.length;u++){j=C.exec(r[u]);q=parseInt(j[1]);switch(j[2]){case"d":p.setUTCDate(p.getUTCDate()+q);break;case"m":p=a.prototype.moveMonth.call(a.prototype,p,q);break;case"w":p.setUTCDate(p.getUTCDate()+q*7);break;case"y":p=a.prototype.moveYear.call(a.prototype,p,q);break}}return h(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),0,0,0)}var r=p&&p.match(this.nonpunctuation)||[],p=new Date(),x={},z=["yyyy","yy","M","MM","m","mm","d","dd"],B={yyyy:function(F,E){return F.setUTCFullYear(E)},yy:function(F,E){return F.setUTCFullYear(2000+E)},m:function(F,E){E-=1;while(E<0){E+=12}E%=12;F.setUTCMonth(E);while(F.getUTCMonth()!=E){F.setUTCDate(F.getUTCDate()-1)}return F},d:function(F,E){return F.setUTCDate(E)}},o,v,j;B.M=B.MM=B.mm=B.m;B.dd=B.d;p=h(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0);var w=A.parts.slice();if(r.length!=w.length){w=f(w).filter(function(E,F){return f.inArray(F,z)!==-1}).toArray()}if(r.length==w.length){for(var u=0,k=w.length;u<k;u++){o=parseInt(r[u],10);j=w[u];if(isNaN(o)){switch(j){case"MM":v=f(g[t].months).filter(function(){var E=this.slice(0,r[u].length),F=r[u].slice(0,E.length);return E==F});o=f.inArray(v[0],g[t].months)+1;break;case"M":v=f(g[t].monthsShort).filter(function(){var E=this.slice(0,r[u].length),F=r[u].slice(0,E.length);return E==F});o=f.inArray(v[0],g[t].monthsShort)+1;break}}x[j]=o}for(var u=0,D;u<z.length;u++){D=z[u];if(D in x&&!isNaN(x[D])){B[D](p,x[D])}}}return p},formatDate:function(j,q,t){var r={d:j.getUTCDate(),D:g[t].daysShort[j.getUTCDay()],DD:g[t].days[j.getUTCDay()],m:j.getUTCMonth()+1,M:g[t].monthsShort[j.getUTCMonth()],MM:g[t].months[j.getUTCMonth()],yy:j.getUTCFullYear().toString().substring(2),yyyy:j.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m;var j=[],p=f.extend([],q.separators);for(var o=0,k=q.parts.length;o<k;o++){if(p.length){j.push(p.shift())}j.push(r[q.parts[o]])}return j.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};c.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+"<tbody></tbody>"+c.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+c.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+c.headTemplate+c.contTemplate+c.footTemplate+"</table></div></div>";f.fn.datepicker.DPGlobal=c}(window.jQuery);!function(b){var a=function(c,g){this.$element=b(c),this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file"),this.$input=this.$element.find(":file");if(this.$input.length===0){return}this.name=this.$input.attr("name")||g.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),this.$hidden.length===0&&(this.$hidden=b('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var f=this.$preview.css("height");this.$preview.css("display")!="inline"&&f!="0px"&&f!="none"&&this.$preview.css("line-height",f),this.original={exists:this.$element.hasClass("fileupload-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",b.proxy(this.trigger,this)),this.listen()};a.prototype={listen:function(){this.$input.on("change.fileupload",b.proxy(this.change,this)),b(this.$input[0].form).on("reset.fileupload",b.proxy(this.reset,this)),this.$remove&&this.$remove.on("click.fileupload",b.proxy(this.clear,this))},change:function(j,f){if(f==="clear"){return}var k=j.target.files!==undefined?j.target.files[0]:j.target.value?{name:j.target.value.replace(/^.+\\/,"")}:null;if(!k){this.clear();return}this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);if(this.type==="image"&&this.$preview.length>0&&(typeof k.type!="undefined"?k.type.match("image.*"):k.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!="undefined"){var h=new FileReader,c=this.$preview,g=this.$element;h.onload=function(o){c.html('<img src="'+o.target.result+'" '+(c.css("max-height")!="none"?'style="max-height: '+c.css("max-height")+';"':"")+" />"),g.addClass("fileupload-exists").removeClass("fileupload-new")},h.readAsDataURL(k)}else{this.$preview.text(k.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(f){this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name","");if(navigator.userAgent.match(/msie/i)){var c=this.$input.clone(!0);this.$input.after(c),this.$input.remove(),this.$input=c}else{this.$input.val("")}this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),f&&(this.$input.trigger("change",["clear"]),f.preventDefault())},reset:function(c){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.original.exists?this.$element.addClass("fileupload-exists").removeClass("fileupload-new"):this.$element.addClass("fileupload-new").removeClass("fileupload-exists")},trigger:function(c){this.$input.trigger("click"),c.preventDefault()}},b.fn.fileupload=function(c){return this.each(function(){var g=b(this),f=g.data("fileupload");f||g.data("fileupload",f=new a(this,c)),typeof c=="string"&&f[c]()})},b.fn.fileupload.Constructor=a,b(document).on("click.fileupload.data-api",'[data-provides="fileupload"]',function(c){var g=b(this);if(g.data("fileupload")){return}g.fileupload(g.data());var f=b(c.target).closest('[data-dismiss="fileupload"],[data-trigger="fileupload"]');f.length>0&&(f.trigger("click.fileupload"),c.preventDefault())})}(window.jQuery);